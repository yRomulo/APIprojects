"use strict";var d=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var r in t)d(e,r,{get:t[r],enumerable:!0})},S=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of A(t))!x.call(e,s)&&s!==r&&d(e,s,{get:()=>t[s],enumerable:!(n=w(t,s))||n.enumerable});return e};var H=e=>S(d({},"__esModule",{value:!0}),e);var D={};C(D,{createPrismaPostgresHttpClient:()=>Q,deserializeRawResult:()=>y});module.exports=H(D);var p={mysql:{encoded:"ZGF0YXNvdXJjZSBkYiB7CiAgICBwcm92aWRlciA9ICJteXNxbCIKICAgIHVybCAgICAgID0gZW52KCJEQVRBQkFTRV9VUkwiKQp9CiAgICAKZ2VuZXJhdG9yIGNsaWVudCB7CiAgICBwcm92aWRlciA9ICJwcmlzbWEtY2xpZW50LWpzIgp9",hash:"8157ef0f68a62b93385f659d0df3eb630f54b49387d67be1e69cc376bc2e0901"},postgres:{encoded:"ZGF0YXNvdXJjZSBkYiB7CiAgICBwcm92aWRlciA9ICJwb3N0Z3JlcyIKICAgIHVybCAgICAgID0gZW52KCJEQVRBQkFTRV9VUkwiKQp9CiAgICAKZ2VuZXJhdG9yIGNsaWVudCB7CiAgICBwcm92aWRlciA9ICJwcmlzbWEtY2xpZW50LWpzIgp9",hash:"54195896aeafa3318ca33f5a8bb44c6b4d89c368cb15288f3bd5ace35a3f9227"},postgresql:{encoded:"ZGF0YXNvdXJjZSBkYiB7CiAgICBwcm92aWRlciA9ICJwb3N0Z3Jlc3FsIgogICAgdXJsICAgICAgPSBlbnYoIkRBVEFCQVNFX1VSTCIpCn0KICAgIApnZW5lcmF0b3IgY2xpZW50IHsKICAgIHByb3ZpZGVyID0gInByaXNtYS1jbGllbnQtanMiCn0=",hash:"d2898eb0d71a62767c6497d5c37718cf28c13e6144b1c97f6849ff0f76e958fb"}};function y(e,t=q){let{columns:r,rows:n,types:s}=e,o=[],c=T(r);for(let a=0,R=n.length;a<R;a++){let u=n[a],i={...c};for(let l=0,P=u.length;l<P;l++){let m=r[l];i[m]=t(u[l],s[l],m)}o.push(i)}return o}function q(e,t,r){return e}function T(e){let t={};for(let r=0,n=e.length;r<n;r++)t[e[r]]=null;return t}var b=["mysql","postgres","postgresql"],g="accelerate.prisma-data.net",h=p;function f(e){let{provider:t}=e;if(t!=="postgresql"&&!b.includes(t))throw new Error(`Invalid provider: ${t}`);let r=I(e);return{execute:v(e,r)}}function I(e){let{host:t,engineHash:r,clientVersion:n,provider:s,apiKey:o}=e,a=`${t===g?"https":"http"}://${t||g}/${n}/${E(s).hash}`,R=e.fetch||fetch,u={Authorization:`Bearer ${o}`,"Prisma-Engine-Hash":r};return i=>R(`${a}/${i.path}`,{body:i.body,headers:u,method:i.method,signal:i.signal})}async function O(e,t,r){let n=await r({body:E(e.provider).encoded,method:"PUT",path:"schema",signal:t?.abortSignal});if(!n.ok){try{console.error(await n.text())}catch{}throw new Error(`Failed to upload schema to query engine: ${n.statusText}`)}}function E(e){return e==="postgresql"?h.postgres:h[e]}async function k(e,t,r){let n=await r({body:JSON.stringify(e),method:"POST",path:"graphql",signal:t?.abortSignal});if(!n.ok){try{console.error(await n.text())}catch{}throw new Error(`Failed to execute query: ${n.statusText}`)}return await n.json()}function v(e,t){let{resultDeserializerFn:r=y}=e,n=null;return async(s,o)=>{try{await(n||=O(e,o,t));let{data:c,errors:a}=await k({action:"queryRaw",query:{arguments:{parameters:s.parameters,query:s.sql},selection:{}}},o,t);return a?[new AggregateError(a,"Errors occurred while executing the query")]:[null,r(c.queryRaw)]}catch(c){return[c]}}}function Q(e){let{url:t,fetch:r,resultDeserializerFn:n}=e,{host:s,searchParams:o}=new URL(t);return f({apiKey:o.get("api_key")??"<missing_api_key>",clientVersion:"6.14.0",engineHash:"717184b7b35ea05dfa71a3236b7af656013e1e49",fetch:r,host:s,provider:"postgres",resultDeserializerFn:n})}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vZGF0YS9wcGcvaW5kZXgudHMiLCAiPGRlZmluZTpBQ0NFTEVSQVRFX1NDSEVNQV9CWV9QUk9WSURFUj4iLCAiLi4vLi4vLi4vZGF0YS9hY2NlbGVyYXRlL2Rlc2VyaWFsaXplci50cyIsICIuLi8uLi8uLi9kYXRhL2FjY2VsZXJhdGUvaHR0cC1jbGllbnQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCB7XG4gIHR5cGUgRGVzZXJpYWxpemVkUmVzcG9uc2UsXG4gIGRlc2VyaWFsaXplUmF3UmVzdWx0LFxuICB0eXBlIFF1ZXJ5SW50cm9zcGVjdGlvbkJ1aWx0aW5UeXBlLFxuICB0eXBlIFJhd1Jlc3BvbnNlLFxufSBmcm9tIFwiLi4vYWNjZWxlcmF0ZS9kZXNlcmlhbGl6ZXJcIjtcblxuaW1wb3J0IHsgUmF3UmVzcG9uc2UgfSBmcm9tIFwiLi4vYWNjZWxlcmF0ZVwiO1xuaW1wb3J0IHtcbiAgdHlwZSBBY2NlbGVyYXRlSHR0cENsaWVudCBhcyBQcmlzbWFQb3N0Z3Jlc0h0dHBDbGllbnQsXG4gIHR5cGUgQWNjZWxlcmF0ZUh0dHBDbGllbnRQYXJhbXMsXG4gIGNyZWF0ZUFjY2VsZXJhdGVIdHRwQ2xpZW50LFxufSBmcm9tIFwiLi4vYWNjZWxlcmF0ZS9odHRwLWNsaWVudFwiO1xuXG4vLyB2YWx1ZXMgaW5qZWN0ZWQgYXQgYnVpbGQgdGltZVxuZGVjbGFyZSBjb25zdCBQUklTTUFfQ0xJRU5UX1ZFUlNJT046IHN0cmluZztcbmRlY2xhcmUgY29uc3QgUFJJU01BX0VOR0lORV9IQVNIOiBzdHJpbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpc21hUG9zdGdyZXNIdHRwQ2xpZW50UGFyYW1zIHtcbiAgLyoqXG4gICAqIFByaXNtYSBQb3N0Z3JlcyBVUkwuXG4gICAqL1xuICB1cmw6IHN0cmluZztcblxuICAvKipcbiAgICogT3B0aW9uYWwgZmV0Y2ggaW1wbGVtZW50YXRpb24uXG4gICAqL1xuICBmZXRjaD86IHR5cGVvZiBnbG9iYWxUaGlzLmZldGNoO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB1c2VkIHRvIGRlc2VyaWFsaXplIHRoZSByZXN1bHRzIG9mIHF1ZXJpZXMuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSByZXN1bHRzIGFyZSBwYXNzZWQgdG8gYGRlc2VyaWFsaXplUmF3UmVzdWx0YC5cbiAgICovXG4gIHJlc3VsdERlc2VyaWFsaXplckZuPzogKHRoaXM6IHZvaWQsIHJlc3BvbnNlOiBSYXdSZXNwb25zZSkgPT4gdW5rbm93bltdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJpc21hUG9zdGdyZXNIdHRwQ2xpZW50KHByb3BzOiBQcmlzbWFQb3N0Z3Jlc0h0dHBDbGllbnRQYXJhbXMpOiBQcmlzbWFQb3N0Z3Jlc0h0dHBDbGllbnQge1xuICBjb25zdCB7IHVybCwgZmV0Y2gsIHJlc3VsdERlc2VyaWFsaXplckZuIH0gPSBwcm9wcztcbiAgY29uc3QgeyBob3N0LCBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwodXJsKTtcblxuICByZXR1cm4gY3JlYXRlQWNjZWxlcmF0ZUh0dHBDbGllbnQoe1xuICAgIGFwaUtleTogc2VhcmNoUGFyYW1zLmdldChcImFwaV9rZXlcIikgPz8gXCI8bWlzc2luZ19hcGlfa2V5PlwiLFxuICAgIGNsaWVudFZlcnNpb246IFBSSVNNQV9DTElFTlRfVkVSU0lPTixcbiAgICBlbmdpbmVIYXNoOiBQUklTTUFfRU5HSU5FX0hBU0gsXG4gICAgZmV0Y2gsXG4gICAgaG9zdCxcbiAgICBwcm92aWRlcjogXCJwb3N0Z3Jlc1wiLFxuICAgIHJlc3VsdERlc2VyaWFsaXplckZuLFxuICAgIC8vIGVuc3VyZXMgdGhhdCB3ZSBkb24ndCBmb3JnZXQgdG8gdXBkYXRlIHdoZW4gd2UgYWRkIG5ldyBrZXlzIG9uIHRoZSBvdGhlciBzaWRlLCBldmVuIHdpdGggb3B0aW9uYWwgb25lc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVkdW5kYW50LXR5cGUtY29uc3RpdHVlbnRzXG4gIH0gc2F0aXNmaWVzIHsgW0sgaW4ga2V5b2YgQWNjZWxlcmF0ZUh0dHBDbGllbnRQYXJhbXMgJiBzdHJpbmddOiBBY2NlbGVyYXRlSHR0cENsaWVudFBhcmFtc1tLXSB8IHVuZGVmaW5lZCB9KTtcbn1cbiIsICIiLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU1RPTEVOIEFORCBBTFRFUkVEIEZST00gaHR0cHM6Ly9naXRodWIuY29tL3ByaXNtYS9wcmlzbWEvYmxvYi8wNzkzMmFlMTgxMzIzODFiYjg0ZGI4ODlhOWRjYWQwZTZjOWU2YTY4L3BhY2thZ2VzL2NsaWVudC9zcmMvcnVudGltZS91dGlscy9kZXNlcmlhbGl6ZVJhd1Jlc3VsdHMudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplUmF3UmVzdWx0KFxuICByZXNwb25zZTogUmF3UmVzcG9uc2UsXG4gIHZhbHVlRGVzZXJpYWxpemVyRm46IChcbiAgICB2YWx1ZTogdW5rbm93bixcbiAgICB0eXBlOiBRdWVyeUludHJvc3BlY3Rpb25CdWlsdGluVHlwZSxcbiAgICBjb2x1bW46IHN0cmluZyxcbiAgKSA9PiB1bmtub3duID0gZGVzZXJpYWxpemVWYWx1ZSxcbik6IERlc2VyaWFsaXplZFJlc3BvbnNlIHtcbiAgY29uc3QgeyBjb2x1bW5zLCByb3dzLCB0eXBlcyB9ID0gcmVzcG9uc2U7XG5cbiAgY29uc3QgZGVzZXJpYWxpemVkUmVzcG9uc2U6IERlc2VyaWFsaXplZFJlc3BvbnNlID0gW107XG5cbiAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2JyaWFuYy9ub2RlLXBvc3RncmVzL2lzc3Vlcy8zMDQyXG4gIGNvbnN0IHByZWJ1aWx0RW1wdHlPYmplY3QgPSBjcmVhdGVQcmVidWlsdEVtcHR5UmVzdWx0T2JqZWN0KGNvbHVtbnMpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSByb3dzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3Qgcm93ID0gcm93c1tpXSE7XG5cbiAgICBjb25zdCBtYXBwZWRSb3cgPSB7IC4uLnByZWJ1aWx0RW1wdHlPYmplY3QgfSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuICAgIGZvciAobGV0IGogPSAwLCBsZW4gPSByb3cubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IGNvbHVtbnNbal0hO1xuXG4gICAgICBtYXBwZWRSb3dbY29sdW1uXSA9IHZhbHVlRGVzZXJpYWxpemVyRm4ocm93W2pdLCB0eXBlc1tqXSEsIGNvbHVtbik7XG4gICAgfVxuXG4gICAgZGVzZXJpYWxpemVkUmVzcG9uc2UucHVzaChtYXBwZWRSb3cpO1xuICB9XG5cbiAgcmV0dXJuIGRlc2VyaWFsaXplZFJlc3BvbnNlO1xufVxuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVZhbHVlKHZhbHVlOiB1bmtub3duLCBfdHlwZTogUXVlcnlJbnRyb3NwZWN0aW9uQnVpbHRpblR5cGUsIF9jb2x1bW46IHN0cmluZyk6IHVua25vd24ge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB0eXBlIERlc2VyaWFsaXplZFJlc3BvbnNlID0gQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+O1xuXG5mdW5jdGlvbiBjcmVhdGVQcmVidWlsdEVtcHR5UmVzdWx0T2JqZWN0KGNvbHVtbnM6IHN0cmluZ1tdKTogUmVjb3JkPHN0cmluZywgbnVsbD4ge1xuICBjb25zdCByb3c6IFJlY29yZDxzdHJpbmcsIG51bGw+ID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvbHVtbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByb3dbY29sdW1uc1tpXSFdID0gbnVsbDtcbiAgfVxuXG4gIHJldHVybiByb3c7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmF3UmVzcG9uc2Uge1xuICBjb2x1bW5zOiBzdHJpbmdbXTtcbiAgdHlwZXM6IFF1ZXJ5SW50cm9zcGVjdGlvbkJ1aWx0aW5UeXBlW107XG4gIHJvd3M6IHVua25vd25bXVtdO1xufVxuXG5leHBvcnQgdHlwZSBRdWVyeUludHJvc3BlY3Rpb25CdWlsdGluVHlwZSA9XG4gIHwgXCJpbnRcIlxuICB8IFwiYmlnaW50XCJcbiAgfCBcImZsb2F0XCJcbiAgfCBcImRvdWJsZVwiXG4gIHwgXCJzdHJpbmdcIlxuICB8IFwiZW51bVwiXG4gIHwgXCJieXRlc1wiXG4gIHwgXCJib29sXCJcbiAgfCBcImNoYXJcIlxuICB8IFwiZGVjaW1hbFwiXG4gIHwgXCJqc29uXCJcbiAgfCBcInhtbFwiXG4gIHwgXCJ1dWlkXCJcbiAgfCBcImRhdGV0aW1lXCJcbiAgfCBcImRhdGVcIlxuICB8IFwidGltZVwiXG4gIHwgXCJpbnQtYXJyYXlcIlxuICB8IFwiYmlnaW50LWFycmF5XCJcbiAgfCBcImZsb2F0LWFycmF5XCJcbiAgfCBcImRvdWJsZS1hcnJheVwiXG4gIHwgXCJzdHJpbmctYXJyYXlcIlxuICB8IFwiY2hhci1hcnJheVwiXG4gIHwgXCJieXRlcy1hcnJheVwiXG4gIHwgXCJib29sLWFycmF5XCJcbiAgfCBcImRlY2ltYWwtYXJyYXlcIlxuICB8IFwianNvbi1hcnJheVwiXG4gIHwgXCJ4bWwtYXJyYXlcIlxuICB8IFwidXVpZC1hcnJheVwiXG4gIHwgXCJkYXRldGltZS1hcnJheVwiXG4gIHwgXCJkYXRlLWFycmF5XCJcbiAgfCBcInRpbWUtYXJyYXlcIlxuICB8IFwibnVsbFwiXG4gIHwgXCJ1bmtub3duXCI7XG4iLCAiaW1wb3J0IHR5cGUgeyBKc29uQmF0Y2hRdWVyeSwgSnNvblF1ZXJ5IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50L3J1bnRpbWUvbGlicmFyeVwiO1xuXG5pbXBvcnQgdHlwZSB7IEV4ZWN1dGVPcHRpb25zLCBFeGVjdXRvciB9IGZyb20gXCIuLi9leGVjdXRvclwiO1xuaW1wb3J0IHR5cGUgeyBRdWVyeSwgUXVlcnlSZXN1bHQgfSBmcm9tIFwiLi4vcXVlcnlcIjtcbmltcG9ydCB0eXBlIHsgRWl0aGVyIH0gZnJvbSBcIi4uL3R5cGUtdXRpbHNcIjtcbmltcG9ydCB7IGRlc2VyaWFsaXplUmF3UmVzdWx0LCB0eXBlIFJhd1Jlc3BvbnNlIH0gZnJvbSBcIi4vZGVzZXJpYWxpemVyXCI7XG5cbmV4cG9ydCBjb25zdCBTVVBQT1JURURfQUNDRUxFUkFURV9QUk9WSURFUlMgPSBbXCJteXNxbFwiLCBcInBvc3RncmVzXCIsIFwicG9zdGdyZXNxbFwiXSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFN1cHBvcnRlZEFjY2VsZXJhdGVQcm92aWRlciA9ICh0eXBlb2YgU1VQUE9SVEVEX0FDQ0VMRVJBVEVfUFJPVklERVJTKVtudW1iZXJdO1xuXG4vKiogdmFsdWUgaW5qZWN0ZWQgYXQgYnVpbGQgdGltZSAqL1xuZGVjbGFyZSBjb25zdCBBQ0NFTEVSQVRFX1NDSEVNQV9CWV9QUk9WSURFUjogUmVjb3JkPFN1cHBvcnRlZEFjY2VsZXJhdGVQcm92aWRlciwgeyBlbmNvZGVkOiBzdHJpbmc7IGhhc2g6IHN0cmluZyB9PjtcblxuZXhwb3J0IHR5cGUgSnNvblJlcXVlc3QgPSBKc29uUXVlcnkgfCBKc29uQmF0Y2hRdWVyeTtcblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeVJhd1Jlc3VsdCB7XG4gIGRhdGE6IHtcbiAgICBxdWVyeVJhdzogUmF3UmVzcG9uc2U7XG4gIH07XG4gIGVycm9ycz86IHVua25vd25bXTtcbn1cblxuY29uc3QgQUNDRUxFUkFURV9IT1NUID0gXCJhY2NlbGVyYXRlLnByaXNtYS1kYXRhLm5ldFwiO1xuZXhwb3J0IGNvbnN0IFNDSEVNQV9CWV9QUk9WSURFUiA9IEFDQ0VMRVJBVEVfU0NIRU1BX0JZX1BST1ZJREVSO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFjY2VsZXJhdGVIdHRwQ2xpZW50UGFyYW1zIHtcbiAgLyoqXG4gICAqIEFjY2VsZXJhdGUgQVBJIGtleS5cbiAgICovXG4gIGFwaUtleTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBmZXRjaCBpbXBsZW1lbnRhdGlvbi5cbiAgICovXG4gIGZldGNoPzogdHlwZW9mIGdsb2JhbFRoaXMuZmV0Y2g7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGhvc3QuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIGBhY2NlbGVyYXRlLnByaXNtYS1kYXRhLm5ldGAuXG4gICAqL1xuICBob3N0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBEYXRhYmFzZSBwcm92aWRlci5cbiAgICovXG4gIHByb3ZpZGVyOiBTdXBwb3J0ZWRBY2NlbGVyYXRlUHJvdmlkZXIgfCBcInBvc3RncmVzcWxcIjtcblxuICAvKipcbiAgICogUHJpc21hIEVuZ2luZSBIYXNoIChlZy4gMTczZjhkNTRmOGQ1MmU2OTJjN2UyN2U3MmE4ODMxNGVjN2FlZmY2MClcbiAgICovXG4gIGVuZ2luZUhhc2g6IHN0cmluZztcblxuICAvKipcbiAgICogUHJpc21hIENsaWVudCBWZXJzaW9uIChlZy4gNi41LjApLlxuICAgKi9cbiAgY2xpZW50VmVyc2lvbjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB1c2VkIHRvIGRlc2VyaWFsaXplIHRoZSByZXN1bHRzIG9mIHF1ZXJpZXMuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSByZXN1bHRzIGFyZSBwYXNzZWQgdG8gYGRlc2VyaWFsaXplUmF3UmVzdWx0YC5cbiAgICovXG4gIHJlc3VsdERlc2VyaWFsaXplckZuPzogKHRoaXM6IHZvaWQsIHJlc3BvbnNlOiBSYXdSZXNwb25zZSkgPT4gdW5rbm93bltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFjY2VsZXJhdGVIdHRwQ2xpZW50IGV4dGVuZHMgRXhlY3V0b3Ige1xuICBleGVjdXRlPFQ+KHRoaXM6IHZvaWQsIHF1ZXJ5OiBRdWVyeTxUPiwgb3B0aW9ucz86IEV4ZWN1dGVPcHRpb25zKTogUHJvbWlzZTxFaXRoZXI8RXJyb3IsIFF1ZXJ5UmVzdWx0PFF1ZXJ5PFQ+Pj4+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWNjZWxlcmF0ZUh0dHBDbGllbnQocHJvcHM6IEFjY2VsZXJhdGVIdHRwQ2xpZW50UGFyYW1zKTogQWNjZWxlcmF0ZUh0dHBDbGllbnQge1xuICBjb25zdCB7IHByb3ZpZGVyIH0gPSBwcm9wcztcblxuICBpZiAocHJvdmlkZXIgIT09IFwicG9zdGdyZXNxbFwiICYmICFTVVBQT1JURURfQUNDRUxFUkFURV9QUk9WSURFUlMuaW5jbHVkZXMocHJvdmlkZXIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb3ZpZGVyOiAke3Byb3ZpZGVyfWApO1xuICB9XG5cbiAgY29uc3Qgc2VuZEFjY2VsZXJhdGVSZXF1ZXN0ID0gZ2V0U2VuZEFjY2VsZXJhdGVSZXF1ZXN0Rm4ocHJvcHMpO1xuXG4gIHJldHVybiB7XG4gICAgZXhlY3V0ZTogZ2V0U2VuZFF1ZXJ5UmVxdWVzdEZuKHByb3BzLCBzZW5kQWNjZWxlcmF0ZVJlcXVlc3QpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTZW5kQWNjZWxlcmF0ZVJlcXVlc3RGbihcbiAgcHJvcHM6IEFjY2VsZXJhdGVIdHRwQ2xpZW50UGFyYW1zLFxuKTogKHJlcXVlc3Q6IFJlcXVlc3RJbml0ICYgeyBwYXRoOiBzdHJpbmc7IHNpZ25hbD86IEFib3J0U2lnbmFsIH0pID0+IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgY29uc3QgeyBob3N0LCBlbmdpbmVIYXNoLCBjbGllbnRWZXJzaW9uLCBwcm92aWRlciwgYXBpS2V5IH0gPSBwcm9wcztcbiAgY29uc3QgcHJvdG9jb2wgPSBob3N0ID09PSBBQ0NFTEVSQVRFX0hPU1QgPyBcImh0dHBzXCIgOiBcImh0dHBcIjtcbiAgY29uc3QgYmFzZVVybCA9IGAke3Byb3RvY29sfTovLyR7aG9zdCB8fCBBQ0NFTEVSQVRFX0hPU1R9LyR7Y2xpZW50VmVyc2lvbn0vJHtnZXRTY2hlbWFCeVByb3ZpZGVyKHByb3ZpZGVyKS5oYXNofWA7XG5cbiAgY29uc3QgZmV0Y2hGbiA9IHByb3BzLmZldGNoIHx8IGZldGNoO1xuICBjb25zdCBoZWFkZXJzID0ge1xuICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthcGlLZXl9YCxcbiAgICBcIlByaXNtYS1FbmdpbmUtSGFzaFwiOiBlbmdpbmVIYXNoLFxuICB9IGFzIGNvbnN0O1xuXG4gIHJldHVybiAocmVxdWVzdCkgPT5cbiAgICBmZXRjaEZuKGAke2Jhc2VVcmx9LyR7cmVxdWVzdC5wYXRofWAsIHtcbiAgICAgIGJvZHk6IHJlcXVlc3QuYm9keSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbCxcbiAgICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2VuZFNjaGVtYVJlcXVlc3QoXG4gIHByb3BzOiBBY2NlbGVyYXRlSHR0cENsaWVudFBhcmFtcyxcbiAgb3B0aW9uczogRXhlY3V0ZU9wdGlvbnMgfCB1bmRlZmluZWQsXG4gIHNlbmRSZXF1ZXN0OiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRTZW5kQWNjZWxlcmF0ZVJlcXVlc3RGbj4sXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUmVxdWVzdCh7XG4gICAgYm9keTogZ2V0U2NoZW1hQnlQcm92aWRlcihwcm9wcy5wcm92aWRlcikuZW5jb2RlZCxcbiAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgcGF0aDogXCJzY2hlbWFcIixcbiAgICBzaWduYWw6IG9wdGlvbnM/LmFib3J0U2lnbmFsLFxuICB9KTtcblxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIG5vb3BcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBsb2FkIHNjaGVtYSB0byBxdWVyeSBlbmdpbmU6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTY2hlbWFCeVByb3ZpZGVyKFxuICBwcm92aWRlcjogU3VwcG9ydGVkQWNjZWxlcmF0ZVByb3ZpZGVyIHwgXCJwb3N0Z3Jlc3FsXCIsXG4pOiAodHlwZW9mIFNDSEVNQV9CWV9QUk9WSURFUilba2V5b2YgdHlwZW9mIFNDSEVNQV9CWV9QUk9WSURFUl0ge1xuICBpZiAocHJvdmlkZXIgPT09IFwicG9zdGdyZXNxbFwiKSB7XG4gICAgcmV0dXJuIFNDSEVNQV9CWV9QUk9WSURFUltcInBvc3RncmVzXCJdO1xuICB9XG5cbiAgcmV0dXJuIFNDSEVNQV9CWV9QUk9WSURFUltwcm92aWRlcl07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRQcmlzbWFPcm1SZXF1ZXN0PFI+KFxuICByZXF1ZXN0OiBKc29uUmVxdWVzdCxcbiAgb3B0aW9uczogRXhlY3V0ZU9wdGlvbnMgfCB1bmRlZmluZWQsXG4gIHNlbmRBY2NlbGVyYXRlUmVxdWVzdDogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0U2VuZEFjY2VsZXJhdGVSZXF1ZXN0Rm4+LFxuKTogUHJvbWlzZTxSPiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZEFjY2VsZXJhdGVSZXF1ZXN0KHtcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSxcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHBhdGg6IFwiZ3JhcGhxbFwiLFxuICAgIHNpZ25hbDogb3B0aW9ucz8uYWJvcnRTaWduYWwsXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5lcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gbm9vcFxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBleGVjdXRlIHF1ZXJ5OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICByZXR1cm4gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgUjtcbn1cblxuZnVuY3Rpb24gZ2V0U2VuZFF1ZXJ5UmVxdWVzdEZuKFxuICBwcm9wczogQWNjZWxlcmF0ZUh0dHBDbGllbnRQYXJhbXMsXG4gIHNlbmRBY2NlbGVyYXRlUmVxdWVzdDogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0U2VuZEFjY2VsZXJhdGVSZXF1ZXN0Rm4+LFxuKTogRXhlY3V0b3JbXCJleGVjdXRlXCJdIHtcbiAgY29uc3QgeyByZXN1bHREZXNlcmlhbGl6ZXJGbiA9IGRlc2VyaWFsaXplUmF3UmVzdWx0IH0gPSBwcm9wcztcbiAgbGV0IHNjaGVtYVJlcXVlc3Q6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcblxuICByZXR1cm4gYXN5bmMgKHF1ZXJ5LCBvcHRpb25zKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IChzY2hlbWFSZXF1ZXN0IHx8PSBzZW5kU2NoZW1hUmVxdWVzdChwcm9wcywgb3B0aW9ucywgc2VuZEFjY2VsZXJhdGVSZXF1ZXN0KSk7XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3JzIH0gPSBhd2FpdCBzZW5kUHJpc21hT3JtUmVxdWVzdDxRdWVyeVJhd1Jlc3VsdD4oXG4gICAgICAgIHtcbiAgICAgICAgICBhY3Rpb246IFwicXVlcnlSYXdcIixcbiAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHF1ZXJ5LnBhcmFtZXRlcnMgYXMgbmV2ZXJbXSxcbiAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LnNxbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3Rpb246IHt9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHNlbmRBY2NlbGVyYXRlUmVxdWVzdCxcbiAgICAgICk7XG5cbiAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgcmV0dXJuIFtuZXcgQWdncmVnYXRlRXJyb3IoZXJyb3JzLCBcIkVycm9ycyBvY2N1cnJlZCB3aGlsZSBleGVjdXRpbmcgdGhlIHF1ZXJ5XCIpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtudWxsLCByZXN1bHREZXNlcmlhbGl6ZXJGbihkYXRhLnF1ZXJ5UmF3KSBhcyBRdWVyeVJlc3VsdDx0eXBlb2YgcXVlcnk+XTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgcmV0dXJuIFtlcnJvciBhcyBFcnJvcl07XG4gICAgfVxuICB9O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogInlhQUFBLElBQUFBLEVBQUEsR0FBQUMsRUFBQUQsRUFBQSxvQ0FBQUUsRUFBQSx5QkFBQUMsSUFBQSxlQUFBQyxFQUFBSixHQ0FBLElBQUFLLEVBQUEsQ0FBQyxNQUFRLENBQUMsUUFBVSx1TEFBdUwsS0FBTyxrRUFBa0UsRUFBRSxTQUFXLENBQUMsUUFBVSwyTEFBMkwsS0FBTyxrRUFBa0UsRUFBRSxXQUFhLENBQUMsUUFBVSwrTEFBK0wsS0FBTyxrRUFBa0UsQ0FBQyxFQ0k1MEIsU0FBU0MsRUFDZEMsRUFDQUMsRUFJZUMsRUFDTyxDQUN0QixHQUFNLENBQUUsUUFBQUMsRUFBUyxLQUFBQyxFQUFNLE1BQUFDLENBQU0sRUFBSUwsRUFFM0JNLEVBQTZDLENBQUMsRUFHOUNDLEVBQXNCQyxFQUFnQ0wsQ0FBTyxFQUVuRSxRQUFTTSxFQUFJLEVBQUdDLEVBQU1OLEVBQUssT0FBUUssRUFBSUMsRUFBS0QsSUFBSyxDQUMvQyxJQUFNRSxFQUFNUCxFQUFLSyxDQUFDLEVBRVpHLEVBQVksQ0FBRSxHQUFHTCxDQUFvQixFQUUzQyxRQUFTTSxFQUFJLEVBQUdILEVBQU1DLEVBQUksT0FBUUUsRUFBSUgsRUFBS0csSUFBSyxDQUM5QyxJQUFNQyxFQUFTWCxFQUFR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QU9DLEVBQU9QLElBQVksQ0FDL0IsR0FBSSxDQUNGLE1BQU9NLElBQWtCUCxFQUFrQmQsRUFBT2UsRUFBU2IsQ0FBcUIsR0FFaEYsR0FBTSxDQUFFLEtBQUFxQixFQUFNLE9BQUFDLENBQU8sRUFBSSxNQUFNTixFQUM3QixDQUNFLE9BQVEsV0FDUixNQUFPLENBQ0wsVUFBVyxDQUNULFdBQVlJLEVBQU0sV0FDbEIsTUFBT0EsRUFBTSxHQUNmLEVBQ0EsVUFBVyxDQUFDLENBQ2QsQ0FDRixFQUNBUCxFQUNBYixDQUNGLEVBRUEsT0FBSXNCLEVBQ0ssQ0FBQyxJQUFJLGVBQWVBLEVBQVEsMkNBQTJDLENBQUMsRUFHMUUsQ0FBQyxLQUFNTCxFQUFxQkksRUFBSyxRQUFRLENBQThCLENBQ2hGLE9BQVNFLEVBQWdCLENBQ3ZCLE1BQU8sQ0FBQ0EsQ0FBYyxDQUN4QixDQUNGLENBQ0YsQ0hoS08sU0FBU0MsRUFBK0JDLEVBQWlFLENBQzlHLEdBQU0sQ0FBRSxJQUFBQyxFQUFLLE1BQUFDLEVBQU8scUJBQUFDLENBQXFCLEVBQUlILEVBQ3ZDLENBQUUsS0FBQUksRUFBTSxhQUFBQyxDQUFhLEVBQUksSUFBSSxJQUFJSixDQUFHLEVBRTFDLE9BQU9LLEVBQTJCLENBQ2hDLE9BQVFELEVBQWEsSUFBSSxTQUFTLEdBQUssb0JBQ3ZDLGNBQWUsU0FDZixXQUFZLDJDQUNaLE1BQUFILEVBQ0EsS0FBQUUsRUFDQSxTQUFVLFdBQ1YscUJBQUFELENBR0YsQ0FBMkcsQ0FDN0ciLAogICJuYW1lcyI6IFsicHBnX2V4cG9ydHMiLCAiX19leHBvcnQiLCAiY3JlYXRlUHJpc21hUG9zdGdyZXNIdHRwQ2xpZW50IiwgImRlc2VyaWFsaXplUmF3UmVzdWx0IiwgIl9fdG9Db21tb25KUyIsICJkZWZpbmVfQUNDRUxFUkFURV9TQ0hFTUFfQllfUFJPVklERVJfZGVmYXVsdCIsICJkZXNlcmlhbGl6ZVJhd1Jlc3VsdCIsICJyZXNwb25zZSIsICJ2YWx1ZURlc2VyaWFsaXplckZuIiwgImRlc2VyaWFsaXplVmFsdWUiLCAiY29sdW1ucyIsICJyb3dzIiwgInR5cGVzIiwgImRlc2VyaWFsaXplZFJlc3BvbnNlIiwgInByZWJ1aWx0RW1wdHlPYmplY3QiLCAiY3JlYXRlUHJlYnVpbHRFbXB0eVJlc3VsdE9iamVjdCIsICJpIiwgImxlbiIsICJyb3ciLCAibWFwcGVkUm93IiwgImoiLCAiY29sdW1uIiwgInZhbHVlIiwgIl90eXBlIiwgIl9jb2x1bW4iLCAiU1VQUE9SVEVEX0FDQ0VMRVJBVEVfUFJPVklERVJTIiwgIkFDQ0VMRVJBVEVfSE9TVCIsICJTQ0hFTUFfQllfUFJPVklERVIiLCAiZGVmaW5lX0FDQ0VMRVJBVEVfU0NIRU1BX0JZX1BST1ZJREVSX2RlZmF1bHQiLCAiY3JlYXRlQWNjZWxlcmF0ZUh0dHBDbGllbnQiLCAicHJvcHMiLCAicHJvdmlkZXIiLCAic2VuZEFjY2VsZXJhdGVSZXF1ZXN0IiwgImdldFNlbmRBY2NlbGVyYXRlUmVxdWVzdEZuIiwgImdldFNlbmRRdWVyeVJlcXVlc3RGbiIsICJob3N0IiwgImVuZ2luZUhhc2giLCAiY2xpZW50VmVyc2lvbiIsICJhcGlLZXkiLCAiYmFzZVVybCIsICJnZXRTY2hlbWFCeVByb3ZpZGVyIiwgImZldGNoRm4iLCAiaGVhZGVycyIsICJyZXF1ZXN0IiwgInNlbmRTY2hlbWFSZXF1ZXN0IiwgIm9wdGlvbnMiLCAic2VuZFJlcXVlc3QiLCAicmVzcG9uc2UiLCAic2VuZFByaXNtYU9ybVJlcXVlc3QiLCAicmVzdWx0RGVzZXJpYWxpemVyRm4iLCAiZGVzZXJpYWxpemVSYXdSZXN1bHQiLCAic2NoZW1hUmVxdWVzdCIsICJxdWVyeSIsICJkYXRhIiwgImVycm9ycyIsICJlcnJvciIsICJjcmVhdGVQcmlzbWFQb3N0Z3Jlc0h0dHBDbGllbnQiLCAicHJvcHMiLCAidXJsIiwgImZldGNoIiwgInJlc3VsdERlc2VyaWFsaXplckZuIiwgImhvc3QiLCAic2VhcmNoUGFyYW1zIiwgImNyZWF0ZUFjY2VsZXJhdGVIdHRwQ2xpZW50Il0KfQo=