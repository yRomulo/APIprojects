var Kl=Object.create;var ar=Object.defineProperty;var zl=Object.getOwnPropertyDescriptor;var Zl=Object.getOwnPropertyNames;var Yl=Object.getPrototypeOf,Xl=Object.prototype.hasOwnProperty;var pe=(e,t)=>()=>(e&&(t=e(e=0)),t);var re=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Et=(e,t)=>{for(var r in t)ar(e,r,{get:t[r],enumerable:!0})},Fi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Zl(t))!Xl.call(e,i)&&i!==r&&ar(e,i,{get:()=>t[i],enumerable:!(n=zl(t,i))||n.enumerable});return e};var Ne=(e,t,r)=>(r=e!=null?Kl(Yl(e)):{},Fi(t||!e||!e.__esModule?ar(r,"default",{value:e,enumerable:!0}):r,e)),eu=e=>Fi(ar({},"__esModule",{value:!0}),e);function yn(e,t){if(t=t.toLowerCase(),t==="utf8"||t==="utf-8")return new h(iu.encode(e));if(t==="base64"||t==="base64url")return e=e.replace(/-/g,"+").replace(/_/g,"/"),e=e.replace(/[^A-Za-z0-9+/]/g,""),new h([...atob(e)].map(r=>r.charCodeAt(0)));if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return new h([...e].map(r=>r.charCodeAt(0)));if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let r=new h(e.length*2),n=new DataView(r.buffer);for(let i=0;i<e.length;i++)n.setUint16(i*2,e.charCodeAt(i),!0);return r}if(t==="hex"){let r=new h(e.length/2);for(let n=0,i=0;i<e.length;i+=2,n++)r[n]=parseInt(e.slice(i,i+2),16);return r}$i(`encoding "${t}"`)}function tu(e){let r=Object.getOwnPropertyNames(DataView.prototype).filter(a=>a.startsWith("get")||a.startsWith("set")),n=r.map(a=>a.replace("get","read").replace("set","write")),i=(a,d)=>function(f=0){return Q(f,"offset"),te(f,"offset"),J(f,"offset",this.length-1),new DataView(this.buffer)[r[a]](f,d)},o=(a,d)=>function(f,P=0){let A=r[a].match(/set(\w+\d+)/)[1].toLowerCase(),S=nu[A];return Q(P,"offset"),te(P,"offset"),J(P,"offset",this.length-1),ru(f,"value",S[0],S[1]),new DataView(this.buffer)[r[a]](P,f,d),P+parseInt(r[a].match(/\d+/)[0])/8},s=a=>{a.forEach(d=>{d.includes("Uint")&&(e[d.replace("Uint","UInt")]=e[d]),d.includes("Float64")&&(e[d.replace("Float64","Double")]=e[d]),d.includes("Float32")&&(e[d.replace("Float32","Float")]=e[d])})};n.forEach((a,d)=>{a.startsWith("read")&&(e[a]=i(d,!1),e[a+"LE"]=i(d,!0),e[a+"BE"]=i(d,!1)),a.startsWith("write")&&(e[a]=o(d,!1),e[a+"LE"]=o(d,!0),e[a+"BE"]=o(d,!1)),s([a,a+"LE",a+"BE"])})}function $i(e){throw new Error(`Buffer polyfill does not implement "${e}"`)}function lr(e,t){if(!(e instanceof Uint8Array))throw new TypeError(`The "${t}" argument must be an instance of Buffer or Uint8Array`)}function J(e,t,r=au+1){if(e<0||e>r){let n=new RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code="ERR_OUT_OF_RANGE",n}}function Q(e,t){if(typeof e!="number"){let r=new TypeError(`The "${t}" argument must be of type number. Received type ${typeof e}.`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function te(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=new RangeError(`The value of "${t}" is out of range. It must be an integer. Received ${e}`);throw r.code="ERR_OUT_OF_RANGE",r}}function ru(e,t,r,n){if(e<r||e>n){let i=new RangeError(`The value of "${t}" is out of range. It must be >= ${r} and <= ${n}. Received ${e}`);throw i.code="ERR_OUT_OF_RANGE",i}}function Ui(e,t){if(typeof e!="string"){let r=new TypeError(`The "${t}" argument must be of type string. Received type ${typeof e}`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function lu(e,t="utf8"){return h.from(e,t)}var h,nu,iu,ou,su,au,y,hn,l=pe(()=>{"use strict";h=class e extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n="utf8"){return Ui(n,"encoding"),e.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return e.from(t)}static allocUnsafeSlow(t){return e.from(t)}static isBuffer(t){return t&&!!t._isBuffer}static byteLength(t,r="utf8"){if(typeof t=="string")return yn(t,r).byteLength;if(t&&t.byteLength)return t.byteLength;let n=new TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw n.code="ERR_INVALID_ARG_TYPE",n}static isEncoding(t){return su.includes(t)}static compare(t,r){lr(t,"buff1"),lr(r,"buff2");for(let n=0;n<t.length;n++){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1}return t.length===r.length?0:t.length>r.length?1:-1}static from(t,r="utf8"){if(t&&typeof t=="object"&&t.type==="Buffer")return new e(t.data);if(typeof t=="number")return new e(new Uint8Array(t));if(typeof t=="string")return yn(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:n,byteLength:i,buffer:o}=t;return"map"in t&&typeof t.map=="function"?new e(t.map(s=>s%256),n,i):new e(o,n,i)}if(t&&typeof t=="object"&&("length"in t||"byteLength"in t||"buffer"in t))return new e(t);throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(t,r){if(t.length===0)return e.alloc(0);let n=[].concat(...t.map(o=>[...o])),i=e.alloc(r!==void 0?r:n.length);return i.set(r!==void 0?n.slice(0,r):n),i}slice(t=0,r=this.length){return this.subarray(t,r)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),e.prototype)}reverse(){return super.reverse(),this}readIntBE(t,r){Q(t,"offset"),te(t,"offset"),J(t,"offset",this.length-1),Q(r,"byteLength"),te(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return n.getUint8(0)&128&&(i-=Math.pow(256,r)),i}readIntLE(t,r){Q(t,"offset"),te(t,"offset"),J(t,"offset",this.length-1),Q(r,"byteLength"),te(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return n.getUint8(r-1)&128&&(i-=Math.pow(256,r)),i}readUIntBE(t,r){Q(t,"offset"),te(t,"offset"),J(t,"offset",this.length-1),Q(r,"byteLength"),te(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return i}readUintBE(t,r){return this.readUIntBE(t,r)}readUIntLE(t,r){Q(t,"offset"),te(t,"offset"),J(t,"offset",this.length-1),Q(r,"byteLength"),te(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return i}readUintLE(t,r){return this.readUIntLE(t,r)}writeIntBE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntBE(t,r,n)}writeIntLE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntLE(t,r,n)}writeUIntBE(t,r,n){Q(r,"offset"),te(r,"offset"),J(r,"offset",this.length-1),Q(n,"byteLength"),te(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let o=n-1;o>=0;o--)i.setUint8(o,t&255),t=t/256;return r+n}writeUintBE(t,r,n){return this.writeUIntBE(t,r,n)}writeUIntLE(t,r,n){Q(r,"offset"),te(r,"offset"),J(r,"offset",this.length-1),Q(n,"byteLength"),te(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let o=0;o<n;o++)i.setUint8(o,t&255),t=t/256;return r+n}writeUintLE(t,r,n){return this.writeUIntLE(t,r,n)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=2)t.setUint16(r,t.getUint16(r,!0),!1);return this}swap32(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=4)t.setUint32(r,t.getUint32(r,!0),!1);return this}swap64(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=8)t.setBigUint64(r,t.getBigUint64(r,!0),!1);return this}compare(t,r=0,n=t.length,i=0,o=this.length){return lr(t,"target"),Q(r,"targetStart"),Q(n,"targetEnd"),Q(i,"sourceStart"),Q(o,"sourceEnd"),J(r,"targetStart"),J(n,"targetEnd",t.length),J(i,"sourceStart"),J(o,"sourceEnd",this.length),e.compare(this.slice(i,o),t.slice(r,n))}equals(t){return lr(t,"otherBuffer"),this.length===t.length&&this.every((r,n)=>r===t[n])}copy(t,r=0,n=0,i=this.length){J(r,"targetStart"),J(n,"sourceStart",this.length),J(i,"sourceEnd"),r>>>=0,n>>>=0,i>>>=0;let o=0;for(;n<i&&!(this[n]===void 0||t[r]===void 0);)t[r]=this[n],o++,n++,r++;return o}write(t,r,n,i="utf8"){let o=typeof r=="string"?0:r??0,s=typeof n=="string"?this.length-o:n??this.length-o;return i=typeof r=="string"?r:typeof n=="string"?n:i,Q(o,"offset"),Q(s,"length"),J(o,"offset",this.length),J(s,"length",this.length),(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")&&(s=s-s%2),yn(t,i).copy(this,o,0,s)}fill(t=0,r=0,n=this.length,i="utf-8"){let o=typeof r=="string"?0:r,s=typeof n=="string"?this.length:n;if(i=typeof r=="string"?r:typeof n=="string"?n:i,t=e.from(typeof t=="number"?[t]:t??[],i),Ui(i,"encoding"),J(o,"offset",this.length),J(s,"end",this.length),t.length!==0)for(let a=o;a<s;a+=t.length)super.set(t.slice(0,t.length+a>=this.length?this.length-a:t.length),a);return this}includes(t,r=null,n="utf-8"){return this.indexOf(t,r,n)!==-1}lastIndexOf(t,r=null,n="utf-8"){return this.indexOf(t,r,n,!0)}indexOf(t,r=null,n="utf-8",i=!1){let o=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n=typeof r=="string"?r:n;let s=e.from(typeof t=="number"?[t]:t,n),a=typeof r=="string"?0:r;return a=typeof r=="number"?a:null,a=Number.isNaN(a)?null:a,a??=i?this.length:0,a=a<0?this.length+a:a,s.length===0&&i===!1?a>=this.length?this.length:a:s.length===0&&i===!0?(a>=this.length?this.length:a)||this.length:o((d,f)=>(i?f<=a:f>=a)&&this[f]===s[0]&&s.every((A,S)=>this[f+S]===A))}toString(t="utf8",r=0,n=this.length){if(r=r<0?0:r,t=t.toString().toLowerCase(),n<=0)return"";if(t==="utf8"||t==="utf-8")return ou.decode(this.slice(r,n));if(t==="base64"||t==="base64url"){let i=btoa(this.reduce((o,s)=>o+hn(s),""));return t==="base64url"?i.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):i}if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return this.slice(r,n).reduce((i,o)=>i+hn(o&(t==="ascii"?127:255)),"");if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let i=new DataView(this.buffer.slice(r,n));return Array.from({length:i.byteLength/2},(o,s)=>s*2+1<i.byteLength?hn(i.getUint16(s*2,!0)):"").join("")}if(t==="hex")return this.slice(r,n).reduce((i,o)=>i+o.toString(16).padStart(2,"0"),"");$i(`encoding "${t}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}};nu={int8:[-128,127],int16:[-32768,32767],int32:[-2147483648,2147483647],uint8:[0,255],uint16:[0,65535],uint32:[0,4294967295],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},iu=new TextEncoder,ou=new TextDecoder,su=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],au=4294967295;tu(h.prototype);y=new Proxy(lu,{construct(e,[t,r]){return h.from(t,r)},get(e,t){return h[t]}}),hn=String.fromCodePoint});var g,x,u=pe(()=>{"use strict";g={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:x}=g});var w,c=pe(()=>{"use strict";w=globalThis.performance??(()=>{let e=Date.now();return{now:()=>Date.now()-e}})()});var b,p=pe(()=>{"use strict";b=()=>{};b.prototype=b});function ji(e,t){var r,n,i,o,s,a,d,f,P=e.constructor,A=P.precision;if(!e.s||!t.s)return t.s||(t=new P(e)),V?L(t,A):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),o=s-i,o){for(o<0?(n=d,o=-o,a=f.length):(n=f,i=s,a=d.length),s=Math.ceil(A/U),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=d.length,o=f.length,a-o<0&&(o=a,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/W|0,d[o]%=W;for(r&&(d.unshift(r),++i),a=d.length;d[--a]==0;)d.pop();return t.d=d,t.e=i,V?L(t,A):t}function de(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Le+e)}function me(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",r=U-n.length,r&&(o+=ve(r)),o+=n;s=e[t],n=s+"",r=U-n.length,r&&(o+=ve(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function Qi(e,t){var r,n,i,o,s,a,d=0,f=0,P=e.constructor,A=P.precision;if(H(e)>16)throw Error(bn+H(e));if(!e.s)return new P(ne);for(t==null?(V=!1,a=A):a=t,s=new P(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(De(2,f))/Math.LN10*2+5|0,a+=n,r=i=o=new P(ne),P.precision=a;;){if(i=L(i.times(e),a),r=r.times(++d),s=o.plus(Ee(i,r,a)),me(s.d).slice(0,a)===me(o.d).slice(0,a)){for(;f--;)o=L(o.times(o),a);return P.precision=A,t==null?(V=!0,L(o,A)):o}o=s}}function H(e){for(var t=e.e*U,r=e.d[0];r>=10;r/=10)t++;return t}function wn(e,t,r){if(t>e.LN10.sd())throw V=!0,r&&(e.precision=r),Error(oe+"LN10 precision limit exceeded");return L(new e(e.LN10),t)}function ve(e){for(var t="";e--;)t+="0";return t}function Tt(e,t){var r,n,i,o,s,a,d,f,P,A=1,S=10,C=e,M=C.d,R=C.constructor,k=R.precision;if(C.s<1)throw Error(oe+(C.s?"NaN":"-Infinity"));if(C.eq(ne))return new R(0);if(t==null?(V=!1,f=k):f=t,C.eq(10))return t==null&&(V=!0),wn(R,f);if(f+=S,R.precision=f,r=me(M),n=r.charAt(0),o=H(C),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)C=C.times(e),r=me(C.d),n=r.charAt(0),A++;o=H(C),n>1?(C=new R("0."+r),o++):C=new R(n+"."+r.slice(1))}else return d=wn(R,f+2,k).times(o+""),C=Tt(new R(n+"."+r.slice(1)),f-S).plus(d),R.precision=k,t==null?(V=!0,L(C,k)):C;for(a=s=C=Ee(C.minus(ne),C.plus(ne),f),P=L(C.times(C),f),i=3;;){if(s=L(s.times(P),f),d=a.plus(Ee(s,new R(i),f)),me(d.d).slice(0,f)===me(a.d).slice(0,f))return a=a.times(2),o!==0&&(a=a.plus(wn(R,f+2,k).times(o+""))),a=Ee(a,new R(A),f),R.precision=k,t==null?(V=!0,L(a,k)):a;a=d,i+=2}}function qi(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ke(r/U),e.d=[],n=(r+1)%U,r<0&&(n+=U),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=U;n<i;)e.d.push(+t.slice(n,n+=U));t=t.slice(n),n=U-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),V&&(e.e>ur||e.e<-ur))throw Error(bn+r)}else e.s=0,e.e=0,e.d=[0];return e}function L(e,t,r){var n,i,o,s,a,d,f,P,A=e.d;for(s=1,o=A[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=U,i=t,f=A[P=0];else{if(P=Math.ceil((n+1)/U),o=A.length,P>=o)return e;for(f=o=A[P],s=1;o>=10;o/=10)s++;n%=U,i=n-U+s}if(r!==void 0&&(o=De(10,s-i-1),a=f/o%10|0,d=t<0||A[P+1]!==void 0||f%o,d=r<4?(a||d)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||d||r==6&&(n>0?i>0?f/De(10,s-i):0:A[P-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return d?(o=H(e),A.length=1,t=t-o-1,A[0]=De(10,(U-t%U)%U),e.e=Ke(-t/U)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=P,o=1,P--):(A.length=P+1,o=De(10,U-n),A[P]=i>0?(f/De(10,s-i)%De(10,i)|0)*o:0),d)for(;;)if(P==0){(A[0]+=o)==W&&(A[0]=1,++e.e);break}else{if(A[P]+=o,A[P]!=W)break;A[P--]=0,o=1}for(n=A.length;A[--n]===0;)A.pop();if(V&&(e.e>ur||e.e<-ur))throw Error(bn+H(e));return e}function Hi(e,t){var r,n,i,o,s,a,d,f,P,A,S=e.constructor,C=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),V?L(t,C):t;if(d=e.d,A=t.d,n=t.e,f=e.e,d=d.slice(),s=f-n,s){for(P=s<0,P?(r=d,s=-s,a=A.length):(r=A,n=f,a=d.length),i=Math.max(Math.ceil(C/U),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,a=A.length,P=i<a,P&&(a=i),i=0;i<a;i++)if(d[i]!=A[i]){P=d[i]<A[i];break}s=0}for(P&&(r=d,d=A,A=r,t.s=-t.s),a=d.length,i=A.length-a;i>0;--i)d[a++]=0;for(i=A.length;i>s;){if(d[--i]<A[i]){for(o=i;o&&d[--o]===0;)d[o]=W-1;--d[o],d[i]+=W}d[i]-=A[i]}for(;d[--a]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,V?L(t,C):t):new S(0)}function _e(e,t,r){var n,i=H(e),o=me(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+ve(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ve(-i-1)+o,r&&(n=r-s)>0&&(o+=ve(n))):i>=s?(o+=ve(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+ve(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=ve(n))),e.s<0?"-"+o:o}function Vi(e,t){if(e.length>t)return e.length=t,!0}function Ji(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Le+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return qi(s,o.toString())}else if(typeof o!="string")throw Error(Le+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,cu.test(o))qi(s,o);else throw Error(Le+o)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Ji,i.config=i.set=pu,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function pu(e){if(!e||typeof e!="object")throw Error(oe+"Object expected");var t,r,n,i=["precision",1,Ge,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ke(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Le+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Le+r+": "+n);return this}var Ge,uu,Wi,V,oe,Le,bn,Ke,De,cu,ne,W,U,Bi,ur,v,Ee,Wi,Gi=pe(()=>{"use strict";l();u();c();p();m();Ge=1e9,uu={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},V=!0,oe="[DecimalError] ",Le=oe+"Invalid argument: ",bn=oe+"Exponent out of range: ",Ke=Math.floor,De=Math.pow,cu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,W=1e7,U=7,Bi=9007199254740991,ur=Ke(Bi/U),v={};v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};v.comparedTo=v.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*U;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};v.dividedBy=v.div=function(e){return Ee(this,new this.constructor(e))};v.dividedToIntegerBy=v.idiv=function(e){var t=this,r=t.constructor;return L(Ee(t,new r(e),0,1),r.precision)};v.equals=v.eq=function(e){return!this.cmp(e)};v.exponent=function(){return H(this)};v.greaterThan=v.gt=function(e){return this.cmp(e)>0};v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0};v.isInteger=v.isint=function(){return this.e>this.d.length-2};v.isNegative=v.isneg=function(){return this.s<0};v.isPositive=v.ispos=function(){return this.s>0};v.isZero=function(){return this.s===0};v.lessThan=v.lt=function(e){return this.cmp(e)<0};v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1};v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ne))throw Error(oe+"NaN");if(r.s<1)throw Error(oe+(r.s?"NaN":"-Infinity"));return r.eq(ne)?new n(0):(V=!1,t=Ee(Tt(r,o),Tt(e,o),o),V=!0,L(t,i))};v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Hi(t,e):ji(t,(e.s=-e.s,e))};v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(oe+"NaN");return r.s?(V=!1,t=Ee(r,e,0,1).times(e),V=!0,r.minus(t)):L(new n(r),i)};v.naturalExponential=v.exp=function(){return Qi(this)};v.naturalLogarithm=v.ln=function(){return Tt(this)};v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ji(t,e):Hi(t,(e.s=-e.s,e))};v.precision=v.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Le+e);if(t=H(i)+1,n=i.d.length-1,r=n*U+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};v.squareRoot=v.sqrt=function(){var e,t,r,n,i,o,s,a=this,d=a.constructor;if(a.s<1){if(!a.s)return new d(0);throw Error(oe+"NaN")}for(e=H(a),V=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=me(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ke((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(o=n,n=o.plus(Ee(a,o,s+2)).times(.5),me(o.d).slice(0,s)===(t=me(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(L(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return V=!0,L(n,r)};v.times=v.mul=function(e){var t,r,n,i,o,s,a,d,f,P=this,A=P.constructor,S=P.d,C=(e=new A(e)).d;if(!P.s||!e.s)return new A(0);for(e.s*=P.s,r=P.e+e.e,d=S.length,f=C.length,d<f&&(o=S,S=C,C=o,s=d,d=f,f=s),o=[],s=d+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)a=o[i]+C[n]*S[i-n-1]+t,o[i--]=a%W|0,t=a/W|0;o[i]=(o[i]+t)%W|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,V?L(e,A.precision):e};v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(de(e,0,Ge),t===void 0?t=n.rounding:de(t,0,8),L(r,e+H(r)+1,t))};v.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=_e(n,!0):(de(e,0,Ge),t===void 0?t=i.rounding:de(t,0,8),n=L(new i(n),e+1,t),r=_e(n,!0,e+1)),r};v.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?_e(i):(de(e,0,Ge),t===void 0?t=o.rounding:de(t,0,8),n=L(new o(i),e+H(i)+1,t),r=_e(n.abs(),!1,e+H(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};v.toInteger=v.toint=function(){var e=this,t=e.constructor;return L(new t(e),H(e)+1,t.rounding)};v.toNumber=function(){return+this};v.toPower=v.pow=function(e){var t,r,n,i,o,s,a=this,d=a.constructor,f=12,P=+(e=new d(e));if(!e.s)return new d(ne);if(a=new d(a),!a.s){if(e.s<1)throw Error(oe+"Infinity");return a}if(a.eq(ne))return a;if(n=d.precision,e.eq(ne))return L(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=P<0?-P:P)<=Bi){for(i=new d(ne),t=Math.ceil(n/U+4),V=!1;r%2&&(i=i.times(a),Vi(i.d,t)),r=Ke(r/2),r!==0;)a=a.times(a),Vi(a.d,t);return V=!0,e.s<0?new d(ne).div(i):L(i,n)}}else if(o<0)throw Error(oe+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,V=!1,i=e.times(Tt(a,n+f)),V=!0,i=Qi(i),i.s=o,i};v.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=H(i),n=_e(i,r<=o.toExpNeg||r>=o.toExpPos)):(de(e,1,Ge),t===void 0?t=o.rounding:de(t,0,8),i=L(new o(i),e,t),r=H(i),n=_e(i,e<=r||r<=o.toExpNeg,e)),n};v.toSignificantDigits=v.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(de(e,1,Ge),t===void 0?t=n.rounding:de(t,0,8)),L(new n(r),e,t)};v.toString=v.valueOf=v.val=v.toJSON=v[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=H(e),r=e.constructor;return _e(e,t<=r.toExpNeg||t>=r.toExpPos)};Ee=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%W|0,s=o/W|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,d;if(o!=s)d=o>s?1:-1;else for(a=d=0;a<o;a++)if(n[a]!=i[a]){d=n[a]>i[a]?1:-1;break}return d}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*W+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,d,f,P,A,S,C,M,R,k,xe,X,_,ee,Me,gn,ae,or,sr=n.constructor,Gl=n.s==i.s?1:-1,ce=n.d,j=i.d;if(!n.s)return new sr(n);if(!i.s)throw Error(oe+"Division by zero");for(d=n.e-i.e,ae=j.length,Me=ce.length,C=new sr(Gl),M=C.d=[],f=0;j[f]==(ce[f]||0);)++f;if(j[f]>(ce[f]||0)&&--d,o==null?X=o=sr.precision:s?X=o+(H(n)-H(i))+1:X=o,X<0)return new sr(0);if(X=X/U+2|0,f=0,ae==1)for(P=0,j=j[0],X++;(f<Me||P)&&X--;f++)_=P*W+(ce[f]||0),M[f]=_/j|0,P=_%j|0;else{for(P=W/(j[0]+1)|0,P>1&&(j=e(j,P),ce=e(ce,P),ae=j.length,Me=ce.length),ee=ae,R=ce.slice(0,ae),k=R.length;k<ae;)R[k++]=0;or=j.slice(),or.unshift(0),gn=j[0],j[1]>=W/2&&++gn;do P=0,a=t(j,R,ae,k),a<0?(xe=R[0],ae!=k&&(xe=xe*W+(R[1]||0)),P=xe/gn|0,P>1?(P>=W&&(P=W-1),A=e(j,P),S=A.length,k=R.length,a=t(A,R,S,k),a==1&&(P--,r(A,ae<S?or:j,S))):(P==0&&(a=P=1),A=j.slice()),S=A.length,S<k&&A.unshift(0),r(R,A,k),a==-1&&(k=R.length,a=t(j,R,ae,k),a<1&&(P++,r(R,ae<k?or:j,k))),k=R.length):a===0&&(P++,R=[0]),M[f++]=P,a&&R[0]?R[k++]=ce[ee]||0:(R=[ce[ee]],k=1);while((ee++<Me||R[0]!==void 0)&&X--)}return M[0]||M.shift(),C.e=d,L(C,s?o+H(C)+1:o)}}();Wi=Ji(uu);ne=new Wi(1)});var m=pe(()=>{"use strict";Gi()});var Pn={};Et(Pn,{Hash:()=>Ct,createHash:()=>go,default:()=>Ze,randomFillSync:()=>fr,randomUUID:()=>dr,webcrypto:()=>St});function dr(){return globalThis.crypto.randomUUID()}function fr(e,t,r){return t!==void 0&&(r!==void 0?e=e.subarray(t,t+r):e=e.subarray(t)),globalThis.crypto.getRandomValues(e)}function go(e){return new Ct(e)}var St,Ct,Ze,Fe=pe(()=>{"use strict";l();u();c();p();m();St=globalThis.crypto;Ct=class{#t=[];#e;constructor(t){this.#e=t}update(t){this.#t.push(t)}async digest(){let t=new Uint8Array(this.#t.reduce((i,o)=>i+o.length,0)),r=0;for(let i of this.#t)t.set(i,r),r+=i.length;let n=await globalThis.crypto.subtle.digest(this.#e,t);return new Uint8Array(n)}},Ze={webcrypto:St,randomUUID:dr,randomFillSync:fr,createHash:go,Hash:Ct}});var yo=re(()=>{"use strict";l();u();c();p();m()});var ho=re((ay,wu)=>{wu.exports={name:"@prisma/engines-version",version:"7.3.0-16.9d6ad21cbbceab97458517b147a6a09ff43aa735",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"9d6ad21cbbceab97458517b147a6a09ff43aa735"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}});var wo=re(gr=>{"use strict";l();u();c();p();m();Object.defineProperty(gr,"__esModule",{value:!0});gr.enginesVersion=void 0;gr.enginesVersion=ho().prisma.enginesVersion});var To=re((xy,Eo)=>{"use strict";l();u();c();p();m();Eo.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Ao=re((Zy,hr)=>{"use strict";l();u();c();p();m();hr.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(let i of n){let o=e[i];if(o!==void 0){if(i==="labels"||i==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${i}\` option should be an array`);o=o.join(",")}r.searchParams.set(i,o)}}return r.toString()};hr.exports.default=hr.exports});var In=re((qw,So)=>{"use strict";l();u();c();p();m();So.exports=function(){function e(t,r,n,i,o){return t<r||n<r?t>n?n+1:t+1:i===o?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,o=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,o-=s,i===0||o<3)return o;var a=0,d,f,P,A,S,C,M,R,k,xe,X,_,ee=[];for(d=0;d<i;d++)ee.push(d+1),ee.push(t.charCodeAt(s+d));for(var Me=ee.length-1;a<o-3;)for(k=r.charCodeAt(s+(f=a)),xe=r.charCodeAt(s+(P=a+1)),X=r.charCodeAt(s+(A=a+2)),_=r.charCodeAt(s+(S=a+3)),C=a+=4,d=0;d<Me;d+=2)M=ee[d],R=ee[d+1],f=e(M,f,P,k,R),P=e(f,P,A,xe,R),A=e(P,A,S,X,R),C=e(A,S,C,_,R),ee[d]=C,S=A,A=P,P=f,f=M;for(;a<o;)for(k=r.charCodeAt(s+(f=a)),C=++a,d=0;d<Me;d+=2)M=ee[d],ee[d]=C=e(M,f,C,k,ee[d+1]),f=M;return C}}()});var Mo=pe(()=>{"use strict";l();u();c();p();m()});var No=pe(()=>{"use strict";l();u();c();p();m()});var Dr,Xo=pe(()=>{"use strict";l();u();c();p();m();Dr=class{events={};on(t,r){return this.events[t]||(this.events[t]=[]),this.events[t].push(r),this}emit(t,...r){return this.events[t]?(this.events[t].forEach(n=>{n(...r)}),!0):!1}}});var Zn=re(Ve=>{"use strict";l();u();c();p();m();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.anumber=zn;Ve.abytes=Bs;Ve.ahash=mp;Ve.aexists=dp;Ve.aoutput=fp;function zn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function pp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Bs(e,...t){if(!pp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function mp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zn(e.outputLen),zn(e.blockLen)}function dp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fp(e,t){Bs(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var ca=re(O=>{"use strict";l();u();c();p();m();Object.defineProperty(O,"__esModule",{value:!0});O.add5L=O.add5H=O.add4H=O.add4L=O.add3H=O.add3L=O.rotlBL=O.rotlBH=O.rotlSL=O.rotlSH=O.rotr32L=O.rotr32H=O.rotrBL=O.rotrBH=O.rotrSL=O.rotrSH=O.shrSL=O.shrSH=O.toBig=void 0;O.fromBig=Xn;O.split=js;O.add=na;var Qr=BigInt(2**32-1),Yn=BigInt(32);function Xn(e,t=!1){return t?{h:Number(e&Qr),l:Number(e>>Yn&Qr)}:{h:Number(e>>Yn&Qr)|0,l:Number(e&Qr)|0}}function js(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=Xn(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var Qs=(e,t)=>BigInt(e>>>0)<<Yn|BigInt(t>>>0);O.toBig=Qs;var Hs=(e,t,r)=>e>>>r;O.shrSH=Hs;var Js=(e,t,r)=>e<<32-r|t>>>r;O.shrSL=Js;var Ws=(e,t,r)=>e>>>r|t<<32-r;O.rotrSH=Ws;var Gs=(e,t,r)=>e<<32-r|t>>>r;O.rotrSL=Gs;var Ks=(e,t,r)=>e<<64-r|t>>>r-32;O.rotrBH=Ks;var zs=(e,t,r)=>e>>>r-32|t<<64-r;O.rotrBL=zs;var Zs=(e,t)=>t;O.rotr32H=Zs;var Ys=(e,t)=>e;O.rotr32L=Ys;var Xs=(e,t,r)=>e<<r|t>>>32-r;O.rotlSH=Xs;var ea=(e,t,r)=>t<<r|e>>>32-r;O.rotlSL=ea;var ta=(e,t,r)=>t<<r-32|e>>>64-r;O.rotlBH=ta;var ra=(e,t,r)=>e<<r-32|t>>>64-r;O.rotlBL=ra;function na(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var ia=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);O.add3L=ia;var oa=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;O.add3H=oa;var sa=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);O.add4L=sa;var aa=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;O.add4H=aa;var la=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);O.add5L=la;var ua=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;O.add5H=ua;var gp={fromBig:Xn,split:js,toBig:Qs,shrSH:Hs,shrSL:Js,rotrSH:Ws,rotrSL:Gs,rotrBH:Ks,rotrBL:zs,rotr32H:Zs,rotr32L:Ys,rotlSH:Xs,rotlSL:ea,rotlBH:ta,rotlBL:ra,add:na,add3L:ia,add3H:oa,add4L:sa,add4H:aa,add5H:ua,add5L:la};O.default=gp});var pa=re(Hr=>{"use strict";l();u();c();p();m();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.crypto=void 0;var Ie=(Fe(),eu(Pn));Hr.crypto=Ie&&typeof Ie=="object"&&"webcrypto"in Ie?Ie.webcrypto:Ie&&typeof Ie=="object"&&"randomBytes"in Ie?Ie:void 0});var fa=re(N=>{"use strict";l();u();c();p();m();Object.defineProperty(N,"__esModule",{value:!0});N.Hash=N.nextTick=N.byteSwapIfBE=N.isLE=void 0;N.isBytes=yp;N.u8=hp;N.u32=wp;N.createView=bp;N.rotr=xp;N.rotl=Ep;N.byteSwap=ri;N.byteSwap32=Tp;N.bytesToHex=Ap;N.hexToBytes=vp;N.asyncLoop=Sp;N.utf8ToBytes=da;N.toBytes=Jr;N.concatBytes=Rp;N.checkOpts=Ip;N.wrapConstructor=Op;N.wrapConstructorWithOpts=kp;N.wrapXOFConstructorWithOpts=Mp;N.randomBytes=Np;var dt=pa(),ti=Zn();function yp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hp(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function wp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function bp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function xp(e,t){return e<<32-t|e>>>t}function Ep(e,t){return e<<t|e>>>32-t>>>0}N.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ri(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}N.byteSwapIfBE=N.isLE?e=>e:e=>ri(e);function Tp(e){for(let t=0;t<e.length;t++)e[t]=ri(e[t])}var Pp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ap(e){(0,ti.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=Pp[e[r]];return t}var Pe={_0:48,_9:57,A:65,F:70,a:97,f:102};function ma(e){if(e>=Pe._0&&e<=Pe._9)return e-Pe._0;if(e>=Pe.A&&e<=Pe.F)return e-(Pe.A-10);if(e>=Pe.a&&e<=Pe.f)return e-(Pe.a-10)}function vp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=ma(e.charCodeAt(o)),a=ma(e.charCodeAt(o+1));if(s===void 0||a===void 0){let d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}n[i]=s*16+a}return n}var Cp=async()=>{};N.nextTick=Cp;async function Sp(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,N.nextTick)(),n+=o)}}function da(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Jr(e){return typeof e=="string"&&(e=da(e)),(0,ti.abytes)(e),e}function Rp(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,ti.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var ei=class{clone(){return this._cloneInto()}};N.Hash=ei;function Ip(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Op(e){let t=n=>e().update(Jr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function kp(e){let t=(n,i)=>e(i).update(Jr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Mp(e){let t=(n,i)=>e(i).update(Jr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Np(e=32){if(dt.crypto&&typeof dt.crypto.getRandomValues=="function")return dt.crypto.getRandomValues(new Uint8Array(e));if(dt.crypto&&typeof dt.crypto.randomBytes=="function")return dt.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}});var Ta=re(q=>{"use strict";l();u();c();p();m();Object.defineProperty(q,"__esModule",{value:!0});q.shake256=q.shake128=q.keccak_512=q.keccak_384=q.keccak_256=q.keccak_224=q.sha3_512=q.sha3_384=q.sha3_256=q.sha3_224=q.Keccak=void 0;q.keccakP=xa;var ft=Zn(),Qt=ca(),Ae=fa(),ha=[],wa=[],ba=[],Dp=BigInt(0),jt=BigInt(1),Lp=BigInt(2),_p=BigInt(7),Fp=BigInt(256),Up=BigInt(113);for(let e=0,t=jt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ha.push(2*(5*n+r)),wa.push((e+1)*(e+2)/2%64);let i=Dp;for(let o=0;o<7;o++)t=(t<<jt^(t>>_p)*Up)%Fp,t&Lp&&(i^=jt<<(jt<<BigInt(o))-jt);ba.push(i)}var[$p,qp]=(0,Qt.split)(ba,!0),ga=(e,t,r)=>r>32?(0,Qt.rotlBH)(e,t,r):(0,Qt.rotlSH)(e,t,r),ya=(e,t,r)=>r>32?(0,Qt.rotlBL)(e,t,r):(0,Qt.rotlSL)(e,t,r);function xa(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,d=(s+2)%10,f=r[d],P=r[d+1],A=ga(f,P,1)^r[a],S=ya(f,P,1)^r[a+1];for(let C=0;C<50;C+=10)e[s+C]^=A,e[s+C+1]^=S}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=wa[s],d=ga(i,o,a),f=ya(i,o,a),P=ha[s];i=e[P],o=e[P+1],e[P]=d,e[P+1]=f}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=$p[n],e[1]^=qp[n]}r.fill(0)}var Ht=class e extends Ae.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,ft.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ae.u32)(this.state)}keccak(){Ae.isLE||(0,Ae.byteSwap32)(this.state32),xa(this.state32,this.rounds),Ae.isLE||(0,Ae.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,ft.aexists)(this);let{blockLen:r,state:n}=this;t=(0,Ae.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,ft.aexists)(this,!1),(0,ft.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,ft.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,ft.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};q.Keccak=Ht;var Oe=(e,t,r)=>(0,Ae.wrapConstructor)(()=>new Ht(t,e,r));q.sha3_224=Oe(6,144,224/8);q.sha3_256=Oe(6,136,256/8);q.sha3_384=Oe(6,104,384/8);q.sha3_512=Oe(6,72,512/8);q.keccak_224=Oe(1,144,224/8);q.keccak_256=Oe(1,136,256/8);q.keccak_384=Oe(1,104,384/8);q.keccak_512=Oe(1,72,512/8);var Ea=(e,t,r)=>(0,Ae.wrapXOFConstructorWithOpts)((n={})=>new Ht(t,e,n.dkLen===void 0?r:n.dkLen,!0));q.shake128=Ea(31,168,128/8);q.shake256=Ea(31,136,256/8)});var Oa=re((gO,ke)=>{"use strict";l();u();c();p();m();var{sha3_512:Vp}=Ta(),Aa=24,Jt=32,ni=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r=r+Math.floor(t()*36).toString(36);return r};function va(e){let t=8n,r=0n;for(let n of e.values()){let i=BigInt(n);r=(r<<t)+i}return r}var Ca=(e="")=>va(Vp(e)).toString(36).slice(1),Pa=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),Bp=e=>Pa[Math.floor(e()*Pa.length)],Sa=({globalObj:e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString(),n=r.length?r+ni(Jt,t):ni(Jt,t);return Ca(n).substring(0,Jt)},Ra=e=>()=>e++,jp=476782367,Ia=({random:e=Math.random,counter:t=Ra(Math.floor(e()*jp)),length:r=Aa,fingerprint:n=Sa({random:e})}={})=>function(){let o=Bp(e),s=Date.now().toString(36),a=t().toString(36),d=ni(r,e),f=`${s+d+a+n}`;return`${o+Ca(f).substring(1,r)}`},Qp=Ia(),Hp=(e,{minLength:t=2,maxLength:r=Jt}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if(typeof e=="string"&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1};ke.exports.getConstants=()=>({defaultLength:Aa,bigLength:Jt});ke.exports.init=Ia;ke.exports.createId=Qp;ke.exports.bufToBigInt=va;ke.exports.createCounter=Ra;ke.exports.createFingerprint=Sa;ke.exports.isCuid=Hp});var ka=re((EO,Wt)=>{"use strict";l();u();c();p();m();var{createId:Jp,init:Wp,getConstants:Gp,isCuid:Kp}=Oa();Wt.exports.createId=Jp;Wt.exports.init=Wp;Wt.exports.getConstants=Gp;Wt.exports.isCuid=Kp});l();u();c();p();m();var Zi={};Et(Zi,{defineExtension:()=>Ki,getExtensionContext:()=>zi});l();u();c();p();m();l();u();c();p();m();function Ki(e){return typeof e=="function"?e:t=>t.$extends(e)}l();u();c();p();m();function zi(e){return e}var Xi={};Et(Xi,{validator:()=>Yi});l();u();c();p();m();l();u();c();p();m();function Yi(...e){return t=>t}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var fe=class{_map=new Map;get(t){return this._map.get(t)?.value}set(t,r){this._map.set(t,{value:r})}getOrCreate(t,r){let n=this._map.get(t);if(n)return n.value;let i=r();return this.set(t,i),i}};l();u();c();p();m();function Ce(e){return e.substring(0,1).toLowerCase()+e.substring(1)}l();u();c();p();m();function eo(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}l();u();c();p();m();function Pt(e){let t;return{get(){return t||(t={value:e()}),t.value}}}l();u();c();p();m();function mu(e){return{models:xn(e.models),enums:xn(e.enums),types:xn(e.types)}}function xn(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}import{isAnyNull as lc,isDbNull as uc,isJsonNull as cc,ObjectEnumValue as pc}from"@prisma/client-runtime-utils";l();u();c();p();m();l();u();c();p();m();var En,to,ro,no,io=!0;typeof g<"u"&&({FORCE_COLOR:En,NODE_DISABLE_COLORS:to,NO_COLOR:ro,TERM:no}=g.env||{},io=g.stdout&&g.stdout.isTTY);var du={enabled:!to&&ro==null&&no!=="dumb"&&(En!=null&&En!=="0"||io)};function F(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(o){return!du.enabled||o==null?o:n+(~(""+o).indexOf(i)?o.replace(r,i+n):o)+i}}var cg=F(0,0),cr=F(1,22),pr=F(2,22),pg=F(3,23),mr=F(4,24),mg=F(7,27),dg=F(8,28),fg=F(9,29),gg=F(30,39),ze=F(31,39),oo=F(32,39),so=F(33,39),ao=F(34,39),yg=F(35,39),lo=F(36,39),hg=F(37,39),uo=F(90,39),wg=F(90,39),bg=F(40,49),xg=F(41,49),Eg=F(42,49),Tg=F(43,49),Pg=F(44,49),Ag=F(45,49),vg=F(46,49),Cg=F(47,49);l();u();c();p();m();var fu=100,co=["green","yellow","blue","magenta","cyan","red"],At=[],po=Date.now(),gu=0,Tn=typeof g<"u"?g.env:{};globalThis.DEBUG??=Tn.DEBUG??"";globalThis.DEBUG_COLORS??=Tn.DEBUG_COLORS?Tn.DEBUG_COLORS==="true":!0;var vt={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function yu(e){let t={color:co[gu++%co.length],enabled:vt.enabled(e),namespace:e,log:vt.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:o,color:s,log:a}=t;if(n.length!==0&&At.push([o,...n]),At.length>fu&&At.shift(),vt.enabled(o)||i){let d=n.map(P=>typeof P=="string"?P:hu(P)),f=`+${Date.now()-po}ms`;po=Date.now(),a(o,...d,f)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,o)=>t[i]=o})}var Z=new Proxy(yu,{get:(e,t)=>vt[t],set:(e,t,r)=>vt[t]=r});function hu(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function mo(e=7500){let t=At.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function fo(){At.length=0}l();u();c();p();m();l();u();c();p();m();var bo="prisma+postgres",yr=`${bo}:`;function xo(e){return e?.toString().startsWith(`${yr}//`)??!1}function An(e){if(!xo(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var It={};Et(It,{error:()=>Eu,info:()=>xu,log:()=>bu,query:()=>Tu,should:()=>Po,tags:()=>Rt,warn:()=>vn});l();u();c();p();m();var Rt={error:ze("prisma:error"),warn:so("prisma:warn"),info:lo("prisma:info"),query:ao("prisma:query")},Po={warn:()=>!g.env.PRISMA_DISABLE_WARNINGS};function bu(...e){console.log(...e)}function vn(e,...t){Po.warn()&&console.warn(`${Rt.warn} ${e}`,...t)}function xu(e,...t){console.info(`${Rt.info} ${e}`,...t)}function Eu(e,...t){console.error(`${Rt.error} ${e}`,...t)}function Tu(e,...t){console.log(`${Rt.query} ${e}`,...t)}l();u();c();p();m();function Te(e,t){throw new Error(t)}l();u();c();p();m();l();u();c();p();m();function Cn({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var Pu=Cn();function Ye(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Pu,"")}l();u();c();p();m();function Sn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}l();u();c();p();m();function wr(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}l();u();c();p();m();function Rn(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}l();u();c();p();m();function Ot(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}l();u();c();p();m();var vo=new Set,Co=(e,t,...r)=>{vo.has(e)||(vo.add(e),vn(t,...r))};l();u();c();p();m();function Xe(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function br(e){return e.toString()!=="Invalid Date"}l();u();c();p();m();import{Decimal as Au}from"@prisma/client-runtime-utils";function et(e){return Au.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}l();u();c();p();m();import{PrismaClientValidationError as ic}from"@prisma/client-runtime-utils";l();u();c();p();m();var xr={};Et(xr,{ModelAction:()=>kt,datamodelEnumToSchemaEnum:()=>vu});l();u();c();p();m();l();u();c();p();m();function vu(e){return{name:e.name,values:e.values.map(t=>t.name)}}l();u();c();p();m();var kt=(_=>(_.findUnique="findUnique",_.findUniqueOrThrow="findUniqueOrThrow",_.findFirst="findFirst",_.findFirstOrThrow="findFirstOrThrow",_.findMany="findMany",_.create="create",_.createMany="createMany",_.createManyAndReturn="createManyAndReturn",_.update="update",_.updateMany="updateMany",_.updateManyAndReturn="updateManyAndReturn",_.upsert="upsert",_.delete="delete",_.deleteMany="deleteMany",_.groupBy="groupBy",_.count="count",_.aggregate="aggregate",_.findRaw="findRaw",_.aggregateRaw="aggregateRaw",_))(kt||{});var Cu=Ne(To());var Su={red:ze,gray:uo,dim:pr,bold:cr,underline:mr,highlightSource:e=>e.highlight()},Ru={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function Iu({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function Ou({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:o},s){let a=[""],d=t?" in":":";if(n?(a.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),a.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${d}`))):a.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${d}`)),t&&a.push(s.underline(ku(t))),i){a.push("");let f=[i.toString()];o&&(f.push(o),f.push(s.dim(")"))),a.push(f.join("")),o&&a.push("")}else a.push(""),o&&a.push(o),a.push("");return a.push(r),a.join(`
`)}function ku(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function Er(e){let t=e.showColors?Su:Ru,r;return typeof $getTemplateParameters<"u"?r=$getTemplateParameters(e,t):r=Iu(e),Ou(r,t)}l();u();c();p();m();var Lo=Ne(In());l();u();c();p();m();function Oo(e,t,r){let n=ko(e),i=Mu(n),o=Du(i);o?Tr(o,t,r):t.addErrorMessage(()=>"Unknown error")}function ko(e){return e.errors.flatMap(t=>t.kind==="Union"?ko(t):[t])}function Mu(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,o=t.get(i);o?t.set(i,{...n,argument:{...n.argument,typeNames:Nu(o.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function Nu(e,t){return[...new Set(e.concat(t))]}function Du(e){return Rn(e,(t,r)=>{let n=Ro(t),i=Ro(r);return n!==i?n-i:Io(t)-Io(r)})}function Ro(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Io(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}l();u();c();p();m();var ie=class{constructor(t,r){this.name=t;this.value=r}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(t){let{colors:{green:r}}=t.context;t.addMarginSymbol(r(this.isRequired?"+":"?")),t.write(r(this.name)),this.isRequired||t.write(r("?")),t.write(r(": ")),typeof this.value=="string"?t.write(r(this.value)):t.write(this.value)}};l();u();c();p();m();l();u();c();p();m();No();l();u();c();p();m();var tt=class{constructor(t=0,r){this.context=r;this.currentIndent=t}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(t){return typeof t=="string"?this.currentLine+=t:t.write(this),this}writeJoined(t,r,n=(i,o)=>o.write(i)){let i=r.length-1;for(let o=0;o<r.length;o++)n(r[o],this),o!==i&&this.write(t);return this}writeLine(t){return this.write(t).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let t=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,t?.(),this}withIndent(t){return this.indent(),t(this),this.unindent(),this}afterNextNewline(t){return this.afterNextNewLineCallback=t,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(t){return this.marginSymbol=t,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let t=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+t.slice(1):t}};Mo();l();u();c();p();m();l();u();c();p();m();var Pr=class{constructor(t){this.value=t}write(t){t.write(this.value)}markAsError(){this.value.markAsError()}};l();u();c();p();m();var Ar=e=>e,vr={bold:Ar,red:Ar,green:Ar,dim:Ar,enabled:!1},Do={bold:cr,red:ze,green:oo,dim:pr,enabled:!0},rt={write(e){e.writeLine(",")}};l();u();c();p();m();var ge=class{constructor(t){this.contents=t}isUnderlined=!1;color=t=>t;underline(){return this.isUnderlined=!0,this}setColor(t){return this.color=t,this}write(t){let r=t.getCurrentLineLength();t.write(this.color(this.contents)),this.isUnderlined&&t.afterNextNewline(()=>{t.write(" ".repeat(r)).writeLine(this.color("~".repeat(this.contents.length)))})}};l();u();c();p();m();var Se=class{hasError=!1;markAsError(){return this.hasError=!0,this}};var nt=class extends Se{items=[];addItem(t){return this.items.push(new Pr(t)),this}getField(t){return this.items[t]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(r=>r.value.getPrintWidth()))+2}write(t){if(this.items.length===0){this.writeEmpty(t);return}this.writeWithItems(t)}writeEmpty(t){let r=new ge("[]");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithItems(t){let{colors:r}=t.context;t.writeLine("[").withIndent(()=>t.writeJoined(rt,this.items).newLine()).write("]"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(r.red("~".repeat(this.getPrintWidth())))})}asObject(){}};var it=class e extends Se{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let o=i;for(let s of n){let a;if(o.value instanceof e?a=o.value.getField(s):o.value instanceof nt&&(a=o.value.getField(Number(s))),!a)return;o=a}return o}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let o=n.value.getFieldValue(i);if(!o||!(o instanceof e))return;let s=o.getSelectionParent();if(!s)return;n=s}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new ge("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(rt,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}};l();u();c();p();m();var G=class extends Se{constructor(r){super();this.text=r}getPrintWidth(){return this.text.length}write(r){let n=new ge(this.text);this.hasError&&n.underline().setColor(r.context.colors.red),r.write(n)}asObject(){}};l();u();c();p();m();var Mt=class{fields=[];addField(t,r){return this.fields.push({write(n){let{green:i,dim:o}=n.context.colors;n.write(i(o(`${t}: ${r}`))).addMarginSymbol(i(o("+")))}}),this}write(t){let{colors:{green:r}}=t.context;t.writeLine(r("{")).withIndent(()=>{t.writeJoined(rt,this.fields).newLine()}).write(r("}")).addMarginSymbol(r("+"))}};function Tr(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":Lu(e,t);break;case"IncludeOnScalar":_u(e,t);break;case"EmptySelection":Fu(e,t,r);break;case"UnknownSelectionField":Vu(e,t);break;case"InvalidSelectionValue":Bu(e,t);break;case"UnknownArgument":ju(e,t);break;case"UnknownInputField":Qu(e,t);break;case"RequiredArgumentMissing":Hu(e,t);break;case"InvalidArgumentType":Ju(e,t);break;case"InvalidArgumentValue":Wu(e,t);break;case"ValueTooLarge":Gu(e,t);break;case"SomeFieldsMissing":Ku(e,t);break;case"TooManyFieldsGiven":zu(e,t);break;case"Union":Oo(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function Lu(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function _u(e,t){let[r,n]=ot(e.selectionPath),i=e.outputType,o=t.arguments.getDeepSelectionParent(r)?.value;if(o&&(o.getField(n)?.markAsError(),i))for(let s of i.fields)s.isRelation&&o.addSuggestion(new ie(s.name,"true"));t.addErrorMessage(s=>{let a=`Invalid scalar field ${s.red(`\`${n}\``)} for ${s.bold("include")} statement`;return i?a+=` on model ${s.bold(i.name)}. ${Nt(s)}`:a+=".",a+=`
Note that ${s.bold("include")} statements only accept relation fields.`,a})}function Fu(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){Uu(e,t,i);return}if(n.hasField("select")){$u(e,t);return}}if(r?.[Ce(e.outputType.name)]){qu(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function Uu(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new ie(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function $u(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),Uo(n,r)),t.addErrorMessage(o=>i?`The ${o.red("`select`")} statement for type ${o.bold(r.name)} must not be empty. ${Nt(o)}`:`The ${o.red("`select`")} statement for type ${o.bold(r.name)} needs ${o.bold("at least one truthy value")}.`)}function qu(e,t){let r=new Mt;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new ie("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,o]=ot(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(o);if(a){let d=a?.value.asObject()??new it;d.addSuggestion(n),a.value=d}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function Vu(e,t){let r=$o(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":Uo(n,e.outputType);break;case"include":Zu(n,e.outputType);break;case"omit":Yu(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push(Nt(n)),i.join(" ")})}function Bu(e,t){let r=$o(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function ju(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Xu(n,e.arguments)),t.addErrorMessage(i=>_o(i,r,e.arguments.map(o=>o.name)))}function Qu(e,t){let[r,n]=ot(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let o=i.getDeepFieldValue(r)?.asObject();o&&qo(o,e.inputType)}t.addErrorMessage(o=>_o(o,n,e.inputType.fields.map(s=>s.name)))}function _o(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=tc(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(Nt(e)),n.join(" ")}function Hu(e,t){let r;t.addErrorMessage(d=>r?.value instanceof G&&r.value.text==="null"?`Argument \`${d.green(o)}\` must not be ${d.red("null")}.`:`Argument \`${d.green(o)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,o]=ot(e.argumentPath),s=new Mt,a=n.getDeepFieldValue(i)?.asObject();if(a){if(r=a.getField(o),r&&a.removeField(o),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let d of e.inputTypes[0].fields)s.addField(d.name,d.typeNames.join(" | "));a.addSuggestion(new ie(o,s).makeRequired())}else{let d=e.inputTypes.map(Fo).join(" | ");a.addSuggestion(new ie(o,d).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,d]=ot(e.dependentArgumentPath);t.addErrorMessage(f=>`Argument \`${f.green(o)}\` is required because argument \`${f.green(d)}\` was provided.`)}}}function Fo(e){return e.kind==="list"?`${Fo(e.elementType)}[]`:e.name}function Ju(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=Cr("or",e.argument.typeNames.map(s=>i.green(s)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${o}, provided ${i.red(e.inferredType)}.`})}function Wu(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&o.push(`: ${e.underlyingError}`),o.push("."),e.argument.typeNames.length>0){let s=Cr("or",e.argument.typeNames.map(a=>i.green(a)));o.push(` Expected ${s}.`)}return o.join("")})}function Gu(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof G&&(i=s.text)}t.addErrorMessage(o=>{let s=["Unable to fit value"];return i&&s.push(o.red(i)),s.push(`into a 64-bit signed integer for field \`${o.bold(r)}\``),s.join(" ")})}function Ku(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&qo(i,e.inputType)}t.addErrorMessage(i=>{let o=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?o.push(`${i.green("at least one of")} ${Cr("or",e.constraints.requiredFields.map(s=>`\`${i.bold(s)}\``))} arguments.`):o.push(`${i.green("at least one")} argument.`):o.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),o.push(Nt(i)),o.join(" ")})}function zu(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let o=n.getDeepFieldValue(e.argumentPath)?.asObject();o&&(o.markAsError(),i=Object.keys(o.getFields()))}t.addErrorMessage(o=>{let s=[`Argument \`${o.bold(r)}\` of type ${o.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${o.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?s.push(`${o.green("at most one")} argument,`):s.push(`${o.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${Cr("and",i.map(a=>o.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?s.push("one."):s.push(`${e.constraints.maxFieldCount}.`),s.join(" ")})}function Uo(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ie(r.name,"true"))}function Zu(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new ie(r.name,"true"))}function Yu(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new ie(r.name,"true"))}function Xu(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new ie(r.name,r.typeNames.join(" | ")))}function $o(e,t){let[r,n]=ot(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let o=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),a=i.getFieldValue("omit")?.asObject(),d=o?.getField(n);return o&&d?{parentKind:"select",parent:o,field:d,fieldName:n}:(d=s?.getField(n),s&&d?{parentKind:"include",field:d,parent:s,fieldName:n}:(d=a?.getField(n),a&&d?{parentKind:"omit",field:d,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function qo(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ie(r.name,r.typeNames.join(" | ")))}function ot(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function Nt({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function Cr(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var ec=3;function tc(e,t){let r=1/0,n;for(let i of t){let o=(0,Lo.default)(e,i);o>ec||o<r&&(r=o,n=i)}return n}l();u();c();p();m();import{ObjectEnumValue as rc}from"@prisma/client-runtime-utils";l();u();c();p();m();var Dt=class{modelName;name;typeName;isList;isEnum;constructor(t,r,n,i,o){this.modelName=t,this.name=r,this.typeName=n,this.isList=i,this.isEnum=o}_toGraphQLInputType(){let t=this.isList?"List":"",r=this.isEnum?"Enum":"";return`${t}${r}${this.typeName}FieldRefInput<${this.modelName}>`}};function st(e){return e instanceof Dt}l();u();c();p();m();var Vo=": ",Sr=class{constructor(t,r){this.name=t;this.value=r}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Vo.length}write(t){let r=new ge(this.name);this.hasError&&r.underline().setColor(t.context.colors.red),t.write(r).write(Vo).write(this.value)}};var kn=class{arguments;errorMessages=[];constructor(t){this.arguments=t}write(t){t.write(this.arguments)}addErrorMessage(t){this.errorMessages.push(t)}renderAllMessages(t){return this.errorMessages.map(r=>r(t)).join(`
`)}};function at(e){return new kn(Bo(e))}function Bo(e){let t=new it;for(let[r,n]of Object.entries(e)){let i=new Sr(r,jo(n));t.addField(i)}return t}function jo(e){if(typeof e=="string")return new G(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new G(String(e));if(typeof e=="bigint")return new G(`${e}n`);if(e===null)return new G("null");if(e===void 0)return new G("undefined");if(et(e))return new G(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return y.isBuffer(e)?new G(`Buffer.alloc(${e.byteLength})`):new G(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=br(e)?e.toISOString():"Invalid Date";return new G(`new Date("${t}")`)}return e instanceof rc?new G(`Prisma.${e._getName()}`):st(e)?new G(`prisma.${Ce(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?nc(e):typeof e=="object"?Bo(e):new G(Object.prototype.toString.call(e))}function nc(e){let t=new nt;for(let r of e)t.addItem(jo(r));return t}function Rr(e,t){let r=t==="pretty"?Do:vr,n=e.renderAllMessages(r),i=new tt(0,{colors:r}).write(e).toString();return{message:n,args:i}}function Ir({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:o,globalOmit:s}){let a=at(e);for(let A of t)Tr(A,a,s);let{message:d,args:f}=Rr(a,r),P=Er({message:d,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:f});throw new ic(P,{clientVersion:o})}l();u();c();p();m();l();u();c();p();m();function ye(e){return e.replace(/^./,t=>t.toLowerCase())}l();u();c();p();m();function Ho(e,t,r){let n=ye(r);return!t.result||!(t.result.$allModels||t.result[n])?e:oc({...e,...Qo(t.name,e,t.result.$allModels),...Qo(t.name,e,t.result[n])})}function oc(e){let t=new fe,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(o=>r(o,i)):[n]));return wr(e,n=>({...n,needs:r(n.name,new Set)}))}function Qo(e,t,r){return r?wr(r,({needs:n,compute:i},o)=>({name:o,needs:n?Object.keys(n).filter(s=>n[s]):[],compute:sc(t,o,i)})):{}}function sc(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function Jo(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function Wo(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var Or=class{constructor(t,r){this.extension=t;this.previous=r}computedFieldsCache=new fe;modelExtensionsCache=new fe;queryCallbacksCache=new fe;clientExtensions=Pt(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=Pt(()=>{let t=this.previous?.getAllBatchQueryCallbacks()??[],r=this.extension.query?.$__internalBatch;return r?t.concat(r):t});getAllComputedFields(t){return this.computedFieldsCache.getOrCreate(t,()=>Ho(this.previous?.getAllComputedFields(t),this.extension,t))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(t){return this.modelExtensionsCache.getOrCreate(t,()=>{let r=ye(t);return!this.extension.model||!(this.extension.model[r]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(t):{...this.previous?.getAllModelExtensions(t),...this.extension.model.$allModels,...this.extension.model[r]}})}getAllQueryCallbacks(t,r){return this.queryCallbacksCache.getOrCreate(`${t}:${r}`,()=>{let n=this.previous?.getAllQueryCallbacks(t,r)??[],i=[],o=this.extension.query;return!o||!(o[t]||o.$allModels||o[r]||o.$allOperations)?n:(o[t]!==void 0&&(o[t][r]!==void 0&&i.push(o[t][r]),o[t].$allOperations!==void 0&&i.push(o[t].$allOperations)),t!=="$none"&&o.$allModels!==void 0&&(o.$allModels[r]!==void 0&&i.push(o.$allModels[r]),o.$allModels.$allOperations!==void 0&&i.push(o.$allModels.$allOperations)),o[r]!==void 0&&i.push(o[r]),o.$allOperations!==void 0&&i.push(o.$allOperations),n.concat(i))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},lt=class e{constructor(t){this.head=t}static empty(){return new e}static single(t){return new e(new Or(t))}isEmpty(){return this.head===void 0}append(t){return new e(new Or(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};l();u();c();p();m();var kr=class{constructor(t){this.name=t}};function Go(e){return e instanceof kr}function ac(e){return new kr(e)}l();u();c();p();m();l();u();c();p();m();var Ko=Symbol(),Lt=class{constructor(t){if(t!==Ko)throw new Error("Skip instance can not be constructed directly")}ifUndefined(t){return t===void 0?Mn:t}},Mn=new Lt(Ko);function he(e){return e instanceof Lt}var mc={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},zo="explicitly `undefined` values are not allowed";function Dn({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=lt.empty(),callsite:o,clientMethod:s,errorFormat:a,clientVersion:d,previewFeatures:f,globalOmit:P}){let A=new Nn({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:o,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:a,clientVersion:d,previewFeatures:f,globalOmit:P});return{modelName:e,action:mc[t],query:_t(r,A)}}function _t({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:Yo(r,n),selection:dc(e,t,i,n)}}function dc(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),hc(e,n)):fc(n,t,r)}function fc(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&gc(n,t,e),yc(n,r,e),n}function gc(e,t,r){for(let[n,i]of Object.entries(t)){if(he(i))continue;let o=r.nestSelection(n);if(Ln(i,o),i===!1||i===void 0){e[n]=!1;continue}let s=r.findField(n);if(s&&s.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),s){e[n]=_t(i===!0?{}:i,o);continue}if(i===!0){e[n]=!0;continue}e[n]=_t(i,o)}}function yc(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},o=Wo(i,n);for(let[s,a]of Object.entries(o)){if(he(a))continue;Ln(a,r.nestSelection(s));let d=r.findField(s);n?.[s]&&!d||(e[s]=!a)}}function hc(e,t){let r={},n=t.getComputedFields(),i=Jo(e,n);for(let[o,s]of Object.entries(i)){if(he(s))continue;let a=t.nestSelection(o);Ln(s,a);let d=t.findField(o);if(!(n?.[o]&&!d)){if(s===!1||s===void 0||he(s)){r[o]=!1;continue}if(s===!0){d?.kind==="object"?r[o]=_t({},a):r[o]=!0;continue}r[o]=_t(s,a)}}return r}function Zo(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(Xe(e)){if(br(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(Go(e))return{$type:"Param",value:e.name};if(st(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return wc(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:y.from(r,n,i).toString("base64")}}if(bc(e))return e.values;if(et(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof pc){if(!uc(e)&&!cc(e)&&!lc(e))throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(xc(e))return e.toJSON();if(typeof e=="object")return Yo(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function Yo(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],o=t.nestArgument(n);he(i)||(i!==void 0?r[n]=Zo(i,o):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:o.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:zo}))}return r}function wc(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),o=e[n];if(o===void 0||he(o)){let s=o===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${s}\` value within array. Use \`null\` or filter out \`${s}\` values`})}r.push(Zo(o,i))}return r}function bc(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function xc(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function Ln(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:zo})}var Nn=class e{constructor(t){this.params=t;this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){Ir({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Ce(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:Te(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};l();u();c();p();m();function Ec(e,t){let r=Pt(()=>Tc(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function Tc(e){throw new Error("Prisma.dmmf is not available when running in edge runtimes.")}function _n(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}l();u();c();p();m();var Fn=new WeakMap,Mr="$$PrismaTypedSql",Ft=class{constructor(t,r){Fn.set(this,{sql:t,values:r}),Object.defineProperty(this,Mr,{value:Mr})}get sql(){return Fn.get(this).sql}get values(){return Fn.get(this).values}};function Pc(e){return(...t)=>new Ft(e,t)}function Nr(e){return e!=null&&e[Mr]===Mr}l();u();c();p();m();import{Sql as sd}from"@prisma/client-runtime-utils";l();u();c();p();m();Xo();l();u();c();p();m();l();u();c();p();m();function Ut(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}l();u();c();p();m();function Y(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}l();u();c();p();m();function Ue(e){let t=new fe;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}l();u();c();p();m();l();u();c();p();m();var Lr={enumerable:!0,configurable:!0,writable:!0};function _r(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>Lr,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var es=Symbol.for("nodejs.util.inspect.custom");function le(e,t){let r=Ac(t),n=new Set,i=new Proxy(e,{get(o,s){if(n.has(s))return o[s];let a=r.get(s);return a?a.getPropertyValue(s):o[s]},has(o,s){if(n.has(s))return!0;let a=r.get(s);return a?a.has?.(s)??!0:Reflect.has(o,s)},ownKeys(o){let s=ts(Reflect.ownKeys(o),r),a=ts(Array.from(r.keys()),r);return[...new Set([...s,...a,...n])]},set(o,s,a){return r.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(n.add(s),Reflect.set(o,s,a))},getOwnPropertyDescriptor(o,s){let a=Reflect.getOwnPropertyDescriptor(o,s);if(a&&!a.configurable)return a;let d=r.get(s);return d?d.getPropertyDescriptor?{...Lr,...d?.getPropertyDescriptor(s)}:Lr:a},defineProperty(o,s,a){return n.add(s),Reflect.defineProperty(o,s,a)},getPrototypeOf:()=>Object.prototype});return i[es]=function(){let o={...this};return delete o[es],o},i}function Ac(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function ts(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}l();u();c();p();m();function ut(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}l();u();c();p();m();function rs(e){if(e===void 0)return"";let t=at(e);return new tt(0,{colors:vr}).write(t).toString()}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var Un=class{getLocation(){return null}};function Re(e){return typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new Un}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var ns={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function ct(e={}){let t=Cc(e);return Object.entries(t).reduce((n,[i,o])=>(ns[i]!==void 0?n.select[i]={select:o}:n[i]=o,n),{select:{}})}function Cc(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function Fr(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function is(e,t){let r=Fr(e);return t({action:"aggregate",unpacker:r,argsMapper:ct})(e)}l();u();c();p();m();function Sc(e={}){let{select:t,...r}=e;return typeof t=="object"?ct({...r,_count:t}):ct({...r,_count:{_all:!0}})}function Rc(e={}){return typeof e.select=="object"?t=>Fr(e)(t)._count:t=>Fr(e)(t)._count._all}function os(e,t){return t({action:"count",unpacker:Rc(e),argsMapper:Sc})(e)}l();u();c();p();m();function Ic(e={}){let t=ct(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function Oc(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function ss(e,t){return t({action:"groupBy",unpacker:Oc(e),argsMapper:Ic})(e)}function as(e,t,r){if(t==="aggregate")return n=>is(n,r);if(t==="count")return n=>os(n,r);if(t==="groupBy")return n=>ss(n,r)}l();u();c();p();m();function ls(e,t){let r=t.fields.filter(i=>!i.relationName),n=eo(r,"name");return new Proxy({},{get(i,o){if(o in i||typeof o=="symbol")return i[o];let s=n[o];if(s)return new Dt(e,o,s.type,s.isList,s.kind==="enum")},..._r(Object.keys(n))})}l();u();c();p();m();l();u();c();p();m();var us=e=>Array.isArray(e)?e:e.split("."),$n=(e,t)=>us(t).reduce((r,n)=>r&&r[n],e),cs=(e,t,r)=>us(t).reduceRight((n,i,o,s)=>Object.assign({},$n(e,s.slice(0,o)),{[i]:n}),r);function kc(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function Mc(e,t,r){return t===void 0?e??{}:cs(t,r,e||!0)}function qn(e,t,r,n,i,o){let a=e._runtimeDataModel.models[t].fields.reduce((d,f)=>({...d,[f.name]:f}),{});return d=>{let f=Re(e._errorFormat),P=kc(n,i),A=Mc(d,o,P),S=r({dataPath:P,callsite:f})(A),C=Nc(e,t);return new Proxy(S,{get(M,R){if(!C.includes(R))return M[R];let xe=[a[R].type,r,R],X=[P,A];return qn(e,...xe,...X)},..._r([...C,...Object.getOwnPropertyNames(S)])})}}function Nc(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var Dc=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],Lc=["aggregate","count","groupBy"];function Vn(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[_c(e,t),Uc(e,t),Ut(r),Y("name",()=>t),Y("$name",()=>t),Y("$parent",()=>e._appliedParent)];return le({},n)}function _c(e,t){let r=ye(t),n=Object.keys(kt).concat("count");return{getKeys(){return n},getPropertyValue(i){let o=i,s=a=>d=>{let f=Re(e._errorFormat);return e._createPrismaPromise(P=>{let A={args:d,dataPath:[],action:o,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:P,callsite:f};return e._request({...A,...a})},{action:o,args:d,model:t})};return Dc.includes(o)?qn(e,t,s):Fc(i)?as(e,i,s):s({})}}}function Fc(e){return Lc.includes(e)}function Uc(e,t){return Ue(Y("fields",()=>{let r=e._runtimeDataModel.models[t];return ls(t,r)}))}l();u();c();p();m();function ps(e){return e.replace(/^./,t=>t.toUpperCase())}var Bn=Symbol();function $t(e){let t=[$c(e),qc(e),Y(Bn,()=>e),Y("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(Ut(r)),le(e,t)}function $c(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function qc(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(ye),n=[...new Set(t.concat(r))];return Ue({getKeys(){return n},getPropertyValue(i){let o=ps(i);if(e._runtimeDataModel.models[o]!==void 0)return Vn(e,o);if(e._runtimeDataModel.models[i]!==void 0)return Vn(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function ms(e){return e[Bn]?e[Bn]:e}function ds(e){if(typeof e=="function")return e(this);let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return $t(t)}l();u();c();p();m();l();u();c();p();m();function fs({result:e,modelName:t,select:r,omit:n,extensions:i}){let o=i.getAllComputedFields(t);if(!o)return e;let s=[],a=[];for(let d of Object.values(o)){if(n){if(n[d.name])continue;let f=d.needs.filter(P=>n[P]);f.length>0&&a.push(ut(f))}else if(r){if(!r[d.name])continue;let f=d.needs.filter(P=>!r[P]);f.length>0&&a.push(ut(f))}Vc(e,d.needs)&&s.push(Bc(d,le(e,s)))}return s.length>0||a.length>0?le(e,[...s,...a]):e}function Vc(e,t){return t.every(r=>Sn(e,r))}function Bc(e,t){return Ue(Y(e.name,()=>e.compute(t)))}l();u();c();p();m();function Ur({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=Ur({result:t[s],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let o=e(t,i,r)??t;return r.include&&gs({includeOrSelect:r.include,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&gs({includeOrSelect:r.select,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),o}function gs({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[o,s]of Object.entries(e)){if(!s||t[o]==null||he(s))continue;let d=n.models[r].fields.find(P=>P.name===o);if(!d||d.kind!=="object"||!d.relationName)continue;let f=typeof s=="object"?s:{};t[o]=Ur({visitor:i,result:t[o],args:f,modelName:d.type,runtimeDataModel:n})}}function ys({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:o}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:Ur({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,d,f)=>{let P=ye(d);return fs({result:a,modelName:P,select:f.select,omit:f.select?void 0:{...o?.[P],...f.omit},extensions:n})}})}l();u();c();p();m();l();u();c();p();m();import{Decimal as Qc,ObjectEnumValue as Hc,Sql as ws}from"@prisma/client-runtime-utils";l();u();c();p();m();var jc=["$connect","$disconnect","$on","$transaction","$extends"],hs=jc;function bs(e){if(e instanceof ws)return Jc(e);if(Nr(e))return Wc(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=qt(e[n]);return r}let t={};for(let r in e)t[r]=qt(e[r]);return t}function Jc(e){return new ws(e.strings,e.values)}function Wc(e){return new Ft(e.sql,e.values)}function qt(e){if(typeof e!="object"||e==null||e instanceof Hc||st(e))return e;if(et(e))return new Qc(e.toFixed());if(Xe(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=qt(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:qt(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=qt(e[r]);return t}Te(e,"Unknown value")}function Es(e,t,r,n=0){return e._createPrismaPromise(i=>{let o=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:bs(t.args??{}),__internalParams:t,query:(s,a=t)=>{let d=a.customDataProxyFetch;return a.customDataProxyFetch=vs(o,d),a.args=s,Es(e,a,r,n+1)}})})}function Ts(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,o=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",o);return Es(e,t,s)}function Ps(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?As(r,n,0,e):e(r)}}function As(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,o=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:o?{isolationLevel:o.kind==="batch"?o.isolationLevel:void 0}:void 0},__internalParams:e,query(s,a=e){let d=a.customDataProxyFetch;return a.customDataProxyFetch=vs(i,d),As(a,t,r+1,n)}})}var xs=e=>e;function vs(e=xs,t=xs){return r=>e(t(r))}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();import{Decimal as Gc}from"@prisma/client-runtime-utils";l();u();c();p();m();import{Decimal as $r}from"@prisma/client-runtime-utils";function D(e,t){throw new Error(t)}function jn(e,t){return e===t||e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>jn(e[r],t[r]))}function pt(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(o=>{if(typeof e[o]==typeof t[o]&&typeof e[o]!="object")return e[o]===t[o];if($r.isDecimal(e[o])||$r.isDecimal(t[o])){let s=Cs(e[o]),a=Cs(t[o]);return s&&a&&s.equals(a)}else if(e[o]instanceof Uint8Array||t[o]instanceof Uint8Array){let s=Ss(e[o]),a=Ss(t[o]);return s&&a&&s.equals(a)}else{if(e[o]instanceof Date||t[o]instanceof Date)return Rs(e[o])?.getTime()===Rs(t[o])?.getTime();if(typeof e[o]=="bigint"||typeof t[o]=="bigint")return Is(e[o])===Is(t[o]);if(typeof e[o]=="number"||typeof t[o]=="number")return Os(e[o])===Os(t[o])}return jn(e[o],t[o])})}function Cs(e){return $r.isDecimal(e)?e:typeof e=="number"||typeof e=="string"?new $r(e):void 0}function Ss(e){return y.isBuffer(e)?e:e instanceof Uint8Array?y.from(e.buffer,e.byteOffset,e.byteLength):typeof e=="string"?y.from(e,"base64"):void 0}function Rs(e){return e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):void 0}function Is(e){return typeof e=="bigint"?e:typeof e=="number"||typeof e=="string"?BigInt(e):void 0}function Os(e){return typeof e=="number"?e:typeof e=="string"?Number(e):void 0}function Vt(e){return JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():ArrayBuffer.isView(r)?y.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):r)}function Kc(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function zc(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function $e(e){return e===null?e:Array.isArray(e)?e.map($e):typeof e=="object"?Kc(e)?Zc(e):e.constructor!==null&&e.constructor.name!=="Object"?e:zc(e,$e):e}function Zc({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=y.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new Gc(t);case"Json":return JSON.parse(t);default:D(t,"Unknown tagged value")}}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();function qr(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}l();u();c();p();m();var I={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var K=class extends Error{name="UserFacingError";code;meta;constructor(t,r,n){super(t),this.code=r,this.meta=n??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function mt(e){if(!qr(e))throw e;let t=Yc(e),r=ks(e);throw!t||!r?e:new K(r,t,{driverAdapterError:e})}function Hn(e){throw qr(e)?new K(`Raw query failed. Code: \`${e.cause.originalCode??"N/A"}\`. Message: \`${e.cause.originalMessage??ks(e)}\``,"P2010",{driverAdapterError:e}):e}function Yc(e){switch(e.cause.kind){case"AuthenticationFailed":return"P1000";case"DatabaseNotReachable":return"P1001";case"DatabaseDoesNotExist":return"P1003";case"SocketTimeout":return"P1008";case"DatabaseAlreadyExists":return"P1009";case"DatabaseAccessDenied":return"P1010";case"TlsConnectionError":return"P1011";case"ConnectionClosed":return"P1017";case"TransactionAlreadyClosed":return"P1018";case"LengthMismatch":return"P2000";case"UniqueConstraintViolation":return"P2002";case"ForeignKeyConstraintViolation":return"P2003";case"InvalidInputValue":return"P2007";case"UnsupportedNativeDataType":return"P2010";case"NullConstraintViolation":return"P2011";case"ValueOutOfRange":return"P2020";case"TableDoesNotExist":return"P2021";case"ColumnNotFound":return"P2022";case"InvalidIsolationLevel":case"InconsistentColumnData":return"P2023";case"MissingFullTextSearchIndex":return"P2030";case"TransactionWriteConflict":return"P2034";case"GenericJs":return"P2036";case"TooManyConnections":return"P2037";case"postgres":case"sqlite":case"mysql":case"mssql":return;default:D(e.cause,`Unknown error: ${e.cause}`)}}function ks(e){switch(e.cause.kind){case"AuthenticationFailed":return`Authentication failed against the database server, the provided database credentials for \`${e.cause.user??"(not available)"}\` are not valid`;case"DatabaseNotReachable":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return`Can't reach database server${t?` at ${t}`:""}`}case"DatabaseDoesNotExist":return`Database \`${e.cause.db??"(not available)"}\` does not exist on the database server`;case"SocketTimeout":return"Operation has timed out";case"DatabaseAlreadyExists":return`Database \`${e.cause.db??"(not available)"}\` already exists on the database server`;case"DatabaseAccessDenied":return`User was denied access on the database \`${e.cause.db??"(not available)"}\``;case"TlsConnectionError":return`Error opening a TLS connection: ${e.cause.reason}`;case"ConnectionClosed":return"Server has closed the connection.";case"TransactionAlreadyClosed":return e.cause.cause;case"LengthMismatch":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??"(not available)"}`;case"UniqueConstraintViolation":return`Unique constraint failed on the ${Qn(e.cause.constraint)}`;case"ForeignKeyConstraintViolation":return`Foreign key constraint violated on the ${Qn(e.cause.constraint)}`;case"UnsupportedNativeDataType":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \`Unsupported\` in your Prisma schema, try casting this column to any supported Prisma type such as \`String\`.`;case"NullConstraintViolation":return`Null constraint violation on the ${Qn(e.cause.constraint)}`;case"ValueOutOfRange":return`Value out of range for the type: ${e.cause.cause}`;case"TableDoesNotExist":return`The table \`${e.cause.table??"(not available)"}\` does not exist in the current database.`;case"ColumnNotFound":return`The column \`${e.cause.column??"(not available)"}\` does not exist in the current database.`;case"InvalidIsolationLevel":return`Error in connector: Conversion error: ${e.cause.level}`;case"InconsistentColumnData":return`Inconsistent column data: ${e.cause.cause}`;case"MissingFullTextSearchIndex":return"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema";case"TransactionWriteConflict":return"Transaction failed due to a write conflict or a deadlock. Please retry your transaction";case"GenericJs":return`Error in external connector (id ${e.cause.id})`;case"TooManyConnections":return`Too many database connections opened: ${e.cause.cause}`;case"InvalidInputValue":return`Invalid input value: ${e.cause.message}`;case"sqlite":case"postgres":case"mysql":case"mssql":return;default:D(e.cause,`Unknown error: ${e.cause}`)}}function Qn(e){return e&&"fields"in e?`fields: (${e.fields.map(t=>`\`${t}\``).join(", ")})`:e&&"index"in e?`constraint: \`${e.index}\``:e&&"foreignKey"in e?"foreign key":"(not available)"}function Ms(e,t){let r=e.map(i=>t.keys.reduce((o,s)=>(o[s]=$e(i[s]),o),{})),n=new Set(t.nestedSelection);return t.arguments.map(i=>{let o=r.findIndex(s=>pt(s,i));if(o===-1)return t.expectNonEmpty?new K("An operation failed because it depends on one or more records that were required but not found","P2025"):null;{let s=Object.entries(e[o]).filter(([a])=>n.has(a));return Object.fromEntries(s)}})}l();u();c();p();m();import{Decimal as Xc}from"@prisma/client-runtime-utils";var $=class extends K{name="DataMapperError";constructor(t,r){super(t,"P2023",r)}},Ns=new WeakMap;function ep(e){let t=Ns.get(e);return t||(t=Object.entries(e),Ns.set(e,t)),t}function Ls(e,t,r){switch(t.type){case"affectedRows":if(typeof e!="number")throw new $(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case"object":return Wn(e,t.fields,r,t.skipNulls);case"field":return Jn(e,"<result>",t.fieldType,r);default:D(t,`Invalid data mapping type: '${t.type}'`)}}function Wn(e,t,r,n){if(e===null)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(o=>o!==null)),i.map(o=>Ds(o,t,r))}if(typeof e=="object")return Ds(e,t,r);if(typeof e=="string"){let i;try{i=JSON.parse(e)}catch(o){throw new $("Expected an array or object, got a string that is not valid JSON",{cause:o})}return Wn(i,t,r,n)}throw new $(`Expected an array or an object, got: ${typeof e}`)}function Ds(e,t,r){if(typeof e!="object")throw new $(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,o]of ep(t))switch(o.type){case"affectedRows":throw new $(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case"object":{let{serializedName:s,fields:a,skipNulls:d}=o;if(s!==null&&!Object.hasOwn(e,s))throw new $(`Missing data field (Object): '${i}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`);let f=s!==null?e[s]:e;n[i]=Wn(f,a,r,d);break}case"field":{let s=o.dbName;if(Object.hasOwn(e,s))n[i]=tp(e[s],s,o.fieldType,r);else throw new $(`Missing data field (Value): '${s}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`)}break;default:D(o,`DataMapper: Invalid data mapping node type: '${o.type}'`)}return n}function tp(e,t,r,n){return e===null?r.arity==="list"?[]:null:r.arity==="list"?e.map((o,s)=>Jn(o,`${t}[${s}]`,r,n)):Jn(e,t,r,n)}function Jn(e,t,r,n){switch(r.type){case"unsupported":return e;case"string":{if(typeof e!="string")throw new $(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e}case"int":switch(typeof e){case"number":return Math.trunc(e);case"string":{let i=Math.trunc(Number(e));if(Number.isNaN(i)||!Number.isFinite(i))throw new $(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(i))throw new $(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return i}default:throw new $(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case"bigint":{if(typeof e!="number"&&typeof e!="string")throw new $(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:"BigInt",value:e}}case"float":{if(typeof e=="number")return e;if(typeof e=="string"){let i=Number(e);if(Number.isNaN(i)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new $(`Expected a float in column '${t}', got string: ${e}`);return i}throw new $(`Expected a float in column '${t}', got ${typeof e}: ${e}`)}case"boolean":{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){if(e==="true"||e==="TRUE"||e==="1")return!0;if(e==="false"||e==="FALSE"||e==="0")return!1;throw new $(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)||e instanceof Uint8Array){for(let i of e)if(i!==0)return!0;return!1}throw new $(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}case"decimal":if(typeof e!="number"&&typeof e!="string"&&!Xc.isDecimal(e))throw new $(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:"Decimal",value:e};case"datetime":{if(typeof e=="string")return{$type:"DateTime",value:np(e)};if(typeof e=="number"||e instanceof Date)return{$type:"DateTime",value:e};throw new $(`Expected a date in column '${t}', got ${typeof e}: ${e}`)}case"object":return{$type:"Json",value:Vt(e)};case"json":return{$type:"Json",value:`${e}`};case"bytes":{switch(r.encoding){case"base64":if(typeof e!="string")throw new $(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:e};case"hex":if(typeof e!="string"||!e.startsWith("\\x"))throw new $(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:y.from(e.slice(2),"hex").toString("base64")};case"array":if(Array.isArray(e))return{$type:"Bytes",value:y.from(e).toString("base64")};if(e instanceof Uint8Array)return{$type:"Bytes",value:y.from(e).toString("base64")};throw new $(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:D(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break}case"enum":{let i=n[r.name];if(i===void 0)throw new $(`Unknown enum '${r.name}'`);let o=i[`${e}`];if(o===void 0)throw new $(`Value '${e}' not found in enum '${r.name}'`);return o}default:D(r,`DataMapper: Unknown result type: ${r.type}`)}}var rp=/\d{2}:\d{2}:\d{2}(?:\.\d+)?(Z|[+-]\d{2}(:?\d{2})?)?$/;function np(e){let t=rp.exec(e);if(t===null)return`${e}T00:00:00Z`;let r=e,[n,i,o]=t;if(i!==void 0&&i!=="Z"&&o===void 0?r=`${e}:00`:i===void 0&&(r=`${e}Z`),n.length===e.length)return`1970-01-01T${r}`;let s=t.index-1;return r[s]===" "&&(r=`${r.slice(0,s)}T${r.slice(s+1)}`),r}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();function we(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=we(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:we(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=we(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=we(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(we(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,o){r.set(we(o),we(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(we(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}function ip(e){let t=Object.entries(e);return t.length===0?"":(t.sort(([n],[i])=>n.localeCompare(i)),`/*${t.map(([n,i])=>{let o=encodeURIComponent(n),s=encodeURIComponent(i).replace(/'/g,"\\'");return`${o}='${s}'`}).join(",")}*/`)}function Vr(e,t){let r={};for(let n of e){let i=n(we(t));for(let[o,s]of Object.entries(i))s!==void 0&&(r[o]=s)}return r}function _s(e,t){let r=Vr(e,t);return ip(r)}function Fs(e,t){return t?`${e} ${t}`:e}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var Bt;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Bt||(Bt={}));function op(e){switch(e){case"postgresql":case"postgres":case"prisma+postgres":return"postgresql";case"sqlserver":return"mssql";case"mysql":case"sqlite":case"cockroachdb":case"mongodb":return e;default:D(e,`Unknown provider: ${e}`)}}async function Br({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){let o=n===void 0?i:async()=>{let s=new Date,a=w.now(),d=await i(),f=w.now();return n({timestamp:s,duration:f-a,query:e.sql,params:e.args}),d};return t.isEnabled()?await t.runInChildSpan({name:"db_query",kind:Bt.CLIENT,attributes:{"db.query.text":e.sql,"db.system.name":op(r)}},o):o()}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();function qe(e,t){var r="000000000"+e;return r.substr(r.length-t)}var Us=Ne(yo(),1);function sp(){try{return Us.default.hostname()}catch{return g.env._CLUSTER_NETWORK_NAME_||g.env.COMPUTERNAME||"hostname"}}var $s=2,ap=qe(g.pid.toString(36),$s),qs=sp(),lp=qs.length,up=qe(qs.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+lp+36).toString(36),$s);function Gn(){return ap+up}l();u();c();p();m();l();u();c();p();m();function jr(e){return typeof e=="string"&&/^c[a-z0-9]{20,32}$/.test(e)}function Kn(e){let n=Math.pow(36,4),i=0;function o(){return qe((Math.random()*n<<0).toString(36),4)}function s(){return i=i<n?i:0,i++,i-1}function a(){var d="c",f=new Date().getTime().toString(36),P=qe(s().toString(36),4),A=e(),S=o()+o();return d+f+P+A+S}return a.fingerprint=e,a.isCuid=jr,a}var cp=Kn(Gn);var Vs=cp;var Ua=Ne(ka());l();u();c();p();m();Fe();l();u();c();p();m();var Ma="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var zp=128,Be,gt;function Zp(e){!Be||Be.length<e?(Be=y.allocUnsafe(e*zp),St.getRandomValues(Be),gt=0):gt+e>Be.length&&(St.getRandomValues(Be),gt=0),gt+=e}function ii(e=21){Zp(e|=0);let t="";for(let r=gt-e;r<gt;r++)t+=Ma[Be[r]&63];return t}l();u();c();p();m();Fe();var Da="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Gt=32;var Yp=16,La=10,Na=0xffffffffffff;var je;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(je||(je={}));var Qe=class extends Error{constructor(t,r){super(`${r} (${t})`),this.name="ULIDError",this.code=t}};function Xp(e){let t=Math.floor(e()*Gt);return t===Gt&&(t=Gt-1),Da.charAt(t)}function em(e){let t=tm(),r=t&&(t.crypto||t.msCrypto)||(typeof Ze<"u"?Ze:null);if(typeof r?.getRandomValues=="function")return()=>{let n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;if(Ze?.randomBytes)return()=>Ze.randomBytes(1).readUInt8()/255;throw new Qe(je.PRNGDetectFailure,"Failed to find a reliable PRNG")}function tm(){return im()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function rm(e,t){let r="";for(;e>0;e--)r=Xp(t)+r;return r}function nm(e,t=La){if(isNaN(e))throw new Qe(je.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>Na)throw new Qe(je.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${Na}: ${e}`);if(e<0)throw new Qe(je.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new Qe(je.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n="";for(let i=t;i>0;i--)r=e%Gt,n=Da.charAt(r)+n,e=(e-r)/Gt;return n}function im(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function _a(e,t){let r=t||em(),n=!e||isNaN(e)?Date.now():e;return nm(n,La)+rm(Yp,r)}l();u();c();p();m();l();u();c();p();m();var z=[];for(let e=0;e<256;++e)z.push((e+256).toString(16).slice(1));function Wr(e,t=0){return(z[e[t+0]]+z[e[t+1]]+z[e[t+2]]+z[e[t+3]]+"-"+z[e[t+4]]+z[e[t+5]]+"-"+z[e[t+6]]+z[e[t+7]]+"-"+z[e[t+8]]+z[e[t+9]]+"-"+z[e[t+10]]+z[e[t+11]]+z[e[t+12]]+z[e[t+13]]+z[e[t+14]]+z[e[t+15]]).toLowerCase()}l();u();c();p();m();Fe();var Kr=new Uint8Array(256),Gr=Kr.length;function yt(){return Gr>Kr.length-16&&(fr(Kr),Gr=0),Kr.slice(Gr,Gr+=16)}l();u();c();p();m();l();u();c();p();m();Fe();var oi={randomUUID:dr};function om(e,t,r){if(oi.randomUUID&&!t&&!e)return oi.randomUUID();e=e||{};let n=e.random??e.rng?.()??yt();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Wr(n)}var si=om;l();u();c();p();m();var ai={};function sm(e,t,r){let n;if(e)n=Fa(e.random??e.rng?.()??yt(),e.msecs,e.seq,t,r);else{let i=Date.now(),o=yt();am(ai,i,o),n=Fa(o,ai.msecs,ai.seq,t,r)}return t??Wr(n)}function am(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function Fa(e,t,r,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=t&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var li=sm;var zr=class{#t={};constructor(){this.register("uuid",new ci),this.register("cuid",new pi),this.register("ulid",new mi),this.register("nanoid",new di),this.register("product",new fi)}snapshot(){return Object.create(this.#t,{now:{value:new ui}})}register(t,r){this.#t[t]=r}},ui=class{#t=new Date;generate(){return this.#t.toISOString()}},ci=class{generate(t){if(t===4)return si();if(t===7)return li();throw new Error("Invalid UUID generator arguments")}},pi=class{generate(t){if(t===1)return Vs();if(t===2)return(0,Ua.createId)();throw new Error("Invalid CUID generator arguments")}},mi=class{generate(){return _a()}},di=class{generate(t){if(typeof t=="number")return ii(t);if(t===void 0)return ii();throw new Error("Invalid Nanoid generator arguments")}},fi=class{generate(t,r){if(t===void 0||r===void 0)throw new Error("Invalid Product generator arguments");return Array.isArray(t)&&Array.isArray(r)?t.flatMap(n=>r.map(i=>[n,i])):Array.isArray(t)?t.map(n=>[n,r]):Array.isArray(r)?r.map(n=>[t,n]):[[t,r]]}};l();u();c();p();m();function Zr(e,t){return e==null?e:typeof e=="string"?Zr(JSON.parse(e),t):Array.isArray(e)?um(e,t):lm(e,t)}function lm(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(r!==null&&r>0||n===0||i!==null&&!pt(e,i))return null}return qa(e,t.nested)}function qa(e,t){for(let[r,n]of Object.entries(t))e[r]=Zr(e[r],n);return e}function um(e,t){if(t.distinct!==null){let r=t.linkingFields!==null?[...t.distinct,...t.linkingFields]:t.distinct;e=cm(e,r)}return t.pagination&&(e=pm(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),Object.keys(t.nested).length===0?e:e.map(r=>qa(r,t.nested))}function cm(e,t){let r=new Set,n=[];for(let i of e){let o=ht(i,t);r.has(o)||(r.add(o),n.push(i))}return n}function pm(e,t,r){if(r===null)return $a(e,t);let n=new Map;for(let o of e){let s=ht(o,r);n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=Array.from(n.entries());return i.sort(([o],[s])=>o<s?-1:o>s?1:0),i.flatMap(([,o])=>$a(o,t))}function $a(e,{cursor:t,skip:r,take:n}){let i=t!==null?e.findIndex(a=>pt(a,t)):0;if(i===-1)return[];let o=i+(r??0),s=n!==null?o+n:e.length;return e.slice(o,s)}function ht(e,t){return JSON.stringify(t.map(r=>e[r]))}l();u();c();p();m();l();u();c();p();m();function gi(e){return typeof e=="object"&&e!==null&&e.prisma__type==="param"}function yi(e){return typeof e=="object"&&e!==null&&e.prisma__type==="generatorCall"}function bi(e,t,r,n){let i=e.args.map(o=>ue(o,t,r));switch(e.type){case"rawSql":return[fm(e.sql,i,e.argTypes)];case"templateSql":return(e.chunkable?ym(e.fragments,i,n):[i]).map(s=>{if(n!==void 0&&s.length>n)throw new K("The query parameter limit supported by your database is exceeded.","P2029");return mm(e.fragments,e.placeholderFormat,s,e.argTypes)});default:D(e.type,"Invalid query type")}}function ue(e,t,r){for(;gm(e);)if(gi(e)){let n=t[e.prisma__value.name];if(n===void 0)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=n}else if(yi(e)){let{name:n,args:i}=e.prisma__value,o=r[n];if(!o)throw new Error(`Encountered an unknown generator '${n}'`);e=o.generate(...i.map(s=>ue(s,t,r)))}else D(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(n=>ue(n,t,r))),e}function mm(e,t,r,n){let i="",o={placeholderNumber:1},s=[],a=[];for(let d of wi(e,r,n)){if(i+=dm(d,t,o),d.type==="stringChunk")continue;let f=s.length,P=s.push(...Va(d))-f;if(d.argType.arity==="tuple"){if(P%d.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${P} parameters for a tuple of arity ${d.argType.elements.length}.`);for(let A=0;A<P/d.argType.elements.length;A++)a.push(...d.argType.elements)}else for(let A=0;A<P;A++)a.push(d.argType)}return{sql:i,args:s,argTypes:a}}function dm(e,t,r){let n=e.type;switch(n){case"parameter":return hi(t,r.placeholderNumber++);case"stringChunk":return e.chunk;case"parameterTuple":return`(${e.value.length==0?"NULL":e.value.map(()=>hi(t,r.placeholderNumber++)).join(",")})`;case"parameterTupleList":return e.value.map(i=>{let o=i.map(()=>hi(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.groupSeparator);default:D(n,"Invalid fragment type")}}function hi(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function fm(e,t,r){return{sql:e,args:t,argTypes:r}}function gm(e){return gi(e)||yi(e)}function*wi(e,t,r){let n=0;for(let i of e)switch(i.type){case"parameter":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break}case"stringChunk":{yield i;break}case"parameterTuple":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];yield{...i,value:Array.isArray(o)?o:[o],argType:r?.[n]},n++;break}case"parameterTupleList":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];if(!Array.isArray(o))throw new Error("Malformed query template. Tuple list expected.");if(o.length===0)throw new Error("Malformed query template. Tuple list cannot be empty.");for(let s of o)if(!Array.isArray(s))throw new Error("Malformed query template. Tuple expected.");yield{...i,value:o,argType:r?.[n]},n++;break}}}function*Va(e){switch(e.type){case"parameter":yield e.value;break;case"stringChunk":break;case"parameterTuple":yield*e.value;break;case"parameterTupleList":for(let t of e.value)yield*t;break}}function ym(e,t,r){let n=0,i=0;for(let s of wi(e,t,void 0)){let a=0;for(let d of Va(s))a++;i=Math.max(i,a),n+=a}let o=[[]];for(let s of wi(e,t,void 0))switch(s.type){case"parameter":{for(let a of o)a.push(s.value);break}case"stringChunk":break;case"parameterTuple":{let a=s.value.length,d=[];if(r&&o.length===1&&a===i&&n>r&&n-a<r){let f=r-(n-a);d=hm(s.value,f)}else d=[s.value];o=o.flatMap(f=>d.map(P=>[...f,P]));break}case"parameterTupleList":{let a=s.value.reduce((A,S)=>A+S.length,0),d=[],f=[],P=0;for(let A of s.value)r&&o.length===1&&a===i&&f.length>0&&n-a+P+A.length>r&&(d.push(f),f=[],P=0),f.push(A),P+=A.length;f.length>0&&d.push(f),o=o.flatMap(A=>d.map(S=>[...A,S]));break}}return o}function hm(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}l();u();c();p();m();function Ba(e){return e.rows.map(t=>t.reduce((r,n,i)=>(r[e.columnNames[i]]=n,r),{}))}function ja(e){return{columns:e.columnNames,types:e.columnTypes.map(t=>wm(t)),rows:e.rows.map(t=>t.map((r,n)=>Kt(r,e.columnTypes[n])))}}function Kt(e,t){if(e===null)return null;switch(t){case I.Int32:switch(typeof e){case"number":return Math.trunc(e);case"string":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case I.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(r=>Kt(r,I.Int32));case I.Int64:switch(typeof e){case"number":return BigInt(Math.trunc(e));case"string":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case I.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(r=>Kt(r,I.Int64));case I.Json:switch(typeof e){case"string":return JSON.parse(e);default:throw new Error(`Cannot serialize value of type ${typeof e} as Json`)}case I.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(r=>Kt(r,I.Json));case I.Boolean:switch(typeof e){case"boolean":return e;case"string":return e==="true"||e==="1";case"number":return e===1;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case I.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(r=>Kt(r,I.Boolean));default:return e}}function wm(e){switch(e){case I.Int32:return"int";case I.Int64:return"bigint";case I.Float:return"float";case I.Double:return"double";case I.Text:return"string";case I.Enum:return"enum";case I.Bytes:return"bytes";case I.Boolean:return"bool";case I.Character:return"char";case I.Numeric:return"decimal";case I.Json:return"json";case I.Uuid:return"uuid";case I.DateTime:return"datetime";case I.Date:return"date";case I.Time:return"time";case I.Int32Array:return"int-array";case I.Int64Array:return"bigint-array";case I.FloatArray:return"float-array";case I.DoubleArray:return"double-array";case I.TextArray:return"string-array";case I.EnumArray:return"string-array";case I.BytesArray:return"bytes-array";case I.BooleanArray:return"bool-array";case I.CharacterArray:return"char-array";case I.NumericArray:return"decimal-array";case I.JsonArray:return"json-array";case I.UuidArray:return"uuid-array";case I.DateTimeArray:return"datetime-array";case I.DateArray:return"date-array";case I.TimeArray:return"time-array";case I.UnknownNumber:return"unknown";case I.Set:return"string";default:D(e,`Unexpected column type: ${e}`)}}l();u();c();p();m();function Qa(e,t,r){if(!t.every(n=>xi(e,n))){let n=bm(e,r),i=xm(r);throw new K(n,i,r.context)}}function xi(e,t){switch(t.type){case"rowCountEq":return Array.isArray(e)?e.length===t.args:e===null?t.args===0:t.args===1;case"rowCountNeq":return Array.isArray(e)?e.length!==t.args:e===null?t.args!==0:t.args!==1;case"affectedRowCountEq":return e===t.args;case"never":return!1;default:D(t,`Unknown rule type: ${t.type}`)}}function bm(e,t){switch(t.error_identifier){case"RELATION_VIOLATION":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \`${t.context.modelA}\` and \`${t.context.modelB}\` models.`;case"MISSING_RECORD":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case"MISSING_RELATED_RECORD":{let r=t.context.neededFor?` (needed to ${t.context.neededFor})`:"";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${r} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case"INCOMPLETE_CONNECT_INPUT":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case"INCOMPLETE_CONNECT_OUTPUT":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case"RECORDS_NOT_CONNECTED":return`The records for relation \`${t.context.relation}\` between the \`${t.context.parent}\` and \`${t.context.child}\` models are not connected.`;default:D(t,`Unknown error identifier: ${t}`)}}function xm(e){switch(e.error_identifier){case"RELATION_VIOLATION":return"P2014";case"RECORDS_NOT_CONNECTED":return"P2017";case"INCOMPLETE_CONNECT_OUTPUT":return"P2018";case"MISSING_RECORD":case"MISSING_RELATED_RECORD":case"INCOMPLETE_CONNECT_INPUT":return"P2025";default:D(e,`Unknown error identifier: ${e}`)}}var zt=class e{#t;#e=new zr;#n;#r;#o;#i;#s;constructor({onQuery:t,tracingHelper:r,serializer:n,rawSerializer:i,provider:o,connectionInfo:s}){this.#t=t,this.#n=r,this.#r=n,this.#o=i??n,this.#i=o,this.#s=s}static forSql(t){return new e({onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:Ba,rawSerializer:ja,provider:t.provider,connectionInfo:t.connectionInfo})}async run(t,r){let{value:n}=await this.interpretNode(t,{...r,generators:this.#e.snapshot()}).catch(i=>mt(i));return n}async interpretNode(t,r){switch(t.type){case"value":return{value:ue(t.args,r.scope,r.generators)};case"seq":{let n;for(let i of t.args)n=await this.interpretNode(i,r);return n??{value:void 0}}case"get":return{value:r.scope[t.args.name]};case"let":{let n=Object.create(r.scope);for(let i of t.args.bindings){let{value:o}=await this.interpretNode(i.expr,{...r,scope:n});n[i.name]=o}return this.interpretNode(t.args.expr,{...r,scope:n})}case"getFirstNonEmpty":{for(let n of t.args.names){let i=r.scope[n];if(!Ha(i))return{value:i}}return{value:[]}}case"concat":{let n=await Promise.all(t.args.map(i=>this.interpretNode(i,r).then(o=>o.value)));return{value:n.length>0?n.reduce((i,o)=>i.concat(Ei(o)),[]):[]}}case"sum":{let n=await Promise.all(t.args.map(i=>this.interpretNode(i,r).then(o=>o.value)));return{value:n.length>0?n.reduce((i,o)=>be(i)+be(o)):0}}case"execute":{let n=bi(t.args,r.scope,r.generators,this.#a()),i=0;for(let o of n){let s=Ja(o,r.sqlCommenter);i+=await this.#l(s,r.queryable,()=>r.queryable.executeRaw(s).catch(a=>t.args.type==="rawSql"?Hn(a):mt(a)))}return{value:i}}case"query":{let n=bi(t.args,r.scope,r.generators,this.#a()),i;for(let o of n){let s=Ja(o,r.sqlCommenter),a=await this.#l(s,r.queryable,()=>r.queryable.queryRaw(s).catch(d=>t.args.type==="rawSql"?Hn(d):mt(d)));i===void 0?i=a:(i.rows.push(...a.rows),i.lastInsertId=a.lastInsertId)}return{value:t.args.type==="rawSql"?this.#o(i):this.#r(i),lastInsertId:i?.lastInsertId}}case"reverse":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);return{value:Array.isArray(n)?n.reverse():n,lastInsertId:i}}case"unique":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);if(!Array.isArray(n))return{value:n,lastInsertId:i};if(n.length>1)throw new Error(`Expected zero or one element, got ${n.length}`);return{value:n[0]??null,lastInsertId:i}}case"required":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);if(Ha(n))throw new Error("Required value is empty");return{value:n,lastInsertId:i}}case"mapField":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.records,r);return{value:Wa(n,t.args.field),lastInsertId:i}}case"join":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.parent,r);if(n===null)return{value:null,lastInsertId:i};let o=await Promise.all(t.args.children.map(async s=>({joinExpr:s,childRecords:(await this.interpretNode(s.child,r)).value})));return{value:Em(n,o),lastInsertId:i}}case"transaction":{if(!r.transactionManager.enabled)return this.interpretNode(t.args,r);let n=r.transactionManager.manager,i=await n.startInternalTransaction(),o=await n.getTransaction(i,"query");try{let s=await this.interpretNode(t.args,{...r,queryable:o});return await n.commitTransaction(i.id),s}catch(s){throw await n.rollbackTransaction(i.id),s}}case"dataMap":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return{value:Ls(n,t.args.structure,t.args.enums),lastInsertId:i}}case"validate":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return Qa(n,t.args.rules,t.args),{value:n,lastInsertId:i}}case"if":{let{value:n}=await this.interpretNode(t.args.value,r);return xi(n,t.args.rule)?await this.interpretNode(t.args.then,r):await this.interpretNode(t.args.else,r)}case"unit":return{value:void 0};case"diff":{let{value:n}=await this.interpretNode(t.args.from,r),{value:i}=await this.interpretNode(t.args.to,r),o=a=>a!==null?ht(Yr(a),t.args.fields):null,s=new Set(Ei(i).map(o));return{value:Ei(n).filter(a=>!s.has(o(a)))}}case"process":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return{value:Zr(n,t.args.operations),lastInsertId:i}}case"initializeRecord":{let{lastInsertId:n}=await this.interpretNode(t.args.expr,r),i={};for(let[o,s]of Object.entries(t.args.fields))i[o]=Tm(s,n,r.scope,r.generators);return{value:i,lastInsertId:n}}case"mapRecord":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r),o=n===null?{}:Yr(n);for(let[s,a]of Object.entries(t.args.fields))o[s]=Pm(a,o[s],r.scope,r.generators);return{value:o,lastInsertId:i}}default:D(t,`Unexpected node type: ${t.type}`)}}#a(){return this.#s?.maxBindValues!==void 0?this.#s.maxBindValues:this.#u()}#u(){if(this.#i!==void 0)switch(this.#i){case"cockroachdb":case"postgres":case"postgresql":case"prisma+postgres":return 32766;case"mysql":return 65535;case"sqlite":return 999;case"sqlserver":return 2098;case"mongodb":return;default:D(this.#i,`Unexpected provider: ${this.#i}`)}}#l(t,r,n){return Br({query:t,execute:n,provider:this.#i??r.provider,tracingHelper:this.#n,onQuery:this.#t})}};function Ha(e){return Array.isArray(e)?e.length===0:e==null}function Ei(e){return Array.isArray(e)?e:[e]}function be(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e);throw new Error(`Expected number, got ${typeof e}`)}function Yr(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Expected object, got ${typeof e}`)}function Wa(e,t){return Array.isArray(e)?e.map(r=>Wa(r,t)):typeof e=="object"&&e!==null?e[t]??null:e}function Em(e,t){for(let{joinExpr:r,childRecords:n}of t){let i=r.on.map(([a])=>a),o=r.on.map(([,a])=>a),s={};for(let a of Array.isArray(e)?e:[e]){let d=Yr(a),f=ht(d,i);s[f]||(s[f]=[]),s[f].push(d),r.isRelationUnique?d[r.parentField]=null:d[r.parentField]=[]}for(let a of Array.isArray(n)?n:[n]){if(a===null)continue;let d=ht(Yr(a),o);for(let f of s[d]??[])r.isRelationUnique?f[r.parentField]=a:f[r.parentField].push(a)}}return e}function Tm(e,t,r,n){switch(e.type){case"value":return ue(e.value,r,n);case"lastInsertId":return t;default:D(e,`Unexpected field initializer type: ${e.type}`)}}function Pm(e,t,r,n){switch(e.type){case"set":return ue(e.value,r,n);case"add":return be(t)+be(ue(e.value,r,n));case"subtract":return be(t)-be(ue(e.value,r,n));case"multiply":return be(t)*be(ue(e.value,r,n));case"divide":{let i=be(t),o=be(ue(e.value,r,n));return o===0?null:i/o}default:D(e,`Unexpected field operation type: ${e.type}`)}}function Ja(e,t){if(!t||t.plugins.length===0)return e;let r=_s(t.plugins,{query:t.queryInfo,sql:e.sql});return r?{...e,sql:Fs(e.sql,r)}:e}l();u();c();p();m();l();u();c();p();m();async function Am(){return globalThis.crypto??await Promise.resolve().then(()=>(Fe(),Pn))}async function Ga(){return(await Am()).randomUUID()}l();u();c();p();m();async function Ka(e,t){return new Promise(r=>{e.addEventListener(t,r,{once:!0})})}l();u();c();p();m();var se=class extends K{name="TransactionManagerError";constructor(t,r){super("Transaction API error: "+t,"P2028",r)}},Zt=class extends se{constructor(){super("Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.")}},Xr=class extends se{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a committed transaction.`)}},en=class extends se{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a transaction that was rolled back.`)}},tn=class extends se{constructor(){super("Unable to start a transaction in the given time.")}},rn=class extends se{constructor(t,{timeout:r,timeTaken:n}){super(`A ${t} cannot be executed on an expired transaction. The timeout for this transaction was ${r} ms, however ${n} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:t,timeout:r,timeTaken:n})}},wt=class extends se{constructor(t){super(`Internal Consistency Error: ${t}`)}},nn=class extends se{constructor(t){super(`Invalid isolation level: ${t}`,{isolationLevel:t})}};var vm=100,bt=Z("prisma:client:transactionManager"),Cm=()=>({sql:"COMMIT",args:[],argTypes:[]}),Sm=()=>({sql:"ROLLBACK",args:[],argTypes:[]}),Rm=()=>({sql:'-- Implicit "COMMIT" query via underlying driver',args:[],argTypes:[]}),Im=()=>({sql:'-- Implicit "ROLLBACK" query via underlying driver',args:[],argTypes:[]}),Yt=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#t;#e;constructor({driverAdapter:t,transactionOptions:r,tracingHelper:n,onQuery:i,provider:o}){this.driverAdapter=t,this.transactionOptions=r,this.tracingHelper=n,this.#t=i,this.#e=o}async startInternalTransaction(t){let r=t!==void 0?this.#s(t):{};return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#n(r))}async startTransaction(t){let r=t!==void 0?this.#s(t):this.transactionOptions;return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#n(r))}async#n(t){let r={id:await Ga(),status:"waiting",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0},n=new AbortController,i=za(()=>n.abort(),t.maxWait);i?.unref?.();let o=this.driverAdapter.startTransaction(t.isolationLevel).catch(mt);switch(r.transaction=await Promise.race([o.finally(()=>clearTimeout(i)),Ka(n.signal,"abort").then(()=>{})]),this.transactions.set(r.id,r),r.status){case"waiting":if(n.signal.aborted)throw o.then(s=>s.rollback()).catch(s=>bt("error in discarded transaction:",s)),await this.#i(r,"timed_out"),new tn;return r.status="running",r.timer=this.#o(r.id,t.timeout),{id:r.id};case"timed_out":case"running":case"committed":case"rolled_back":throw new wt(`Transaction in invalid state ${r.status} although it just finished startup.`);default:D(r.status,"Unknown transaction status.")}}async commitTransaction(t){return await this.tracingHelper.runInChildSpan("commit_transaction",async()=>{let r=this.#r(t,"commit");await this.#i(r,"committed")})}async rollbackTransaction(t){return await this.tracingHelper.runInChildSpan("rollback_transaction",async()=>{let r=this.#r(t,"rollback");await this.#i(r,"rolled_back")})}async getTransaction(t,r){let n=this.#r(t.id,r);if(n.status==="closing"&&(await n.closing,n=this.#r(t.id,r)),!n.transaction)throw new Zt;return n.transaction}#r(t,r){let n=this.transactions.get(t);if(!n){let i=this.closedTransactions.find(o=>o.id===t);if(i)switch(bt("Transaction already closed.",{transactionId:t,status:i.status}),i.status){case"closing":case"waiting":case"running":throw new wt("Active transaction found in closed transactions list.");case"committed":throw new Xr(r);case"rolled_back":throw new en(r);case"timed_out":throw new rn(r,{timeout:i.timeout,timeTaken:Date.now()-i.startedAt})}else throw bt("Transaction not found.",t),new Zt}if(["committed","rolled_back","timed_out"].includes(n.status))throw new wt("Closed transaction found in active transactions map.");return n}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(t=>this.#i(t,"rolled_back")))}#o(t,r){let n=Date.now(),i=za(async()=>{bt("Transaction timed out.",{transactionId:t,timeoutStartedAt:n,timeout:r});let o=this.transactions.get(t);o&&["running","waiting"].includes(o.status)?await this.#i(o,"timed_out"):bt("Transaction already committed or rolled back when timeout happened.",t)},r);return i?.unref?.(),i}async#i(t,r){let n=async()=>{bt("Closing transaction.",{transactionId:t.id,status:r});try{if(t.transaction&&r==="committed")if(t.transaction.options.usePhantomQuery)await this.#a(Rm(),t.transaction,()=>t.transaction.commit());else{let i=Cm();await this.#a(i,t.transaction,()=>t.transaction.executeRaw(i)).then(()=>t.transaction.commit(),o=>{let s=()=>Promise.reject(o);return t.transaction.rollback().then(s,s)})}else if(t.transaction)if(t.transaction.options.usePhantomQuery)await this.#a(Im(),t.transaction,()=>t.transaction.rollback());else{let i=Sm();try{await this.#a(i,t.transaction,()=>t.transaction.executeRaw(i))}finally{await t.transaction.rollback()}}}finally{t.status=r,clearTimeout(t.timer),t.timer=void 0,this.transactions.delete(t.id),this.closedTransactions.push(t),this.closedTransactions.length>vm&&this.closedTransactions.shift()}};t.status==="closing"?(await t.closing,this.#r(t.id,r==="committed"?"commit":"rollback")):await Object.assign(t,{status:"closing",reason:r,closing:n()}).closing}#s(t){if(!t.timeout)throw new se("timeout is required");if(!t.maxWait)throw new se("maxWait is required");if(t.isolationLevel==="SNAPSHOT")throw new nn(t.isolationLevel);return{...t,timeout:t.timeout,maxWait:t.maxWait}}#a(t,r,n){return Br({query:t,execute:n,provider:this.#e??r.provider,tracingHelper:this.tracingHelper,onQuery:this.#t})}};function za(e,t){return t!==void 0?setTimeout(e,t):void 0}import{PrismaClientInitializationError as vi,PrismaClientKnownRequestError as Ci,PrismaClientRustPanicError as er,PrismaClientUnknownRequestError as gl}from"@prisma/client-runtime-utils";var on="7.3.0";l();u();c();p();m();var Za={bigint:"bigint",date:"datetime",decimal:"decimal",bytes:"bytes"};function Xa(e){let t;try{t=JSON.parse(e)}catch(i){throw new Error(`Received invalid serialized parameters: ${i.message}`)}if(!Array.isArray(t))throw new Error("Received invalid serialized parameters: expected an array");let r=t.map(i=>el(i)),n=t.map(i=>km(i));return{args:r,argTypes:n}}function el(e){if(Array.isArray(e))return e.map(t=>el(t));if(typeof e=="object"&&e!==null&&"prisma__value"in e){if(!("prisma__type"in e))throw new Error("Invalid serialized parameter, prisma__type should be present when prisma__value is present");return`${e.prisma__value}`}return typeof e=="object"&&e!==null?JSON.stringify(e):e}function km(e){return Array.isArray(e)?{scalarType:e.length>0?Ya(e[0]):"unknown",arity:"list"}:{scalarType:Ya(e),arity:"scalar"}}function Ya(e){return typeof e=="object"&&e!==null&&"prisma__type"in e&&typeof e.prisma__type=="string"&&e.prisma__type in Za?Za[e.prisma__type]:typeof e=="number"?"decimal":typeof e=="string"?"string":"unknown"}l();u();c();p();m();function tl(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}l();u();c();p();m();l();u();c();p();m();function rl(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}l();u();c();p();m();function nl(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}l();u();c();p();m();var il=Ne(Ao());function ol({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,il.default)({user:t,repo:r,template:n,title:e,body:i})}function sl({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:o,query:s}){let a=mo(6e3-(s?.length??0)),d=nl(Ye(a)),f=n?`# Description
\`\`\`
${n}
\`\`\``:"",P=Ye(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${g.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${o?.padEnd(19)}|

${f}

## Logs
\`\`\`
${d}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?rl(s):""}
\`\`\`
`),A=ol({title:r,body:P});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${mr(A)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}l();u();c();p();m();var sn=class e{#t;#e;#n;#r;#o;constructor(t,r,n){this.#t=t,this.#e=r,this.#n=n,this.#r=r.getConnectionInfo?.(),this.#o=zt.forSql({onQuery:this.#t.onQuery,tracingHelper:this.#t.tracingHelper,provider:this.#t.provider,connectionInfo:this.#r})}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new Yt({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(i){throw await r?.dispose(),i}return new e(t,r,n)}getConnectionInfo(){let t=this.#r??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#e.provider,connectionInfo:t})}async execute({plan:t,placeholderValues:r,transaction:n,batchIndex:i,queryInfo:o}){let s=n?await this.#n.getTransaction(n,i!==void 0?"batch query":"query"):this.#e;return await this.#o.run(t,{queryable:s,transactionManager:n?{enabled:!1}:{enabled:!0,manager:this.#n},scope:r,sqlCommenter:this.#t.sqlCommenters&&{plugins:this.#t.sqlCommenters,queryInfo:o}})}async startTransaction(t){return{...await this.#n.startTransaction(t),payload:void 0}}async commitTransaction(t){await this.#n.commitTransaction(t.id)}async rollbackTransaction(t){await this.#n.rollbackTransaction(t.id)}async disconnect(){try{await this.#n.cancelAllTransactions()}finally{await this.#e.dispose()}}apiKey(){return null}};l();u();c();p();m();import{PrismaClientKnownRequestError as Lm}from"@prisma/client-runtime-utils";l();u();c();p();m();var an=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function al(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!an.test(e))throw new TypeError("argument name is invalid");let o=i(t);if(o&&!an.test(o))throw new TypeError("argument val is invalid");let s=e+"="+o;if(n.maxAge!==void 0&&n.maxAge!==null){let a=n.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!an.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!an.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!Mm(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s}function Mm(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function ll(e,t){let r=(e||"").split(";").filter(d=>typeof d=="string"&&!!d.trim()),n=r.shift()||"",i=Nm(n),o=i.name,s=i.value;try{s=t?.decode===!1?s:(t?.decode||decodeURIComponent)(s)}catch{}let a={name:o,value:s};for(let d of r){let f=d.split("="),P=(f.shift()||"").trimStart().toLowerCase(),A=f.join("=");switch(P){case"expires":{a.expires=new Date(A);break}case"max-age":{a.maxAge=Number.parseInt(A,10);break}case"secure":{a.secure=!0;break}case"httponly":{a.httpOnly=!0;break}case"samesite":{a.sameSite=A;break}default:a[P]=A}}return a}function Nm(e){let t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var ln=class extends Error{clientVersion;cause;constructor(t,r){super(t),this.clientVersion=r.clientVersion,this.cause=r.cause}get[Symbol.toStringTag](){return this.name}};var un=class extends ln{isRetryable;constructor(t,r){super(t,r),this.isRetryable=r.isRetryable??!0}};l();u();c();p();m();function ul(e,t){return{...e,isRetryable:t}}var He=class extends un{name="InvalidDatasourceError";code="P6001";constructor(t,r){super(t,ul(r,!1))}};Ot(He,"InvalidDatasourceError");function cl(e){let t={clientVersion:e.clientVersion},r;try{r=new URL(e.accelerateUrl)}catch(d){let f=d.message;throw new He(`Error validating \`accelerateUrl\`, the URL cannot be parsed, reason: ${f}`,t)}let{protocol:n,searchParams:i}=r;if(n!=="prisma:"&&n!==yr)throw new He("Error validating `accelerateUrl`: the URL must start with the protocol `prisma://` or `prisma+postgres://`",t);let o=i.get("api_key");if(o===null||o.length<1)throw new He("Error validating `accelerateUrl`: the URL must contain a valid API key",t);let s=An(r)?"http:":"https:";g.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&r.searchParams.has("use_http")&&(s="http:");let a=new URL(r.href.replace(n,s));return{apiKey:o,url:a}}l();u();c();p();m();var pl=Ne(wo()),cn=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:t,tracingHelper:r,logLevel:n,logQueries:i,engineHash:o}){this.apiKey=t,this.tracingHelper=r,this.logLevel=n,this.logQueries=i,this.engineHash=o}build({traceparent:t,transactionId:r}={}){let n={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":pl.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=t??this.tracingHelper.getTraceParent()),r&&(n["X-Transaction-Id"]=r);let i=this.#t();return i.length>0&&(n["X-Capture-Telemetry"]=i.join(", ")),n}#t(){let t=[];return this.tracingHelper.isEnabled()&&t.push("tracing"),this.logLevel&&t.push(this.logLevel),this.logQueries&&t.push("query"),t}};l();u();c();p();m();function Dm(e){return e[0]*1e3+e[1]/1e6}function Ti(e){return new Date(Dm(e))}var ml=Z("prisma:client:clientEngine:remoteExecutor"),pn=class{#t;#e;#n;#r;#o;#i;constructor(t){this.#t=t.clientVersion,this.#r=t.logEmitter,this.#o=t.tracingHelper,this.#i=t.sqlCommenters;let{url:r,apiKey:n}=cl({clientVersion:t.clientVersion,accelerateUrl:t.accelerateUrl});this.#n=new Pi(r),this.#e=new cn({apiKey:n,engineHash:t.clientVersion,logLevel:t.logLevel,logQueries:t.logQueries,tracingHelper:t.tracingHelper})}async getConnectionInfo(){return await this.#s({path:"/connection-info",method:"GET"})}async execute({plan:t,placeholderValues:r,batchIndex:n,model:i,operation:o,transaction:s,customFetch:a,queryInfo:d}){let f=d&&this.#i?.length?Vr(this.#i,{query:d}):void 0;return(await this.#s({path:s?`/transaction/${s.id}/query`:"/query",method:"POST",body:{model:i,operation:o,plan:t,params:r,comments:f&&Object.keys(f).length>0?f:void 0},batchRequestIdx:n,fetch:a})).data}async startTransaction(t){return{...await this.#s({path:"/transaction/start",method:"POST",body:t}),payload:void 0}}async commitTransaction(t){await this.#s({path:`/transaction/${t.id}/commit`,method:"POST"})}async rollbackTransaction(t){await this.#s({path:`/transaction/${t.id}/rollback`,method:"POST"})}disconnect(){return Promise.resolve()}apiKey(){return this.#e.apiKey}async#s({path:t,method:r,body:n,fetch:i=globalThis.fetch,batchRequestIdx:o}){let s=await this.#n.request({method:r,path:t,headers:this.#e.build(),body:n,fetch:i});s.ok||await this.#a(s,o);let a=await s.json();return typeof a.extensions=="object"&&a.extensions!==null&&this.#u(a.extensions),a}async#a(t,r){let n=t.headers.get("Prisma-Error-Code"),i=await t.text(),o,s=i;try{o=JSON.parse(i)}catch{o={}}typeof o.code=="string"&&(n=o.code),typeof o.error=="string"?s=o.error:typeof o.message=="string"?s=o.message:typeof o.InvalidRequestError=="object"&&o.InvalidRequestError!==null&&typeof o.InvalidRequestError.reason=="string"&&(s=o.InvalidRequestError.reason),s=s||`HTTP ${t.status}: ${t.statusText}`;let a=typeof o.meta=="object"&&o.meta!==null?o.meta:o;throw new Lm(s,{clientVersion:this.#t,code:n??"P6000",batchRequestIdx:r,meta:a})}#u(t){if(t.logs)for(let r of t.logs)this.#l(r);t.spans&&this.#o.dispatchEngineSpans(t.spans)}#l(t){switch(t.level){case"debug":case"trace":ml(t);break;case"error":case"warn":case"info":{this.#r.emit(t.level,{timestamp:Ti(t.timestamp),message:t.attributes.message??"",target:t.target??"RemoteExecutor"});break}case"query":{this.#r.emit("query",{query:t.attributes.query??"",timestamp:Ti(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"RemoteExecutor"});break}default:throw new Error(`Unexpected log level: ${t.level}`)}}},Pi=class{#t;#e;#n;constructor(t){this.#t=t,this.#e=new Map}async request({method:t,path:r,headers:n,body:i,fetch:o}){let s=new URL(r,this.#t),a=this.#r(s);a&&(n.Cookie=a),this.#n&&(n["Accelerate-Query-Engine-Jwt"]=this.#n);let d=await o(s.href,{method:t,body:i!==void 0?JSON.stringify(i):void 0,headers:n});return ml(t,s,d.status,d.statusText),this.#n=d.headers.get("Accelerate-Query-Engine-Jwt")??void 0,this.#o(s,d),d}#r(t){let r=[],n=new Date;for(let[i,o]of this.#e){if(o.expires&&o.expires<n){this.#e.delete(i);continue}let s=o.domain??t.hostname,a=o.path??"/";t.hostname.endsWith(s)&&t.pathname.startsWith(a)&&r.push(al(o.name,o.value))}return r.length>0?r.join("; "):void 0}#o(t,r){let n=r.headers.getSetCookie?.()||[];if(n.length===0){let i=r.headers.get("Set-Cookie");i&&n.push(i)}for(let i of n){let o=ll(i),s=o.domain??t.hostname,a=o.path??"/",d=`${s}:${a}:${o.name}`;this.#e.set(d,{name:o.name,value:o.value,domain:s,path:a,expires:o.expires})}}};l();u();c();p();m();import{PrismaClientInitializationError as dl}from"@prisma/client-runtime-utils";var Ai={},fl={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(r===void 0)throw new dl("WASM query compiler was unexpectedly `undefined`",t);let n;return e.activeProvider===void 0||Ai[e.activeProvider]===void 0?(n=(async()=>{let i=await r.getRuntime(),o=await r.getQueryCompilerWasmModule();if(o==null)throw new dl("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let s={[r.importName]:i},a=new WebAssembly.Instance(o,s),d=a.exports.__wbindgen_start;return i.__wbg_set_wasm(a.exports),d(),i.QueryCompiler})(),e.activeProvider!==void 0&&(Ai[e.activeProvider]=n)):n=Ai[e.activeProvider],await n}};var _m="P2038",Xt=Z("prisma:client:clientEngine"),bl=globalThis;bl.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new er(e,on)}};var tr=class{name="ClientEngine";#t;#e={type:"disconnected"};#n;#r;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#o;constructor(t,r){if(t.accelerateUrl!==void 0)this.#r={remote:!0,accelerateUrl:t.accelerateUrl};else if(t.adapter)this.#r={remote:!1,driverAdapterFactory:t.adapter},Xt("Using driver adapter: %O",t.adapter);else throw new vi("Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.",t.clientVersion,_m);this.#n=r??fl,this.config=t,this.logQueries=t.logQueries??!1,this.logLevel=t.logLevel??"error",this.logEmitter=t.logEmitter,this.datamodel=t.inlineSchema,this.tracingHelper=t.tracingHelper,t.enableDebugLogs&&(this.logLevel="debug"),this.logQueries&&(this.#o=n=>{this.logEmitter.emit("query",{...n,params:Vt(n.params),target:"ClientEngine"})})}async#i(){switch(this.#e.type){case"disconnected":{let t=this.tracingHelper.runInChildSpan("connect",async()=>{let r,n;try{r=await this.#s(),n=await this.#a(r)}catch(o){throw this.#e={type:"disconnected"},n?.free(),await r?.disconnect(),o}let i={executor:r,queryCompiler:n};return this.#e={type:"connected",engine:i},i});return this.#e={type:"connecting",promise:t},await t}case"connecting":return await this.#e.promise;case"connected":return this.#e.engine;case"disconnecting":return await this.#e.promise,await this.#i()}}async#s(){return this.#r.remote?new pn({clientVersion:this.config.clientVersion,accelerateUrl:this.#r.accelerateUrl,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,tracingHelper:this.tracingHelper,sqlCommenters:this.config.sqlCommenters}):await sn.connect({driverAdapterFactory:this.#r.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#m(this.config.transactionOptions.isolationLevel)},onQuery:this.#o,provider:this.config.activeProvider,sqlCommenters:this.config.sqlCommenters})}async#a(t){let r=this.#t;r===void 0&&(r=await this.#n.loadQueryCompiler(this.config),this.#t=r);let{provider:n,connectionInfo:i}=await t.getConnectionInfo();try{return this.#c(()=>new r({datamodel:this.datamodel,provider:n,connectionInfo:i}),void 0,!1)}catch(o){throw this.#u(o)}}#u(t){if(t instanceof er)return t;try{let r=JSON.parse(t.message);return new vi(r.message,this.config.clientVersion,r.error_code)}catch{return t}}#l(t,r){if(t instanceof vi)return t;if(t.code==="GenericFailure"&&t.message?.startsWith("PANIC:"))return new er(yl(this,t.message,r),this.config.clientVersion);if(t instanceof K)return new Ci(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion});try{let n=JSON.parse(t);return new gl(`${n.message}
${n.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return t}}#p(t){return t instanceof er?t:typeof t.message=="string"&&typeof t.code=="string"?new Ci(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion}):typeof t.message=="string"?new gl(t.message,{clientVersion:this.config.clientVersion}):t}#c(t,r,n=!0){let i=bl.PRISMA_WASM_PANIC_REGISTRY.set_message,o;globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=s=>{o=s};try{return t()}finally{if(globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=i,o)throw this.#t=void 0,n&&this.stop().catch(s=>Xt("failed to disconnect:",s)),new er(yl(this,o,r),this.config.clientVersion)}}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#i()}async stop(){switch(this.#e.type){case"disconnected":return;case"connecting":return await this.#e.promise,await this.stop();case"connected":{let t=this.#e.engine,r=this.tracingHelper.runInChildSpan("disconnect",async()=>{try{await t.executor.disconnect(),t.queryCompiler.free()}finally{this.#e={type:"disconnected"}}});return this.#e={type:"disconnecting",promise:r},await r}case"disconnecting":return await this.#e.promise}}version(){return"unknown"}async transaction(t,r,n){let i,{executor:o}=await this.#i();try{if(t==="start"){let s=n;i=await o.startTransaction({...s,isolationLevel:this.#m(s.isolationLevel)})}else if(t==="commit"){let s=n;await o.commitTransaction(s)}else if(t==="rollback"){let s=n;await o.rollbackTransaction(s)}else Te(t,"Invalid transaction action.")}catch(s){throw this.#l(s)}return i?{id:i.id,payload:void 0}:void 0}async request(t,{interactiveTransaction:r,customDataProxyFetch:n}){Xt("sending request");let{executor:i,queryCompiler:o}=await this.#i().catch(a=>{throw this.#l(a,JSON.stringify(t))}),s=this.#f(t,o);try{Xt("query plan created",s);let a={},d=await i.execute({plan:s,model:t.modelName,operation:t.action,placeholderValues:a,transaction:r,batchIndex:void 0,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",modelName:t.modelName,action:t.action,query:t.query}});return Xt("query plan executed"),{data:{[t.action]:d}}}catch(a){throw this.#l(a,JSON.stringify(t))}}async requestBatch(t,{transaction:r,customDataProxyFetch:n}){if(t.length===0)return[];let i=t[0].action,o=t[0].modelName,s=tl(t,r),{executor:a,queryCompiler:d}=await this.#i().catch(P=>{throw this.#l(P,JSON.stringify(s))}),f=this.#g(s,d);try{let P;r?.kind==="itx"&&(P=r.options);let A={};switch(f.type){case"multi":{if(r?.kind!=="itx"){let M=r?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:r.options.isolationLevel}:this.config.transactionOptions;P=await this.transaction("start",{},M)}let S=[],C=!1;for(let[M,R]of f.plans.entries())try{let k=await a.execute({plan:R,placeholderValues:A,model:t[M].modelName,operation:t[M].action,batchIndex:M,transaction:P,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",...t[M]}});S.push({data:{[t[M].action]:k}})}catch(k){S.push(k),C=!0;break}return P!==void 0&&r?.kind!=="itx"&&(C?await this.transaction("rollback",{},P):await this.transaction("commit",{},P)),S}case"compacted":{if(!t.every(M=>M.action===i&&M.modelName===o)){let M=t.map(k=>k.action).join(", "),R=t.map(k=>k.modelName).join(", ");throw new Error(`Internal error: All queries in a compacted batch must have the same action and model name, but received actions: [${M}] and model names: [${R}]. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.`)}if(o===void 0)throw new Error("Internal error: A compacted batch cannot contain raw queries. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.");let S=await a.execute({plan:f.plan,placeholderValues:A,model:o,operation:i,batchIndex:void 0,transaction:P,customFetch:n?.(globalThis.fetch),queryInfo:{type:"compacted",action:i,modelName:o,queries:t}});return Ms(S,f).map(M=>({data:{[i]:M}}))}}}catch(P){throw this.#l(P,JSON.stringify(s))}}async apiKey(){let{executor:t}=await this.#i();return t.apiKey()}#f(t,r){if(hl(t))return wl(t);try{return this.#c(()=>this.#d({queries:[t],execute:()=>r.compile(JSON.stringify(t))}))}catch(n){throw this.#p(n)}}#g(t,r){let n=t.batch.filter(hl);if(n.length===t.batch.length)return{type:"multi",plans:n.map(i=>wl(i))};try{return this.#c(()=>this.#d({queries:t.batch,execute:()=>r.compileBatch(JSON.stringify(t))}))}catch(i){throw this.#p(i)}}#m(t){switch(t){case void 0:return;case"ReadUncommitted":return"READ UNCOMMITTED";case"ReadCommitted":return"READ COMMITTED";case"RepeatableRead":return"REPEATABLE READ";case"Serializable":return"SERIALIZABLE";case"Snapshot":return"SNAPSHOT";default:throw new Ci(`Inconsistent column data: Conversion failed: Invalid isolation level \`${t}\``,{code:"P2023",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:t}})}}#d({queries:t,execute:r}){return this.tracingHelper.runInChildSpan({name:"compile",attributes:{models:t.map(n=>n.modelName).filter(n=>n!==void 0),actions:t.map(n=>n.action)}},r)}};function yl(e,t,r){return sl({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:"unknown",database:e.config.activeProvider,query:r})}function hl(e){return e.action==="queryRaw"||e.action==="executeRaw"}function wl(e){let t=e.query.arguments.query,{args:r,argTypes:n}=Xa(e.query.arguments.parameters);return{type:e.action==="queryRaw"?"query":"execute",args:{type:"rawSql",sql:t,args:r,argTypes:n}}}function xl(e){return new tr(e)}l();u();c();p();m();var El=e=>({command:e});l();u();c();p();m();import{Sql as $m}from"@prisma/client-runtime-utils";l();u();c();p();m();var Tl=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);l();u();c();p();m();import{Decimal as Fm}from"@prisma/client-runtime-utils";function xt(e){try{return Pl(e,"fast")}catch{return Pl(e,"slow")}}function Pl(e,t){return JSON.stringify(e.map(r=>vl(r,t)))}function vl(e,t){if(Array.isArray(e))return e.map(r=>vl(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(Xe(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(Fm.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(y.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Um(e))return{prisma__type:"bytes",prisma__value:y.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:y.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?Cl(e):e}function Um(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function Cl(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(Al);let t={};for(let r of Object.keys(e))t[r]=Al(e[r]);return t}function Al(e){return typeof e=="bigint"?e.toString():Cl(e)}var qm=/^(\s*alter\s)/i,Sl=Z("prisma:client");function Si(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&qm.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var Ri=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(Nr(r))n=r.sql,i={values:xt(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[o,...s]=r;n=o,i={values:xt(s||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:xt(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:xt(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Tl(r),i={values:xt(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?Sl(`prisma.${e}(${n}, ${i.values})`):Sl(`prisma.${e}(${n})`),{query:n,parameters:i}},Rl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new $m(t,r)}},Il={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};l();u();c();p();m();function Ii(e){return function(r,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Ol(r(s)):Ol(r(s))}catch(a){return Promise.reject(a)}};return{get spec(){return n},then(s,a){return o().then(s,a)},catch(s){return o().catch(s)},finally(s){return o().finally(s)},requestTransaction(s){let a=o(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function Ol(e){return typeof e.then=="function"?e:Promise.resolve(e)}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var kl={name:"@prisma/instrumentation-contract",version:"7.3.0",description:"Shared types and utilities for Prisma instrumentation",main:"dist/index.js",module:"dist/index.mjs",types:"dist/index.d.ts",exports:{".":{require:{types:"./dist/index.d.ts",default:"./dist/index.js"},import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"}}},license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation-contract"},bugs:"https://github.com/prisma/prisma/issues",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"vitest run"},files:["dist"],sideEffects:!1,devDependencies:{"@opentelemetry/api":"1.9.0"},peerDependencies:{"@opentelemetry/api":"^1.8"}};var Bm=kl.version.split(".")[0],jm="PRISMA_INSTRUMENTATION",Qm=`V${Bm}_PRISMA_INSTRUMENTATION`,Ml=globalThis;function Nl(){let e=Ml[Qm];return e?.helper?e.helper:Ml[jm]?.helper}var Hm={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},Oi=class{isEnabled(){return this.getTracingHelper().isEnabled()}getTraceParent(t){return this.getTracingHelper().getTraceParent(t)}dispatchEngineSpans(t){return this.getTracingHelper().dispatchEngineSpans(t)}getActiveContext(){return this.getTracingHelper().getActiveContext()}runInChildSpan(t,r){return this.getTracingHelper().runInChildSpan(t,r)}getTracingHelper(){return Nl()??Hm}};function Dl(){return new Oi}l();u();c();p();m();function Ll(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}l();u();c();p();m();function _l(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}l();u();c();p();m();import{hasBatchIndex as Km}from"@prisma/client-runtime-utils";l();u();c();p();m();function Fl(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(ki(e.query.arguments)),t.push(ki(e.query.selection)),t.join("")}function ki(e){return`(${Object.keys(e).sort().map(r=>{let n=e[r];return typeof n=="object"&&n!==null?`(${r} ${ki(n)})`:r}).join(" ")})`}l();u();c();p();m();var Jm={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function Mi(e){return Jm[e]}l();u();c();p();m();var mn=class{constructor(t){this.options=t;this.batches={}}batches;tickActive=!1;request(t){let r=this.options.batchBy(t);return r?(this.batches[r]||(this.batches[r]=[],this.tickActive||(this.tickActive=!0,g.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,i)=>{this.batches[r].push({request:t,resolve:n,reject:i})})):this.options.singleLoader(t)}dispatchBatches(){for(let t in this.batches){let r=this.batches[t];delete this.batches[t],r.length===1?this.options.singleLoader(r[0].request).then(n=>{n instanceof Error?r[0].reject(n):r[0].resolve(n)}).catch(n=>{r[0].reject(n)}):(r.sort((n,i)=>this.options.batchOrder(n.request,i.request)),this.options.batchLoader(r.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let i=0;i<r.length;i++)r[i].reject(n);else for(let i=0;i<r.length;i++){let o=n[i];o instanceof Error?r[i].reject(o):r[i].resolve(o)}}).catch(n=>{for(let i=0;i<r.length;i++)r[i].reject(n)}))}}get[Symbol.toStringTag](){return"DataLoader"}};l();u();c();p();m();import{Decimal as Wm}from"@prisma/client-runtime-utils";function Je(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=y.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new Wm(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>Je("bigint",r));case"bytes-array":return t.map(r=>Je("bytes",r));case"decimal-array":return t.map(r=>Je("decimal",r));case"datetime-array":return t.map(r=>Je("datetime",r));case"date-array":return t.map(r=>Je("date",r));case"time-array":return t.map(r=>Je("time",r));default:return t}}function Ni(e){let t=[],r=Gm(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],o={...r};for(let s=0;s<i.length;s++)o[e.columns[s]]=Je(e.types[s],i[s]);t.push(o)}return t}function Gm(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var zm=Z("prisma:client:request_handler"),fn=class{client;dataloader;logEmitter;constructor(t,r){this.logEmitter=r,this.client=t,this.dataloader=new mn({batchLoader:Ps(async({requests:n,customDataProxyFetch:i})=>{let{transaction:o,otelParentCtx:s}=n[0],a=n.map(A=>A.protocolQuery),d=this.client._tracingHelper.getTraceParent(s),f=n.some(A=>Mi(A.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:d,transaction:Zm(o),containsWrite:f,customDataProxyFetch:i})).map((A,S)=>{if(A instanceof Error)return A;try{return this.mapQueryEngineResult(n[S],A)}catch(C){return C}})}),singleLoader:async n=>{let i=n.transaction?.kind==="itx"?Ul(n.transaction):void 0,o=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:i,isWrite:Mi(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,o)},batchBy:n=>n.transaction?.id?`transaction-${n.transaction.id}`:Fl(n.protocolQuery),batchOrder(n,i){return n.transaction?.kind==="batch"&&i.transaction?.kind==="batch"?n.transaction.index-i.transaction.index:0}})}async request(t){try{return await this.dataloader.request(t)}catch(r){let{clientMethod:n,callsite:i,transaction:o,args:s,modelName:a}=t;this.handleAndLogRequestError({error:r,clientMethod:n,callsite:i,transaction:o,args:s,modelName:a,globalOmit:t.globalOmit})}}mapQueryEngineResult({dataPath:t,unpacker:r},n){let i=n?.data,o=this.unpack(i,t,r);return g.env.PRISMA_CLIENT_GET_TIME?{data:o}:o}handleAndLogRequestError(t){try{this.handleRequestError(t)}catch(r){throw this.logEmitter&&this.logEmitter.emit("error",{message:r.message,target:t.clientMethod,timestamp:new Date}),r}}handleRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:o,modelName:s,globalOmit:a}){if(zm(t),Ym(t,i))throw t;if(t instanceof Di&&Xm(t)){let f=$l(t.meta);Ir({args:o,errors:[f],callsite:n,errorFormat:this.client._errorFormat,originalMethod:r,clientVersion:this.client._clientVersion,globalOmit:a})}let d=t.message;if(n&&(d=Er({callsite:n,originalMethod:r,isPanic:t.isPanic,showColors:this.client._errorFormat==="pretty",message:d})),d=this.sanitizeMessage(d),t.code){let f=s?{modelName:s,...t.meta}:t.meta;throw new Di(d,{code:t.code,clientVersion:this.client._clientVersion,meta:f,batchRequestIdx:t.batchRequestIdx})}else{if(t.isPanic)throw new dn(d,this.client._clientVersion);if(t instanceof Li)throw new Li(d,{clientVersion:this.client._clientVersion,batchRequestIdx:t.batchRequestIdx});if(t instanceof We)throw new We(d,this.client._clientVersion);if(t instanceof dn)throw new dn(d,this.client._clientVersion)}throw t.clientVersion=this.client._clientVersion,t}sanitizeMessage(t){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?Ye(t):t}unpack(t,r,n){if(!t||(t.data&&(t=t.data),!t))return t;let i=Object.keys(t)[0],o=Object.values(t)[0],s=r.filter(f=>f!=="select"&&f!=="include"),a=$n(o,s),d=i==="queryRaw"?Ni(a):$e(a);return n?n(d):d}get[Symbol.toStringTag](){return"RequestHandler"}};function Zm(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:Ul(e)};Te(e,"Unknown transaction kind")}}function Ul(e){return{id:e.id,payload:e.payload}}function Ym(e,t){return Km(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Xm(e){return e.code==="P2009"||e.code==="P2012"}function $l(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map($l)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}l();u();c();p();m();var _i=on;l();u();c();p();m();var Ql=Ne(In());l();u();c();p();m();var B=class extends Error{constructor(t){super(t+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};Ot(B,"PrismaClientConstructorValidationError");var ql=["errorFormat","adapter","accelerateUrl","log","transactionOptions","omit","comments","__internal"],Vl=["pretty","colorless","minimal"],Bl=["info","query","warn","error"],ed={adapter:()=>{},accelerateUrl:e=>{if(e!==void 0){if(typeof e!="string")throw new B(`Invalid value ${JSON.stringify(e)} for "accelerateUrl" provided to PrismaClient constructor.`);if(e.trim().length===0)throw new B('"accelerateUrl" provided to PrismaClient constructor must be a non-empty string.')}},errorFormat:e=>{if(e){if(typeof e!="string")throw new B(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!Vl.includes(e)){let t=rr(e,Vl);throw new B(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new B(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!Bl.includes(r)){let n=rr(r,Bl);throw new B(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let o=["stdout","event"];if(!o.includes(i)){let s=rr(i,o);throw new B(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${s}`)}}};if(r&&typeof r=="object")for(let[i,o]of Object.entries(r))if(n[i])n[i](o);else throw new B(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new B(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new B(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new B('"omit" option is expected to be an object.');if(e===null)throw new B('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let o=nd(n,t.runtimeDataModel);if(!o){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[s,a]of Object.entries(i)){let d=o.fields.find(f=>f.name===s);if(!d){r.push({kind:"UnknownField",modelKey:n,fieldName:s});continue}if(d.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:s});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:s})}}if(r.length>0)throw new B(id(e,r))},comments:e=>{if(e!==void 0){if(!Array.isArray(e))throw new B(`Invalid value ${JSON.stringify(e)} for "comments" provided to PrismaClient constructor. Expected an array of SQL commenter plugins.`);for(let t=0;t<e.length;t++)if(typeof e[t]!="function")throw new B(`Invalid value at index ${t} for "comments" provided to PrismaClient constructor. Each plugin must be a function.`)}},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new B(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=rr(r,t);throw new B(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function td(e){let t=e.adapter!==void 0,r=e.accelerateUrl!==void 0;if(t&&r)throw new B('The "adapter" and "accelerateUrl" options are mutually exclusive. Please provide only one of them.');if(!t&&!r)throw new B('Using engine type "client" requires either "adapter" or "accelerateUrl" to be provided to PrismaClient constructor.')}function Hl(e,t){for(let[r,n]of Object.entries(e)){if(!ql.includes(r)){let i=rr(r,ql);throw new B(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}ed[r](n,t)}td(e)}function rr(e,t){if(t.length===0||typeof e!="string")return"";let r=rd(e,t);return r?` Did you mean "${r}"?`:""}function rd(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,Ql.default)(e,i)}));r.sort((i,o)=>i.distance<o.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function nd(e,t){return jl(t.models,e)??jl(t.types,e)}function jl(e,t){let r=Object.keys(e).find(n=>Ce(n)===t);if(r)return e[r]}function id(e,t){let r=at(e);for(let o of t)switch(o.kind){case"UnknownModel":r.arguments.getField(o.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${o.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${o.modelKey}" does not have a field named "${o.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=Rr(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}l();u();c();p();m();import{hasBatchIndex as od}from"@prisma/client-runtime-utils";function Jl(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,o=!1,s=0,a=()=>{o||(s++,s===e.length&&(o=!0,i?r(i):t(n)))},d=f=>{o||(o=!0,r(f))};for(let f=0;f<e.length;f++)e[f].then(P=>{n[f]=P,a()},P=>{if(!od(P)){d(P);return}P.batchRequestIdx===f?d(P):(i||(i=P),a())})})}var nr=Z("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var ad={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},ld=Symbol.for("prisma.client.transaction.id"),ud={id:0,nextId(){return++this.id}};function cd(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Ii();constructor(n){if(!n)throw new We("`PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:\n\n```\nnew PrismaClient({\n  ...\n})\n```\n\nor\n\n```\nconstructor() {\n  super({ ... });\n}\n```\n          ",_i);e=n.__internal?.configOverride?.(e)??e,Hl(n,e);let i=new Dr().on("error",()=>{});this._extensions=lt.empty(),this._previewFeatures=e.previewFeatures,this._clientVersion=e.clientVersion??_i,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=Dl();let o;if(n.adapter){o=n.adapter;let s=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(o.provider!==s)throw new We(`The Driver Adapter \`${o.adapterName}\`, based on \`${o.provider}\`, is not compatible with the provider \`${s}\` specified in the Prisma schema.`,this._clientVersion)}try{let s=n??{},d=(s.__internal??{}).debug===!0;if(d&&Z.enable("prisma:client"),s.errorFormat?this._errorFormat=s.errorFormat:g.env.NODE_ENV==="production"?this._errorFormat="minimal":g.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={enableDebugLogs:d,logLevel:s.log&&_l(s.log),logQueries:s.log&&!!(typeof s.log=="string"?s.log==="query":s.log.find(f=>typeof f=="string"?f==="query":f.level==="query")),compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:s.transactionOptions?.maxWait??2e3,timeout:s.transactionOptions?.timeout??5e3,isolationLevel:s.transactionOptions?.isolationLevel},logEmitter:i,adapter:o,accelerateUrl:s.accelerateUrl,sqlCommenters:s.comments},this._accelerateEngineConfig=Object.create(this._engineConfig),this._accelerateEngineConfig.accelerateUtils={resolveDatasourceUrl:()=>{if(s.accelerateUrl)return s.accelerateUrl;throw new We(`\`accelerateUrl\` is required when using \`@prisma/extension-accelerate\`:

new PrismaClient({
  accelerateUrl: "prisma://...",
}).$extends(withAccelerate())
`,e.clientVersion)}},nr("clientVersion",e.clientVersion),this._engine=xl(this._engineConfig),this._requestHandler=new fn(this,i),s.log)for(let f of s.log){let P=typeof f=="string"?f:f.emit==="stdout"?f.level:null;P&&this.$on(P,A=>{It.log(`${It.tags[P]??""}`,A.message||A.query)})}}catch(s){throw s.clientVersion=this._clientVersion,s}return this._appliedParent=$t(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{fo()}}$executeRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"executeRaw",args:o,transaction:n,clientMethod:i,argsMapper:Ri({clientMethod:i,activeProvider:a}),callsite:Re(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0){let[s,a]=Wl(n,i);return Si(this._activeProvider,s.text,s.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(o,"$executeRaw",s,a)}throw new ir("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(o=>(Si(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(o,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new ir(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:El,callsite:Re(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"queryRaw",args:o,transaction:n,clientMethod:i,argsMapper:Ri({clientMethod:i,activeProvider:a}),callsite:Re(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(o,"$queryRaw",...Wl(n,i));throw new ir("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new ir("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(o=>this.$queryRawInternal(o,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let o=ud.nextId(),s=Ll(n.length),a=n.map((d,f)=>{if(d?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let P=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,A={kind:"batch",id:o,index:f,isolationLevel:P,lock:s};return d.requestTransaction?.(A)??d});return Jl(a)}async _transactionWithCallback({callback:n,options:i}){let o={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",o,s),d;try{let f={kind:"itx",...a};d=await n(this._createItxClient(f)),await this._engine.transaction("commit",o,a)}catch(f){throw await this._engine.transaction("rollback",o,a).catch(()=>{}),f}return d}_createItxClient(n){return le($t(le(ms(this),[Y("_appliedParent",()=>this._appliedParent._createItxClient(n)),Y("_createPrismaPromise",()=>Ii(n)),Y(ld,()=>n.id)])),[ut(hs)])}$transaction(n,i){let o;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?o=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:o=()=>this._transactionWithCallback({callback:n,options:i}):o=()=>this._transactionWithArray({promises:n,options:i});let s={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(s,o)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??ad,o={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},s={operation:{name:"operation",attributes:{method:o.action,model:o.model,name:o.model?`${o.model}.${o.action}`:o.action}}},a=async d=>{let{runInTransaction:f,args:P,...A}=d,S={...n,...A};P&&(S.args=i.middlewareArgsToRequestArgs(P)),n.transaction!==void 0&&f===!1&&delete S.transaction;let C=await Ts(this,S);return S.model?ys({result:C,modelName:S.model,args:S.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):C};return this._tracingHelper.runInChildSpan(s.operation,()=>a(o))}async _executeRequest({args:n,clientMethod:i,dataPath:o,callsite:s,action:a,model:d,argsMapper:f,transaction:P,unpacker:A,otelParentCtx:S,customDataProxyFetch:C}){try{n=f?f(n):n;let M={name:"serialize"},R=this._tracingHelper.runInChildSpan(M,()=>Dn({modelName:d,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return Z.enabled("prisma:client")&&(nr("Prisma Client call:"),nr(`prisma.${i}(${rs(n)})`),nr("Generated request:"),nr(JSON.stringify(R,null,2)+`
`)),P?.kind==="batch"&&await P.lock,this._requestHandler.request({protocolQuery:R,modelName:d,action:a,clientMethod:i,dataPath:o,callsite:s,args:n,extensions:this._extensions,transaction:P,unpacker:A,otelParentCtx:S,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:C})}catch(M){throw M.clientVersion=this._clientVersion,M}}_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$extends=ds}return t}function Wl(e,t){return pd(e)?[new sd(e,t),Rl]:[e,Il]}function pd(e){return Array.isArray(e)&&Array.isArray(e.raw)}l();u();c();p();m();var md=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function dd(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!md.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}l();u();c();p();m();var fd=()=>globalThis.process?.release?.name==="node",gd=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,yd=()=>!!globalThis.Deno,hd=()=>typeof globalThis.Netlify=="object",wd=()=>typeof globalThis.EdgeRuntime=="object",bd=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function xd(){return[[hd,"netlify"],[wd,"edge-light"],[bd,"workerd"],[yd,"deno"],[gd,"bun"],[fd,"node"]].flatMap(r=>r[0]()?[r[1]]:[]).at(0)??""}var Ed={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function Td(){let e=xd();return{id:e,prettyName:Ed[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}import{PrismaClientInitializationError as We,PrismaClientKnownRequestError as Di,PrismaClientRustPanicError as dn,PrismaClientUnknownRequestError as Li,PrismaClientValidationError as ir}from"@prisma/client-runtime-utils";import{empty as Y$,join as X$,raw as eq,Sql as tq,sql as rq}from"@prisma/client-runtime-utils";import{AnyNull as iq,DbNull as oq,isAnyNull as sq,isDbNull as aq,isJsonNull as lq,JsonNull as uq,NullTypes as cq,ObjectEnumValue as pq}from"@prisma/client-runtime-utils";import{Decimal as dq}from"@prisma/client-runtime-utils";export{iq as AnyNull,xr as DMMF,oq as DbNull,Z as Debug,dq as Decimal,Zi as Extensions,uq as JsonNull,cq as NullTypes,pq as ObjectEnumValue,We as PrismaClientInitializationError,Di as PrismaClientKnownRequestError,dn as PrismaClientRustPanicError,Li as PrismaClientUnknownRequestError,ir as PrismaClientValidationError,Xi as Public,tq as Sql,ac as createParam,Ec as defineDmmfProperty,$e as deserializeJsonResponse,Ni as deserializeRawResult,mu as dmmfToRuntimeDataModel,Y$ as empty,cd as getPrismaClient,Td as getRuntime,sq as isAnyNull,aq as isDbNull,lq as isJsonNull,X$ as join,dd as makeStrictEnum,Pc as makeTypedQueryFactory,eq as raw,Dn as serializeJsonQuery,Mn as skip,rq as sqltag,Co as warnOnce};
//# sourceMappingURL=wasm-compiler-edge.mjs.map
