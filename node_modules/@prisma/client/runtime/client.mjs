import * as __banner_node_module from "node:module";
import * as __banner_node_path from "node:path";
import * as process from "node:process";
import * as __banner_node_url from "node:url";
const __filename = __banner_node_url.fileURLToPath(import.meta.url);
globalThis['__dirname'] = __banner_node_path.dirname(__filename);
const require = __banner_node_module.createRequire(import.meta.url);
var al=Object.create;var Nr=Object.defineProperty;var ll=Object.getOwnPropertyDescriptor;var cl=Object.getOwnPropertyNames;var ul=Object.getPrototypeOf,pl=Object.prototype.hasOwnProperty;var dl=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var ni=(e,t)=>()=>(e&&(t=e(e=0)),t);var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),He=(e,t)=>{for(var r in t)Nr(e,r,{get:t[r],enumerable:!0})},ml=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of cl(t))!pl.call(e,i)&&i!==r&&Nr(e,i,{get:()=>t[i],enumerable:!(n=ll(t,i))||n.enumerable});return e};var se=(e,t,r)=>(r=e!=null?al(ul(e)):{},ml(t||!e||!e.__esModule?Nr(r,"default",{value:e,enumerable:!0}):r,e));var bi=_((Um,Nl)=>{Nl.exports={name:"@prisma/engines-version",version:"7.3.0-16.9d6ad21cbbceab97458517b147a6a09ff43aa735",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"9d6ad21cbbceab97458517b147a6a09ff43aa735"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}});var xi=_(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.enginesVersion=void 0;Mt.enginesVersion=bi().prisma.enginesVersion});var Ti=_((Bm,Ei)=>{"use strict";Ei.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((r,n)=>Math.min(r,n.length),1/0):0}});var Ci=_((Jm,Si)=>{"use strict";Si.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var ki=_((ef,Nt)=>{"use strict";Nt.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(let i of n){let o=e[i];if(o!==void 0){if(i==="labels"||i==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${i}\` option should be an array`);o=o.join(",")}r.searchParams.set(i,o)}}return r.toString()};Nt.exports.default=Nt.exports});var Wr=_((Gf,Ni)=>{"use strict";Ni.exports=function(){function e(t,r,n,i,o){return t<r||n<r?t>n?n+1:t+1:i===o?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,o=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,o-=s,i===0||o<3)return o;var a=0,l,c,u,p,y,h,g,x,S,Y,C,T,N=[];for(l=0;l<i;l++)N.push(l+1),N.push(t.charCodeAt(s+l));for(var be=N.length-1;a<o-3;)for(S=r.charCodeAt(s+(c=a)),Y=r.charCodeAt(s+(u=a+1)),C=r.charCodeAt(s+(p=a+2)),T=r.charCodeAt(s+(y=a+3)),h=a+=4,l=0;l<be;l+=2)g=N[l],x=N[l+1],c=e(g,c,u,S,x),u=e(c,u,p,Y,x),p=e(u,p,y,C,x),h=e(p,y,h,T,x),N[l]=h,y=p,p=u,u=c,c=g;for(;a<o;)for(S=r.charCodeAt(s+(c=a)),h=++a,l=0;l<be;l+=2)g=N[l],N[l]=h=e(g,c,h,S,N[l+1]),c=g;return h}}()});var Ui=ni(()=>{"use strict"});var ji=ni(()=>{"use strict"});var hn=_(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.anumber=yn;de.abytes=Zo;de.ahash=zu;de.aexists=Zu;de.aoutput=Yu;function yn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ku(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Zo(e,...t){if(!Ku(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function zu(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");yn(e.outputLen),yn(e.blockLen)}function Zu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Yu(e,t){Zo(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var bs=_(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.add5L=m.add5H=m.add4H=m.add4L=m.add3H=m.add3L=m.rotlBL=m.rotlBH=m.rotlSL=m.rotlSH=m.rotr32L=m.rotr32H=m.rotrBL=m.rotrBH=m.rotrSL=m.rotrSH=m.shrSL=m.shrSH=m.toBig=void 0;m.fromBig=bn;m.split=Yo;m.add=ds;var ur=BigInt(2**32-1),wn=BigInt(32);function bn(e,t=!1){return t?{h:Number(e&ur),l:Number(e>>wn&ur)}:{h:Number(e>>wn&ur)|0,l:Number(e&ur)|0}}function Yo(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=bn(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var Xo=(e,t)=>BigInt(e>>>0)<<wn|BigInt(t>>>0);m.toBig=Xo;var es=(e,t,r)=>e>>>r;m.shrSH=es;var ts=(e,t,r)=>e<<32-r|t>>>r;m.shrSL=ts;var rs=(e,t,r)=>e>>>r|t<<32-r;m.rotrSH=rs;var ns=(e,t,r)=>e<<32-r|t>>>r;m.rotrSL=ns;var is=(e,t,r)=>e<<64-r|t>>>r-32;m.rotrBH=is;var os=(e,t,r)=>e>>>r-32|t<<64-r;m.rotrBL=os;var ss=(e,t)=>t;m.rotr32H=ss;var as=(e,t)=>e;m.rotr32L=as;var ls=(e,t,r)=>e<<r|t>>>32-r;m.rotlSH=ls;var cs=(e,t,r)=>t<<r|e>>>32-r;m.rotlSL=cs;var us=(e,t,r)=>t<<r-32|e>>>64-r;m.rotlBH=us;var ps=(e,t,r)=>e<<r-32|t>>>64-r;m.rotlBL=ps;function ds(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var ms=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);m.add3L=ms;var fs=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;m.add3H=fs;var gs=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);m.add4L=gs;var ys=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;m.add4H=ys;var hs=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);m.add5L=hs;var ws=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;m.add5H=ws;var Xu={fromBig:bn,split:Yo,toBig:Xo,shrSH:es,shrSL:ts,rotrSH:rs,rotrSL:ns,rotrBH:is,rotrBL:os,rotr32H:ss,rotr32L:as,rotlSH:ls,rotlSL:cs,rotlBH:us,rotlBL:ps,add:ds,add3L:ms,add3H:fs,add4L:gs,add4H:ys,add5H:ws,add5L:hs};m.default=Xu});var xs=_(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.crypto=void 0;var ne=dl("node:crypto");pr.crypto=ne&&typeof ne=="object"&&"webcrypto"in ne?ne.webcrypto:ne&&typeof ne=="object"&&"randomBytes"in ne?ne:void 0});var Ps=_(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.Hash=w.nextTick=w.byteSwapIfBE=w.isLE=void 0;w.isBytes=ep;w.u8=tp;w.u32=rp;w.createView=np;w.rotr=ip;w.rotl=op;w.byteSwap=Tn;w.byteSwap32=sp;w.bytesToHex=lp;w.hexToBytes=cp;w.asyncLoop=pp;w.utf8ToBytes=Ts;w.toBytes=dr;w.concatBytes=dp;w.checkOpts=mp;w.wrapConstructor=fp;w.wrapConstructorWithOpts=gp;w.wrapXOFConstructorWithOpts=yp;w.randomBytes=hp;var Ne=xs(),En=hn();function ep(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function tp(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function rp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function np(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ip(e,t){return e<<32-t|e>>>t}function op(e,t){return e<<t|e>>>32-t>>>0}w.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Tn(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}w.byteSwapIfBE=w.isLE?e=>e:e=>Tn(e);function sp(e){for(let t=0;t<e.length;t++)e[t]=Tn(e[t])}var ap=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function lp(e){(0,En.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=ap[e[r]];return t}var z={_0:48,_9:57,A:65,F:70,a:97,f:102};function Es(e){if(e>=z._0&&e<=z._9)return e-z._0;if(e>=z.A&&e<=z.F)return e-(z.A-10);if(e>=z.a&&e<=z.f)return e-(z.a-10)}function cp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Es(e.charCodeAt(o)),a=Es(e.charCodeAt(o+1));if(s===void 0||a===void 0){let l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+a}return n}var up=async()=>{};w.nextTick=up;async function pp(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,w.nextTick)(),n+=o)}}function Ts(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function dr(e){return typeof e=="string"&&(e=Ts(e)),(0,En.abytes)(e),e}function dp(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,En.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var xn=class{clone(){return this._cloneInto()}};w.Hash=xn;function mp(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function fp(e){let t=n=>e().update(dr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function gp(e){let t=(n,i)=>e(i).update(dr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function yp(e){let t=(n,i)=>e(i).update(dr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function hp(e=32){if(Ne.crypto&&typeof Ne.crypto.getRandomValues=="function")return Ne.crypto.getRandomValues(new Uint8Array(e));if(Ne.crypto&&typeof Ne.crypto.randomBytes=="function")return Ne.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}});var Is=_(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.shake256=A.shake128=A.keccak_512=A.keccak_384=A.keccak_256=A.keccak_224=A.sha3_512=A.sha3_384=A.sha3_256=A.sha3_224=A.Keccak=void 0;A.keccakP=ks;var Le=hn(),yt=bs(),Z=Ps(),Ss=[],Cs=[],Rs=[],wp=BigInt(0),gt=BigInt(1),bp=BigInt(2),xp=BigInt(7),Ep=BigInt(256),Tp=BigInt(113);for(let e=0,t=gt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Ss.push(2*(5*n+r)),Cs.push((e+1)*(e+2)/2%64);let i=wp;for(let o=0;o<7;o++)t=(t<<gt^(t>>xp)*Tp)%Ep,t&bp&&(i^=gt<<(gt<<BigInt(o))-gt);Rs.push(i)}var[Pp,Ap]=(0,yt.split)(Rs,!0),As=(e,t,r)=>r>32?(0,yt.rotlBH)(e,t,r):(0,yt.rotlSH)(e,t,r),vs=(e,t,r)=>r>32?(0,yt.rotlBL)(e,t,r):(0,yt.rotlSL)(e,t,r);function ks(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,l=(s+2)%10,c=r[l],u=r[l+1],p=As(c,u,1)^r[a],y=vs(c,u,1)^r[a+1];for(let h=0;h<50;h+=10)e[s+h]^=p,e[s+h+1]^=y}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=Cs[s],l=As(i,o,a),c=vs(i,o,a),u=Ss[s];i=e[u],o=e[u+1],e[u]=l,e[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Pp[n],e[1]^=Ap[n]}r.fill(0)}var ht=class e extends Z.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Le.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Z.u32)(this.state)}keccak(){Z.isLE||(0,Z.byteSwap32)(this.state32),ks(this.state32,this.rounds),Z.isLE||(0,Z.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,Le.aexists)(this);let{blockLen:r,state:n}=this;t=(0,Z.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,Le.aexists)(this,!1),(0,Le.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,Le.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Le.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};A.Keccak=ht;var ie=(e,t,r)=>(0,Z.wrapConstructor)(()=>new ht(t,e,r));A.sha3_224=ie(6,144,224/8);A.sha3_256=ie(6,136,256/8);A.sha3_384=ie(6,104,384/8);A.sha3_512=ie(6,72,512/8);A.keccak_224=ie(1,144,224/8);A.keccak_256=ie(1,136,256/8);A.keccak_384=ie(1,104,384/8);A.keccak_512=ie(1,72,512/8);var Os=(e,t,r)=>(0,Z.wrapXOFConstructorWithOpts)((n={})=>new ht(t,e,n.dkLen===void 0?r:n.dkLen,!0));A.shake128=Os(31,168,128/8);A.shake256=Os(31,136,256/8)});var qs=_((Bb,oe)=>{"use strict";var{sha3_512:vp}=Is(),Ms=24,wt=32,Pn=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r=r+Math.floor(t()*36).toString(36);return r};function _s(e){let t=8n,r=0n;for(let n of e.values()){let i=BigInt(n);r=(r<<t)+i}return r}var Ds=(e="")=>_s(vp(e)).toString(36).slice(1),Fs=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),Sp=e=>Fs[Math.floor(e()*Fs.length)],Ns=({globalObj:e=typeof global<"u"?global:typeof window<"u"?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString(),n=r.length?r+Pn(wt,t):Pn(wt,t);return Ds(n).substring(0,wt)},Ls=e=>()=>e++,Cp=476782367,$s=({random:e=Math.random,counter:t=Ls(Math.floor(e()*Cp)),length:r=Ms,fingerprint:n=Ns({random:e})}={})=>function(){let o=Sp(e),s=Date.now().toString(36),a=t().toString(36),l=Pn(r,e),c=`${s+l+a+n}`;return`${o+Ds(c).substring(1,r)}`},Rp=$s(),kp=(e,{minLength:t=2,maxLength:r=wt}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if(typeof e=="string"&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1};oe.exports.getConstants=()=>({defaultLength:Ms,bigLength:wt});oe.exports.init=$s;oe.exports.createId=Rp;oe.exports.bufToBigInt=_s;oe.exports.createCounter=Ls;oe.exports.createFingerprint=Ns;oe.exports.isCuid=kp});var Vs=_((Qb,bt)=>{"use strict";var{createId:Op,init:Ip,getConstants:Fp,isCuid:Mp}=qs();bt.exports.createId=Op;bt.exports.init=Ip;bt.exports.getConstants=Fp;bt.exports.isCuid=Mp});var si={};He(si,{defineExtension:()=>ii,getExtensionContext:()=>oi});function ii(e){return typeof e=="function"?e:t=>t.$extends(e)}function oi(e){return e}var li={};He(li,{validator:()=>ai});function ai(...e){return t=>t}var j=class{_map=new Map;get(t){return this._map.get(t)?.value}set(t,r){this._map.set(t,{value:r})}getOrCreate(t,r){let n=this._map.get(t);if(n)return n.value;let i=r();return this.set(t,i),i}};function ee(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function ci(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}function Je(e){let t;return{get(){return t||(t={value:e()}),t.value}}}function fl(e){return{models:Lr(e.models),enums:Lr(e.enums),types:Lr(e.types)}}function Lr(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}import{isAnyNull as Mc,isDbNull as _c,isJsonNull as Dc,ObjectEnumValue as Nc}from"@prisma/client-runtime-utils";var Ft={};He(Ft,{$:()=>fi,bgBlack:()=>Al,bgBlue:()=>Rl,bgCyan:()=>Ol,bgGreen:()=>Sl,bgMagenta:()=>kl,bgRed:()=>vl,bgWhite:()=>Il,bgYellow:()=>Cl,black:()=>xl,blue:()=>le,bold:()=>$,cyan:()=>G,dim:()=>We,gray:()=>Ze,green:()=>Ke,grey:()=>Pl,hidden:()=>wl,inverse:()=>hl,italic:()=>yl,magenta:()=>El,red:()=>ae,reset:()=>gl,strikethrough:()=>bl,underline:()=>Ge,white:()=>Tl,yellow:()=>ze});var $r,ui,pi,di,mi=!0;typeof process<"u"&&({FORCE_COLOR:$r,NODE_DISABLE_COLORS:ui,NO_COLOR:pi,TERM:di}=process.env||{},mi=process.stdout&&process.stdout.isTTY);var fi={enabled:!ui&&pi==null&&di!=="dumb"&&($r!=null&&$r!=="0"||mi)};function E(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(o){return!fi.enabled||o==null?o:n+(~(""+o).indexOf(i)?o.replace(r,i+n):o)+i}}var gl=E(0,0),$=E(1,22),We=E(2,22),yl=E(3,23),Ge=E(4,24),hl=E(7,27),wl=E(8,28),bl=E(9,29),xl=E(30,39),ae=E(31,39),Ke=E(32,39),ze=E(33,39),le=E(34,39),El=E(35,39),G=E(36,39),Tl=E(37,39),Ze=E(90,39),Pl=E(90,39),Al=E(40,49),vl=E(41,49),Sl=E(42,49),Cl=E(43,49),Rl=E(44,49),kl=E(45,49),Ol=E(46,49),Il=E(47,49);var Fl=100,gi=["green","yellow","blue","magenta","cyan","red"],Ye=[],yi=Date.now(),Ml=0,qr=typeof process<"u"?process.env:{};globalThis.DEBUG??=qr.DEBUG??"";globalThis.DEBUG_COLORS??=qr.DEBUG_COLORS?qr.DEBUG_COLORS==="true":!0;var Xe={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function _l(e){let t={color:gi[Ml++%gi.length],enabled:Xe.enabled(e),namespace:e,log:Xe.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:o,color:s,log:a}=t;if(n.length!==0&&Ye.push([o,...n]),Ye.length>Fl&&Ye.shift(),Xe.enabled(o)||i){let l=n.map(u=>typeof u=="string"?u:Dl(u)),c=`+${Date.now()-yi}ms`;yi=Date.now(),globalThis.DEBUG_COLORS?a(Ft[s]($(o)),...l,Ft[s](c)):a(o,...l,c)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,o)=>t[i]=o})}var I=new Proxy(_l,{get:(e,t)=>Xe[t],set:(e,t,r)=>Xe[t]=r});function Dl(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function hi(e=7500){let t=Ye.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function wi(){Ye.length=0}var Pi=se(Ti(),1);function Vr(e){let t=(0,Pi.default)(e);if(t===0)return e;let r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}var Ai="prisma+postgres",_t=`${Ai}:`;function vi(e){return e?.toString().startsWith(`${_t}//`)??!1}function Ur(e){if(!vi(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var tt={};He(tt,{error:()=>ql,info:()=>$l,log:()=>Ll,query:()=>Vl,should:()=>Ri,tags:()=>et,warn:()=>jr});var et={error:ae("prisma:error"),warn:ze("prisma:warn"),info:G("prisma:info"),query:le("prisma:query")},Ri={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function Ll(...e){console.log(...e)}function jr(e,...t){Ri.warn()&&console.warn(`${et.warn} ${e}`,...t)}function $l(e,...t){console.info(`${et.info} ${e}`,...t)}function ql(e,...t){console.error(`${et.error} ${e}`,...t)}function Vl(e,...t){console.log(`${et.query} ${e}`,...t)}function K(e,t){throw new Error(t)}function Br({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var Ul=Br();function xe(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Ul,"")}import Dt from"node:path";function Qr(e){return Dt.sep===Dt.posix.sep?e:e.split(Dt.sep).join(Dt.posix.sep)}function Hr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Lt(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Jr(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}function rt(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var Oi=new Set,Ii=(e,t,...r)=>{Oi.has(e)||(Oi.add(e),jr(t,...r))};function Ee(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function $t(e){return e.toString()!=="Invalid Date"}import{Decimal as jl}from"@prisma/client-runtime-utils";function Te(e){return jl.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}import{PrismaClientValidationError as kc}from"@prisma/client-runtime-utils";var qt={};He(qt,{ModelAction:()=>Pe,datamodelEnumToSchemaEnum:()=>Bl});function Bl(e){return{name:e.name,values:e.values.map(t=>t.name)}}var Pe=(T=>(T.findUnique="findUnique",T.findUniqueOrThrow="findUniqueOrThrow",T.findFirst="findFirst",T.findFirstOrThrow="findFirstOrThrow",T.findMany="findMany",T.create="create",T.createMany="createMany",T.createManyAndReturn="createManyAndReturn",T.update="update",T.updateMany="updateMany",T.updateManyAndReturn="updateManyAndReturn",T.upsert="upsert",T.delete="delete",T.deleteMany="deleteMany",T.groupBy="groupBy",T.count="count",T.aggregate="aggregate",T.findRaw="findRaw",T.aggregateRaw="aggregateRaw",T))(Pe||{});var Di=se(Ci());import Gl from"node:fs";var Fi={keyword:G,entity:G,value:e=>$(le(e)),punctuation:le,directive:G,function:G,variable:e=>$(le(e)),string:e=>$(Ke(e)),boolean:ze,number:G,comment:Ze};var Ql=e=>e,Vt={},Hl=0,f={manual:Vt.Prism&&Vt.Prism.manual,disableWorkerMessageHandler:Vt.Prism&&Vt.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof q){let t=e;return new q(t.type,f.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(f.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Hl}),e.__id},clone:function e(t,r){let n,i,o=f.util.type(t);switch(r=r||{},o){case"Object":if(i=f.util.objId(t),r[i])return r[i];n={},r[i]=n;for(let s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s],r));return n;case"Array":return i=f.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(s,a){n[a]=e(s,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=f.util.clone(f.languages[e]);for(let n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||f.languages;let i=n[e],o={};for(let a in i)if(i.hasOwnProperty(a)){if(a==t)for(let l in r)r.hasOwnProperty(l)&&(o[l]=r[l]);r.hasOwnProperty(a)||(o[a]=i[a])}let s=n[e];return n[e]=o,f.languages.DFS(f.languages,function(a,l){l===s&&a!=e&&(this[a]=o)}),o},DFS:function e(t,r,n,i){i=i||{};let o=f.util.objId;for(let s in t)if(t.hasOwnProperty(s)){r.call(t,s,t[s],n||s);let a=t[s],l=f.util.type(a);l==="Object"&&!i[o(a)]?(i[o(a)]=!0,e(a,r,null,i)):l==="Array"&&!i[o(a)]&&(i[o(a)]=!0,e(a,r,s,i))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return f.hooks.run("before-tokenize",n),n.tokens=f.tokenize(n.code,n.grammar),f.hooks.run("after-tokenize",n),q.stringify(f.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,o,s){for(let x in r){if(!r.hasOwnProperty(x)||!r[x])continue;if(x==s)return;let S=r[x];S=f.util.type(S)==="Array"?S:[S];for(let Y=0;Y<S.length;++Y){let C=S[Y],T=C.inside,N=!!C.lookbehind,be=!!C.greedy,Dr=0,il=C.alias;if(be&&!C.pattern.global){let M=C.pattern.toString().match(/[imuy]*$/)[0];C.pattern=RegExp(C.pattern.source,M+"g")}C=C.pattern||C;for(let M=n,X=i;M<t.length;X+=t[M].length,++M){let Qe=t[M];if(t.length>e.length)return;if(Qe instanceof q)continue;if(be&&M!=t.length-1){C.lastIndex=X;var p=C.exec(e);if(!p)break;var u=p.index+(N?p[1].length:0),y=p.index+p[0].length,a=M,l=X;for(let sl=t.length;a<sl&&(l<y||!t[a].type&&!t[a-1].greedy);++a)l+=t[a].length,u>=l&&(++M,X=l);if(t[M]instanceof q)continue;c=a-M,Qe=e.slice(X,l),p.index-=X}else{C.lastIndex=0;var p=C.exec(Qe),c=1}if(!p){if(o)break;continue}N&&(Dr=p[1]?p[1].length:0);var u=p.index+Dr,p=p[0].slice(Dr),y=u+p.length,h=Qe.slice(0,u),g=Qe.slice(y);let It=[M,c];h&&(++M,X+=h.length,It.push(h));let ol=new q(x,T?f.tokenize(p,T):p,il,p,be);if(It.push(ol),g&&It.push(g),Array.prototype.splice.apply(t,It),c!=1&&f.matchGrammar(e,t,r,M,X,!0,x),o)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let i in n)t[i]=n[i];delete t.rest}return f.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=f.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=f.hooks.all[e];if(!(!r||!r.length))for(var n=0,i;i=r[n++];)i(t)}},Token:q};f.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};f.languages.javascript=f.languages.extend("clike",{"class-name":[f.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});f.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;f.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:f.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:f.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:f.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:f.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});f.languages.markup&&f.languages.markup.tag.addInlined("script","javascript");f.languages.js=f.languages.javascript;f.languages.typescript=f.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});f.languages.ts=f.languages.typescript;function q(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}q.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return q.stringify(r,t)}).join(""):Jl(e.type)(e.content)};function Jl(e){return Fi[e]||Ql}function Mi(e){return Wl(e,f.languages.javascript)}function Wl(e,t){return f.tokenize(e,t).map(n=>q.stringify(n)).join("")}function _i(e){return Vr(e)}var Ut=class e{firstLineNumber;lines;static read(t){let r;try{r=Gl.readFileSync(t,"utf-8")}catch{return null}return e.fromContent(r)}static fromContent(t){let r=t.split(/\r?\n/);return new e(1,r)}constructor(t,r){this.firstLineNumber=t,this.lines=r}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,r){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let n=t-this.firstLineNumber,i=[...this.lines];return i[n]=r(i[n]),new e(this.firstLineNumber,i)}mapLines(t){return new e(this.firstLineNumber,this.lines.map((r,n)=>t(r,this.firstLineNumber+n)))}lineAt(t){return this.lines[t-this.firstLineNumber]}prependSymbolAt(t,r){return this.mapLines((n,i)=>i===t?`${r} ${n}`:`  ${n}`)}slice(t,r){let n=this.lines.slice(t-1,r).join(`
`);return new e(t,_i(n).split(`
`))}highlight(){let t=Mi(this.toString());return new e(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}};var Kl={red:ae,gray:Ze,dim:We,bold:$,underline:Ge,highlightSource:e=>e.highlight()},zl={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function Zl({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function Yl({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:i},o){let s=Zl({message:t,originalMethod:r,isPanic:n,callArguments:i});if(!e||typeof window<"u"||process.env.NODE_ENV==="production")return s;let a=e.getLocation();if(!a||!a.lineNumber||!a.columnNumber)return s;let l=Math.max(1,a.lineNumber-3),c=Ut.read(a.fileName)?.slice(l,a.lineNumber),u=c?.lineAt(a.lineNumber);if(c&&u){let p=ec(u),y=Xl(u);if(!y)return s;s.functionName=`${y.code})`,s.location=a,n||(c=c.mapLineAt(a.lineNumber,g=>g.slice(0,y.openingBraceIndex))),c=o.highlightSource(c);let h=String(c.lastLineNumber).length;if(s.contextLines=c.mapLines((g,x)=>o.gray(String(x).padStart(h))+" "+g).mapLines(g=>o.dim(g)).prependSymbolAt(a.lineNumber,o.bold(o.red("\u2192"))),i){let g=p+h+1;g+=2,s.callArguments=(0,Di.default)(i,g).slice(g)}}return s}function Xl(e){let t=Object.keys(Pe).join("|"),n=new RegExp(String.raw`\.(${t})\(`).exec(e);if(n){let i=n.index+n[0].length,o=e.lastIndexOf(" ",n.index)+1;return{code:e.slice(o,i),openingBraceIndex:i}}return null}function ec(e){let t=0;for(let r=0;r<e.length;r++){if(e.charAt(r)!==" ")return t;t++}return t}function tc({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:o},s){let a=[""],l=t?" in":":";if(n?(a.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),a.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${l}`))):a.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${l}`)),t&&a.push(s.underline(rc(t))),i){a.push("");let c=[i.toString()];o&&(c.push(o),c.push(s.dim(")"))),a.push(c.join("")),o&&a.push("")}else a.push(""),o&&a.push(o),a.push("");return a.push(r),a.join(`
`)}function rc(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function jt(e){let t=e.showColors?Kl:zl,r;return r=Yl(e,t),tc(r,t)}var Qi=se(Wr());function qi(e,t,r){let n=Vi(e),i=nc(n),o=oc(i);o?Bt(o,t,r):t.addErrorMessage(()=>"Unknown error")}function Vi(e){return e.errors.flatMap(t=>t.kind==="Union"?Vi(t):[t])}function nc(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,o=t.get(i);o?t.set(i,{...n,argument:{...n.argument,typeNames:ic(o.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function ic(e,t){return[...new Set(e.concat(t))]}function oc(e){return Jr(e,(t,r)=>{let n=Li(t),i=Li(r);return n!==i?n-i:$i(t)-$i(r)})}function Li(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function $i(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var D=class{constructor(t,r){this.name=t;this.value=r}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(t){let{colors:{green:r}}=t.context;t.addMarginSymbol(r(this.isRequired?"+":"?")),t.write(r(this.name)),this.isRequired||t.write(r("?")),t.write(r(": ")),typeof this.value=="string"?t.write(r(this.value)):t.write(this.value)}};ji();var Ae=class{constructor(t=0,r){this.context=r;this.currentIndent=t}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(t){return typeof t=="string"?this.currentLine+=t:t.write(this),this}writeJoined(t,r,n=(i,o)=>o.write(i)){let i=r.length-1;for(let o=0;o<r.length;o++)n(r[o],this),o!==i&&this.write(t);return this}writeLine(t){return this.write(t).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let t=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,t?.(),this}withIndent(t){return this.indent(),t(this),this.unindent(),this}afterNextNewline(t){return this.afterNextNewLineCallback=t,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(t){return this.marginSymbol=t,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let t=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+t.slice(1):t}};Ui();var Qt=class{constructor(t){this.value=t}write(t){t.write(this.value)}markAsError(){this.value.markAsError()}};var Ht=e=>e,Jt={bold:Ht,red:Ht,green:Ht,dim:Ht,enabled:!1},Bi={bold:$,red:ae,green:Ke,dim:We,enabled:!0},ve={write(e){e.writeLine(",")}};var B=class{constructor(t){this.contents=t}isUnderlined=!1;color=t=>t;underline(){return this.isUnderlined=!0,this}setColor(t){return this.color=t,this}write(t){let r=t.getCurrentLineLength();t.write(this.color(this.contents)),this.isUnderlined&&t.afterNextNewline(()=>{t.write(" ".repeat(r)).writeLine(this.color("~".repeat(this.contents.length)))})}};var te=class{hasError=!1;markAsError(){return this.hasError=!0,this}};var Se=class extends te{items=[];addItem(t){return this.items.push(new Qt(t)),this}getField(t){return this.items[t]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(r=>r.value.getPrintWidth()))+2}write(t){if(this.items.length===0){this.writeEmpty(t);return}this.writeWithItems(t)}writeEmpty(t){let r=new B("[]");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithItems(t){let{colors:r}=t.context;t.writeLine("[").withIndent(()=>t.writeJoined(ve,this.items).newLine()).write("]"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(r.red("~".repeat(this.getPrintWidth())))})}asObject(){}};var Ce=class e extends te{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let o=i;for(let s of n){let a;if(o.value instanceof e?a=o.value.getField(s):o.value instanceof Se&&(a=o.value.getField(Number(s))),!a)return;o=a}return o}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let o=n.value.getFieldValue(i);if(!o||!(o instanceof e))return;let s=o.getSelectionParent();if(!s)return;n=s}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new B("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(ve,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}};var R=class extends te{constructor(r){super();this.text=r}getPrintWidth(){return this.text.length}write(r){let n=new B(this.text);this.hasError&&n.underline().setColor(r.context.colors.red),r.write(n)}asObject(){}};var nt=class{fields=[];addField(t,r){return this.fields.push({write(n){let{green:i,dim:o}=n.context.colors;n.write(i(o(`${t}: ${r}`))).addMarginSymbol(i(o("+")))}}),this}write(t){let{colors:{green:r}}=t.context;t.writeLine(r("{")).withIndent(()=>{t.writeJoined(ve,this.fields).newLine()}).write(r("}")).addMarginSymbol(r("+"))}};function Bt(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":sc(e,t);break;case"IncludeOnScalar":ac(e,t);break;case"EmptySelection":lc(e,t,r);break;case"UnknownSelectionField":dc(e,t);break;case"InvalidSelectionValue":mc(e,t);break;case"UnknownArgument":fc(e,t);break;case"UnknownInputField":gc(e,t);break;case"RequiredArgumentMissing":yc(e,t);break;case"InvalidArgumentType":hc(e,t);break;case"InvalidArgumentValue":wc(e,t);break;case"ValueTooLarge":bc(e,t);break;case"SomeFieldsMissing":xc(e,t);break;case"TooManyFieldsGiven":Ec(e,t);break;case"Union":qi(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function sc(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function ac(e,t){let[r,n]=Re(e.selectionPath),i=e.outputType,o=t.arguments.getDeepSelectionParent(r)?.value;if(o&&(o.getField(n)?.markAsError(),i))for(let s of i.fields)s.isRelation&&o.addSuggestion(new D(s.name,"true"));t.addErrorMessage(s=>{let a=`Invalid scalar field ${s.red(`\`${n}\``)} for ${s.bold("include")} statement`;return i?a+=` on model ${s.bold(i.name)}. ${it(s)}`:a+=".",a+=`
Note that ${s.bold("include")} statements only accept relation fields.`,a})}function lc(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){cc(e,t,i);return}if(n.hasField("select")){uc(e,t);return}}if(r?.[ee(e.outputType.name)]){pc(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function cc(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new D(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function uc(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),Wi(n,r)),t.addErrorMessage(o=>i?`The ${o.red("`select`")} statement for type ${o.bold(r.name)} must not be empty. ${it(o)}`:`The ${o.red("`select`")} statement for type ${o.bold(r.name)} needs ${o.bold("at least one truthy value")}.`)}function pc(e,t){let r=new nt;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new D("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,o]=Re(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(o);if(a){let l=a?.value.asObject()??new Ce;l.addSuggestion(n),a.value=l}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function dc(e,t){let r=Gi(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":Wi(n,e.outputType);break;case"include":Tc(n,e.outputType);break;case"omit":Pc(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push(it(n)),i.join(" ")})}function mc(e,t){let r=Gi(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function fc(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Ac(n,e.arguments)),t.addErrorMessage(i=>Hi(i,r,e.arguments.map(o=>o.name)))}function gc(e,t){let[r,n]=Re(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let o=i.getDeepFieldValue(r)?.asObject();o&&Ki(o,e.inputType)}t.addErrorMessage(o=>Hi(o,n,e.inputType.fields.map(s=>s.name)))}function Hi(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=Sc(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(it(e)),n.join(" ")}function yc(e,t){let r;t.addErrorMessage(l=>r?.value instanceof R&&r.value.text==="null"?`Argument \`${l.green(o)}\` must not be ${l.red("null")}.`:`Argument \`${l.green(o)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,o]=Re(e.argumentPath),s=new nt,a=n.getDeepFieldValue(i)?.asObject();if(a){if(r=a.getField(o),r&&a.removeField(o),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let l of e.inputTypes[0].fields)s.addField(l.name,l.typeNames.join(" | "));a.addSuggestion(new D(o,s).makeRequired())}else{let l=e.inputTypes.map(Ji).join(" | ");a.addSuggestion(new D(o,l).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,l]=Re(e.dependentArgumentPath);t.addErrorMessage(c=>`Argument \`${c.green(o)}\` is required because argument \`${c.green(l)}\` was provided.`)}}}function Ji(e){return e.kind==="list"?`${Ji(e.elementType)}[]`:e.name}function hc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=Wt("or",e.argument.typeNames.map(s=>i.green(s)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${o}, provided ${i.red(e.inferredType)}.`})}function wc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&o.push(`: ${e.underlyingError}`),o.push("."),e.argument.typeNames.length>0){let s=Wt("or",e.argument.typeNames.map(a=>i.green(a)));o.push(` Expected ${s}.`)}return o.join("")})}function bc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof R&&(i=s.text)}t.addErrorMessage(o=>{let s=["Unable to fit value"];return i&&s.push(o.red(i)),s.push(`into a 64-bit signed integer for field \`${o.bold(r)}\``),s.join(" ")})}function xc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&Ki(i,e.inputType)}t.addErrorMessage(i=>{let o=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?o.push(`${i.green("at least one of")} ${Wt("or",e.constraints.requiredFields.map(s=>`\`${i.bold(s)}\``))} arguments.`):o.push(`${i.green("at least one")} argument.`):o.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),o.push(it(i)),o.join(" ")})}function Ec(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let o=n.getDeepFieldValue(e.argumentPath)?.asObject();o&&(o.markAsError(),i=Object.keys(o.getFields()))}t.addErrorMessage(o=>{let s=[`Argument \`${o.bold(r)}\` of type ${o.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${o.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?s.push(`${o.green("at most one")} argument,`):s.push(`${o.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${Wt("and",i.map(a=>o.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?s.push("one."):s.push(`${e.constraints.maxFieldCount}.`),s.join(" ")})}function Wi(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new D(r.name,"true"))}function Tc(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new D(r.name,"true"))}function Pc(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new D(r.name,"true"))}function Ac(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new D(r.name,r.typeNames.join(" | ")))}function Gi(e,t){let[r,n]=Re(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let o=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),a=i.getFieldValue("omit")?.asObject(),l=o?.getField(n);return o&&l?{parentKind:"select",parent:o,field:l,fieldName:n}:(l=s?.getField(n),s&&l?{parentKind:"include",field:l,parent:s,fieldName:n}:(l=a?.getField(n),a&&l?{parentKind:"omit",field:l,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function Ki(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new D(r.name,r.typeNames.join(" | ")))}function Re(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function it({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function Wt(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var vc=3;function Sc(e,t){let r=1/0,n;for(let i of t){let o=(0,Qi.default)(e,i);o>vc||o<r&&(r=o,n=i)}return n}import{ObjectEnumValue as Cc}from"@prisma/client-runtime-utils";var ot=class{modelName;name;typeName;isList;isEnum;constructor(t,r,n,i,o){this.modelName=t,this.name=r,this.typeName=n,this.isList=i,this.isEnum=o}_toGraphQLInputType(){let t=this.isList?"List":"",r=this.isEnum?"Enum":"";return`${t}${r}${this.typeName}FieldRefInput<${this.modelName}>`}};function ke(e){return e instanceof ot}var zi=": ",Gt=class{constructor(t,r){this.name=t;this.value=r}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+zi.length}write(t){let r=new B(this.name);this.hasError&&r.underline().setColor(t.context.colors.red),t.write(r).write(zi).write(this.value)}};var Kr=class{arguments;errorMessages=[];constructor(t){this.arguments=t}write(t){t.write(this.arguments)}addErrorMessage(t){this.errorMessages.push(t)}renderAllMessages(t){return this.errorMessages.map(r=>r(t)).join(`
`)}};function Oe(e){return new Kr(Zi(e))}function Zi(e){let t=new Ce;for(let[r,n]of Object.entries(e)){let i=new Gt(r,Yi(n));t.addField(i)}return t}function Yi(e){if(typeof e=="string")return new R(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new R(String(e));if(typeof e=="bigint")return new R(`${e}n`);if(e===null)return new R("null");if(e===void 0)return new R("undefined");if(Te(e))return new R(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return Buffer.isBuffer(e)?new R(`Buffer.alloc(${e.byteLength})`):new R(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=$t(e)?e.toISOString():"Invalid Date";return new R(`new Date("${t}")`)}return e instanceof Cc?new R(`Prisma.${e._getName()}`):ke(e)?new R(`prisma.${ee(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?Rc(e):typeof e=="object"?Zi(e):new R(Object.prototype.toString.call(e))}function Rc(e){let t=new Se;for(let r of e)t.addItem(Yi(r));return t}function Kt(e,t){let r=t==="pretty"?Bi:Jt,n=e.renderAllMessages(r),i=new Ae(0,{colors:r}).write(e).toString();return{message:n,args:i}}function zt({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:o,globalOmit:s}){let a=Oe(e);for(let p of t)Bt(p,a,s);let{message:l,args:c}=Kt(a,r),u=jt({message:l,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:c});throw new kc(u,{clientVersion:o})}function Q(e){return e.replace(/^./,t=>t.toLowerCase())}function eo(e,t,r){let n=Q(r);return!t.result||!(t.result.$allModels||t.result[n])?e:Oc({...e,...Xi(t.name,e,t.result.$allModels),...Xi(t.name,e,t.result[n])})}function Oc(e){let t=new j,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(o=>r(o,i)):[n]));return Lt(e,n=>({...n,needs:r(n.name,new Set)}))}function Xi(e,t,r){return r?Lt(r,({needs:n,compute:i},o)=>({name:o,needs:n?Object.keys(n).filter(s=>n[s]):[],compute:Ic(t,o,i)})):{}}function Ic(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function to(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function ro(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var Zt=class{constructor(t,r){this.extension=t;this.previous=r}computedFieldsCache=new j;modelExtensionsCache=new j;queryCallbacksCache=new j;clientExtensions=Je(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=Je(()=>{let t=this.previous?.getAllBatchQueryCallbacks()??[],r=this.extension.query?.$__internalBatch;return r?t.concat(r):t});getAllComputedFields(t){return this.computedFieldsCache.getOrCreate(t,()=>eo(this.previous?.getAllComputedFields(t),this.extension,t))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(t){return this.modelExtensionsCache.getOrCreate(t,()=>{let r=Q(t);return!this.extension.model||!(this.extension.model[r]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(t):{...this.previous?.getAllModelExtensions(t),...this.extension.model.$allModels,...this.extension.model[r]}})}getAllQueryCallbacks(t,r){return this.queryCallbacksCache.getOrCreate(`${t}:${r}`,()=>{let n=this.previous?.getAllQueryCallbacks(t,r)??[],i=[],o=this.extension.query;return!o||!(o[t]||o.$allModels||o[r]||o.$allOperations)?n:(o[t]!==void 0&&(o[t][r]!==void 0&&i.push(o[t][r]),o[t].$allOperations!==void 0&&i.push(o[t].$allOperations)),t!=="$none"&&o.$allModels!==void 0&&(o.$allModels[r]!==void 0&&i.push(o.$allModels[r]),o.$allModels.$allOperations!==void 0&&i.push(o.$allModels.$allOperations)),o[r]!==void 0&&i.push(o[r]),o.$allOperations!==void 0&&i.push(o.$allOperations),n.concat(i))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},Ie=class e{constructor(t){this.head=t}static empty(){return new e}static single(t){return new e(new Zt(t))}isEmpty(){return this.head===void 0}append(t){return new e(new Zt(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};var Yt=class{constructor(t){this.name=t}};function no(e){return e instanceof Yt}function Fc(e){return new Yt(e)}var io=Symbol(),st=class{constructor(t){if(t!==io)throw new Error("Skip instance can not be constructed directly")}ifUndefined(t){return t===void 0?zr:t}},zr=new st(io);function H(e){return e instanceof st}var Lc={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},oo="explicitly `undefined` values are not allowed";function Yr({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=Ie.empty(),callsite:o,clientMethod:s,errorFormat:a,clientVersion:l,previewFeatures:c,globalOmit:u}){let p=new Zr({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:o,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:a,clientVersion:l,previewFeatures:c,globalOmit:u});return{modelName:e,action:Lc[t],query:at(r,p)}}function at({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:ao(r,n),selection:$c(e,t,i,n)}}function $c(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),jc(e,n)):qc(n,t,r)}function qc(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&Vc(n,t,e),Uc(n,r,e),n}function Vc(e,t,r){for(let[n,i]of Object.entries(t)){if(H(i))continue;let o=r.nestSelection(n);if(Xr(i,o),i===!1||i===void 0){e[n]=!1;continue}let s=r.findField(n);if(s&&s.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),s){e[n]=at(i===!0?{}:i,o);continue}if(i===!0){e[n]=!0;continue}e[n]=at(i,o)}}function Uc(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},o=ro(i,n);for(let[s,a]of Object.entries(o)){if(H(a))continue;Xr(a,r.nestSelection(s));let l=r.findField(s);n?.[s]&&!l||(e[s]=!a)}}function jc(e,t){let r={},n=t.getComputedFields(),i=to(e,n);for(let[o,s]of Object.entries(i)){if(H(s))continue;let a=t.nestSelection(o);Xr(s,a);let l=t.findField(o);if(!(n?.[o]&&!l)){if(s===!1||s===void 0||H(s)){r[o]=!1;continue}if(s===!0){l?.kind==="object"?r[o]=at({},a):r[o]=!0;continue}r[o]=at(s,a)}}return r}function so(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(Ee(e)){if($t(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(no(e))return{$type:"Param",value:e.name};if(ke(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return Bc(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:Buffer.from(r,n,i).toString("base64")}}if(Qc(e))return e.values;if(Te(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof Nc){if(!_c(e)&&!Dc(e)&&!Mc(e))throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(Hc(e))return e.toJSON();if(typeof e=="object")return ao(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function ao(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],o=t.nestArgument(n);H(i)||(i!==void 0?r[n]=so(i,o):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:o.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:oo}))}return r}function Bc(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),o=e[n];if(o===void 0||H(o)){let s=o===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${s}\` value within array. Use \`null\` or filter out \`${s}\` values`})}r.push(so(o,i))}return r}function Qc(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function Hc(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function Xr(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:oo})}var Zr=class e{constructor(t){this.params=t;this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){zt({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[ee(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:K(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function Jc(e,t){let r=Je(()=>Wc(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function Wc(e){return{datamodel:{models:en(e.models),enums:en(e.enums),types:en(e.types)}}}function en(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}var tn=new WeakMap,Xt="$$PrismaTypedSql",lt=class{constructor(t,r){tn.set(this,{sql:t,values:r}),Object.defineProperty(this,Xt,{value:Xt})}get sql(){return tn.get(this).sql}get values(){return tn.get(this).values}};function Gc(e){return(...t)=>new lt(e,t)}function er(e){return e!=null&&e[Xt]===Xt}import{Sql as Jd}from"@prisma/client-runtime-utils";import{AsyncResource as Wd}from"node:async_hooks";import{EventEmitter as Gd}from"node:events";function ct(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}function F(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}function ce(e){let t=new j;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}var tr={enumerable:!0,configurable:!0,writable:!0};function rr(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>tr,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var lo=Symbol.for("nodejs.util.inspect.custom");function V(e,t){let r=Kc(t),n=new Set,i=new Proxy(e,{get(o,s){if(n.has(s))return o[s];let a=r.get(s);return a?a.getPropertyValue(s):o[s]},has(o,s){if(n.has(s))return!0;let a=r.get(s);return a?a.has?.(s)??!0:Reflect.has(o,s)},ownKeys(o){let s=co(Reflect.ownKeys(o),r),a=co(Array.from(r.keys()),r);return[...new Set([...s,...a,...n])]},set(o,s,a){return r.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(n.add(s),Reflect.set(o,s,a))},getOwnPropertyDescriptor(o,s){let a=Reflect.getOwnPropertyDescriptor(o,s);if(a&&!a.configurable)return a;let l=r.get(s);return l?l.getPropertyDescriptor?{...tr,...l?.getPropertyDescriptor(s)}:tr:a},defineProperty(o,s,a){return n.add(s),Reflect.defineProperty(o,s,a)},getPrototypeOf:()=>Object.prototype});return i[lo]=function(){let o={...this};return delete o[lo],o},i}function Kc(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function co(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}function Fe(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}function uo(e){if(e===void 0)return"";let t=Oe(e);return new Ae(0,{colors:Jt}).write(t).toString()}var ut="<unknown>";function po(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=Yc(n)||eu(n)||nu(n)||au(n)||ou(n);return i&&r.push(i),r},[])}var zc=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zc=/\((\S*)(?::(\d+))(?::(\d+))\)/;function Yc(e){var t=zc.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=Zc.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||ut,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var Xc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function eu(e){var t=Xc.exec(e);return t?{file:t[2],methodName:t[1]||ut,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var tu=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ru=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function nu(e){var t=tu.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=ru.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||ut,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var iu=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function ou(e){var t=iu.exec(e);return t?{file:t[3],methodName:t[1]||ut,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var su=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function au(e){var t=su.exec(e);return t?{file:t[2],methodName:t[1]||ut,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var rn=class{getLocation(){return null}},nn=class{_error;constructor(){this._error=new Error}getLocation(){let t=this._error.stack;if(!t)return null;let n=po(t).find(i=>{if(!i.file)return!1;let o=Qr(i.file);return o!=="<anonymous>"&&!o.includes("@prisma")&&!o.includes("/packages/client/src/runtime/")&&!o.endsWith("/runtime/client.js")&&!o.startsWith("internal/")&&!i.methodName.includes("new ")&&!i.methodName.includes("getCallSite")&&!i.methodName.includes("Proxy.")&&i.methodName.split(".").length<4});return!n||!n.file?null:{fileName:n.file,lineNumber:n.lineNumber,columnNumber:n.column}}};function re(e){return e==="minimal"?typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new rn:new nn}var mo={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function Me(e={}){let t=cu(e);return Object.entries(t).reduce((n,[i,o])=>(mo[i]!==void 0?n.select[i]={select:o}:n[i]=o,n),{select:{}})}function cu(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function nr(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function fo(e,t){let r=nr(e);return t({action:"aggregate",unpacker:r,argsMapper:Me})(e)}function uu(e={}){let{select:t,...r}=e;return typeof t=="object"?Me({...r,_count:t}):Me({...r,_count:{_all:!0}})}function pu(e={}){return typeof e.select=="object"?t=>nr(e)(t)._count:t=>nr(e)(t)._count._all}function go(e,t){return t({action:"count",unpacker:pu(e),argsMapper:uu})(e)}function du(e={}){let t=Me(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function mu(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function yo(e,t){return t({action:"groupBy",unpacker:mu(e),argsMapper:du})(e)}function ho(e,t,r){if(t==="aggregate")return n=>fo(n,r);if(t==="count")return n=>go(n,r);if(t==="groupBy")return n=>yo(n,r)}function wo(e,t){let r=t.fields.filter(i=>!i.relationName),n=ci(r,"name");return new Proxy({},{get(i,o){if(o in i||typeof o=="symbol")return i[o];let s=n[o];if(s)return new ot(e,o,s.type,s.isList,s.kind==="enum")},...rr(Object.keys(n))})}var bo=e=>Array.isArray(e)?e:e.split("."),on=(e,t)=>bo(t).reduce((r,n)=>r&&r[n],e),xo=(e,t,r)=>bo(t).reduceRight((n,i,o,s)=>Object.assign({},on(e,s.slice(0,o)),{[i]:n}),r);function fu(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function gu(e,t,r){return t===void 0?e??{}:xo(t,r,e||!0)}function sn(e,t,r,n,i,o){let a=e._runtimeDataModel.models[t].fields.reduce((l,c)=>({...l,[c.name]:c}),{});return l=>{let c=re(e._errorFormat),u=fu(n,i),p=gu(l,o,u),y=r({dataPath:u,callsite:c})(p),h=yu(e,t);return new Proxy(y,{get(g,x){if(!h.includes(x))return g[x];let Y=[a[x].type,r,x],C=[u,p];return sn(e,...Y,...C)},...rr([...h,...Object.getOwnPropertyNames(y)])})}}function yu(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var hu=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],wu=["aggregate","count","groupBy"];function an(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[bu(e,t),Eu(e,t),ct(r),F("name",()=>t),F("$name",()=>t),F("$parent",()=>e._appliedParent)];return V({},n)}function bu(e,t){let r=Q(t),n=Object.keys(Pe).concat("count");return{getKeys(){return n},getPropertyValue(i){let o=i,s=a=>l=>{let c=re(e._errorFormat);return e._createPrismaPromise(u=>{let p={args:l,dataPath:[],action:o,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:u,callsite:c};return e._request({...p,...a})},{action:o,args:l,model:t})};return hu.includes(o)?sn(e,t,s):xu(i)?ho(e,i,s):s({})}}}function xu(e){return wu.includes(e)}function Eu(e,t){return ce(F("fields",()=>{let r=e._runtimeDataModel.models[t];return wo(t,r)}))}function Eo(e){return e.replace(/^./,t=>t.toUpperCase())}var ln=Symbol();function pt(e){let t=[Tu(e),Pu(e),F(ln,()=>e),F("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(ct(r)),V(e,t)}function Tu(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function Pu(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(Q),n=[...new Set(t.concat(r))];return ce({getKeys(){return n},getPropertyValue(i){let o=Eo(i);if(e._runtimeDataModel.models[o]!==void 0)return an(e,o);if(e._runtimeDataModel.models[i]!==void 0)return an(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function To(e){return e[ln]?e[ln]:e}function Po(e){if(typeof e=="function")return e(this);let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return pt(t)}function Ao({result:e,modelName:t,select:r,omit:n,extensions:i}){let o=i.getAllComputedFields(t);if(!o)return e;let s=[],a=[];for(let l of Object.values(o)){if(n){if(n[l.name])continue;let c=l.needs.filter(u=>n[u]);c.length>0&&a.push(Fe(c))}else if(r){if(!r[l.name])continue;let c=l.needs.filter(u=>!r[u]);c.length>0&&a.push(Fe(c))}Au(e,l.needs)&&s.push(vu(l,V(e,s)))}return s.length>0||a.length>0?V(e,[...s,...a]):e}function Au(e,t){return t.every(r=>Hr(e,r))}function vu(e,t){return ce(F(e.name,()=>e.compute(t)))}function ir({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=ir({result:t[s],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let o=e(t,i,r)??t;return r.include&&vo({includeOrSelect:r.include,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&vo({includeOrSelect:r.select,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),o}function vo({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[o,s]of Object.entries(e)){if(!s||t[o]==null||H(s))continue;let l=n.models[r].fields.find(u=>u.name===o);if(!l||l.kind!=="object"||!l.relationName)continue;let c=typeof s=="object"?s:{};t[o]=ir({visitor:i,result:t[o],args:c,modelName:l.type,runtimeDataModel:n})}}function So({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:o}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:ir({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,l,c)=>{let u=Q(l);return Ao({result:a,modelName:u,select:c.select,omit:c.select?void 0:{...o?.[u],...c.omit},extensions:n})}})}import{Decimal as Cu,ObjectEnumValue as Ru,Sql as Ro}from"@prisma/client-runtime-utils";var Su=["$connect","$disconnect","$on","$transaction","$extends"],Co=Su;function ko(e){if(e instanceof Ro)return ku(e);if(er(e))return Ou(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=dt(e[n]);return r}let t={};for(let r in e)t[r]=dt(e[r]);return t}function ku(e){return new Ro(e.strings,e.values)}function Ou(e){return new lt(e.sql,e.values)}function dt(e){if(typeof e!="object"||e==null||e instanceof Ru||ke(e))return e;if(Te(e))return new Cu(e.toFixed());if(Ee(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=dt(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:dt(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=dt(e[r]);return t}K(e,"Unknown value")}function Io(e,t,r,n=0){return e._createPrismaPromise(i=>{let o=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:ko(t.args??{}),__internalParams:t,query:(s,a=t)=>{let l=a.customDataProxyFetch;return a.customDataProxyFetch=Do(o,l),a.args=s,Io(e,a,r,n+1)}})})}function Fo(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,o=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",o);return Io(e,t,s)}function Mo(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?_o(r,n,0,e):e(r)}}function _o(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,o=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:o?{isolationLevel:o.kind==="batch"?o.isolationLevel:void 0}:void 0},__internalParams:e,query(s,a=e){let l=a.customDataProxyFetch;return a.customDataProxyFetch=Do(i,l),_o(a,t,r+1,n)}})}var Oo=e=>e;function Do(e=Oo,t=Oo){return r=>e(t(r))}import{Decimal as Iu}from"@prisma/client-runtime-utils";import{Decimal as or}from"@prisma/client-runtime-utils";function b(e,t){throw new Error(t)}function cn(e,t){return e===t||e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>cn(e[r],t[r]))}function _e(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(o=>{if(typeof e[o]==typeof t[o]&&typeof e[o]!="object")return e[o]===t[o];if(or.isDecimal(e[o])||or.isDecimal(t[o])){let s=No(e[o]),a=No(t[o]);return s&&a&&s.equals(a)}else if(e[o]instanceof Uint8Array||t[o]instanceof Uint8Array){let s=Lo(e[o]),a=Lo(t[o]);return s&&a&&s.equals(a)}else{if(e[o]instanceof Date||t[o]instanceof Date)return $o(e[o])?.getTime()===$o(t[o])?.getTime();if(typeof e[o]=="bigint"||typeof t[o]=="bigint")return qo(e[o])===qo(t[o]);if(typeof e[o]=="number"||typeof t[o]=="number")return Vo(e[o])===Vo(t[o])}return cn(e[o],t[o])})}function No(e){return or.isDecimal(e)?e:typeof e=="number"||typeof e=="string"?new or(e):void 0}function Lo(e){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e.buffer,e.byteOffset,e.byteLength):typeof e=="string"?Buffer.from(e,"base64"):void 0}function $o(e){return e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):void 0}function qo(e){return typeof e=="bigint"?e:typeof e=="number"||typeof e=="string"?BigInt(e):void 0}function Vo(e){return typeof e=="number"?e:typeof e=="string"?Number(e):void 0}function mt(e){return JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):r)}function Fu(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function Mu(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function ue(e){return e===null?e:Array.isArray(e)?e.map(ue):typeof e=="object"?Fu(e)?_u(e):e.constructor!==null&&e.constructor.name!=="Object"?e:Mu(e,ue):e}function _u({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new Iu(t);case"Json":return JSON.parse(t);default:b(t,"Unknown tagged value")}}function sr(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}var d={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var k=class extends Error{name="UserFacingError";code;meta;constructor(t,r,n){super(t),this.code=r,this.meta=n??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function De(e){if(!sr(e))throw e;let t=Du(e),r=Uo(e);throw!t||!r?e:new k(r,t,{driverAdapterError:e})}function pn(e){throw sr(e)?new k(`Raw query failed. Code: \`${e.cause.originalCode??"N/A"}\`. Message: \`${e.cause.originalMessage??Uo(e)}\``,"P2010",{driverAdapterError:e}):e}function Du(e){switch(e.cause.kind){case"AuthenticationFailed":return"P1000";case"DatabaseNotReachable":return"P1001";case"DatabaseDoesNotExist":return"P1003";case"SocketTimeout":return"P1008";case"DatabaseAlreadyExists":return"P1009";case"DatabaseAccessDenied":return"P1010";case"TlsConnectionError":return"P1011";case"ConnectionClosed":return"P1017";case"TransactionAlreadyClosed":return"P1018";case"LengthMismatch":return"P2000";case"UniqueConstraintViolation":return"P2002";case"ForeignKeyConstraintViolation":return"P2003";case"InvalidInputValue":return"P2007";case"UnsupportedNativeDataType":return"P2010";case"NullConstraintViolation":return"P2011";case"ValueOutOfRange":return"P2020";case"TableDoesNotExist":return"P2021";case"ColumnNotFound":return"P2022";case"InvalidIsolationLevel":case"InconsistentColumnData":return"P2023";case"MissingFullTextSearchIndex":return"P2030";case"TransactionWriteConflict":return"P2034";case"GenericJs":return"P2036";case"TooManyConnections":return"P2037";case"postgres":case"sqlite":case"mysql":case"mssql":return;default:b(e.cause,`Unknown error: ${e.cause}`)}}function Uo(e){switch(e.cause.kind){case"AuthenticationFailed":return`Authentication failed against the database server, the provided database credentials for \`${e.cause.user??"(not available)"}\` are not valid`;case"DatabaseNotReachable":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return`Can't reach database server${t?` at ${t}`:""}`}case"DatabaseDoesNotExist":return`Database \`${e.cause.db??"(not available)"}\` does not exist on the database server`;case"SocketTimeout":return"Operation has timed out";case"DatabaseAlreadyExists":return`Database \`${e.cause.db??"(not available)"}\` already exists on the database server`;case"DatabaseAccessDenied":return`User was denied access on the database \`${e.cause.db??"(not available)"}\``;case"TlsConnectionError":return`Error opening a TLS connection: ${e.cause.reason}`;case"ConnectionClosed":return"Server has closed the connection.";case"TransactionAlreadyClosed":return e.cause.cause;case"LengthMismatch":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??"(not available)"}`;case"UniqueConstraintViolation":return`Unique constraint failed on the ${un(e.cause.constraint)}`;case"ForeignKeyConstraintViolation":return`Foreign key constraint violated on the ${un(e.cause.constraint)}`;case"UnsupportedNativeDataType":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \`Unsupported\` in your Prisma schema, try casting this column to any supported Prisma type such as \`String\`.`;case"NullConstraintViolation":return`Null constraint violation on the ${un(e.cause.constraint)}`;case"ValueOutOfRange":return`Value out of range for the type: ${e.cause.cause}`;case"TableDoesNotExist":return`The table \`${e.cause.table??"(not available)"}\` does not exist in the current database.`;case"ColumnNotFound":return`The column \`${e.cause.column??"(not available)"}\` does not exist in the current database.`;case"InvalidIsolationLevel":return`Error in connector: Conversion error: ${e.cause.level}`;case"InconsistentColumnData":return`Inconsistent column data: ${e.cause.cause}`;case"MissingFullTextSearchIndex":return"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema";case"TransactionWriteConflict":return"Transaction failed due to a write conflict or a deadlock. Please retry your transaction";case"GenericJs":return`Error in external connector (id ${e.cause.id})`;case"TooManyConnections":return`Too many database connections opened: ${e.cause.cause}`;case"InvalidInputValue":return`Invalid input value: ${e.cause.message}`;case"sqlite":case"postgres":case"mysql":case"mssql":return;default:b(e.cause,`Unknown error: ${e.cause}`)}}function un(e){return e&&"fields"in e?`fields: (${e.fields.map(t=>`\`${t}\``).join(", ")})`:e&&"index"in e?`constraint: \`${e.index}\``:e&&"foreignKey"in e?"foreign key":"(not available)"}function jo(e,t){let r=e.map(i=>t.keys.reduce((o,s)=>(o[s]=ue(i[s]),o),{})),n=new Set(t.nestedSelection);return t.arguments.map(i=>{let o=r.findIndex(s=>_e(s,i));if(o===-1)return t.expectNonEmpty?new k("An operation failed because it depends on one or more records that were required but not found","P2025"):null;{let s=Object.entries(e[o]).filter(([a])=>n.has(a));return Object.fromEntries(s)}})}import{Decimal as Nu}from"@prisma/client-runtime-utils";var P=class extends k{name="DataMapperError";constructor(t,r){super(t,"P2023",r)}},Bo=new WeakMap;function Lu(e){let t=Bo.get(e);return t||(t=Object.entries(e),Bo.set(e,t)),t}function Ho(e,t,r){switch(t.type){case"affectedRows":if(typeof e!="number")throw new P(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case"object":return mn(e,t.fields,r,t.skipNulls);case"field":return dn(e,"<result>",t.fieldType,r);default:b(t,`Invalid data mapping type: '${t.type}'`)}}function mn(e,t,r,n){if(e===null)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(o=>o!==null)),i.map(o=>Qo(o,t,r))}if(typeof e=="object")return Qo(e,t,r);if(typeof e=="string"){let i;try{i=JSON.parse(e)}catch(o){throw new P("Expected an array or object, got a string that is not valid JSON",{cause:o})}return mn(i,t,r,n)}throw new P(`Expected an array or an object, got: ${typeof e}`)}function Qo(e,t,r){if(typeof e!="object")throw new P(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,o]of Lu(t))switch(o.type){case"affectedRows":throw new P(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case"object":{let{serializedName:s,fields:a,skipNulls:l}=o;if(s!==null&&!Object.hasOwn(e,s))throw new P(`Missing data field (Object): '${i}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`);let c=s!==null?e[s]:e;n[i]=mn(c,a,r,l);break}case"field":{let s=o.dbName;if(Object.hasOwn(e,s))n[i]=$u(e[s],s,o.fieldType,r);else throw new P(`Missing data field (Value): '${s}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`)}break;default:b(o,`DataMapper: Invalid data mapping node type: '${o.type}'`)}return n}function $u(e,t,r,n){return e===null?r.arity==="list"?[]:null:r.arity==="list"?e.map((o,s)=>dn(o,`${t}[${s}]`,r,n)):dn(e,t,r,n)}function dn(e,t,r,n){switch(r.type){case"unsupported":return e;case"string":{if(typeof e!="string")throw new P(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e}case"int":switch(typeof e){case"number":return Math.trunc(e);case"string":{let i=Math.trunc(Number(e));if(Number.isNaN(i)||!Number.isFinite(i))throw new P(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(i))throw new P(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return i}default:throw new P(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case"bigint":{if(typeof e!="number"&&typeof e!="string")throw new P(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:"BigInt",value:e}}case"float":{if(typeof e=="number")return e;if(typeof e=="string"){let i=Number(e);if(Number.isNaN(i)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new P(`Expected a float in column '${t}', got string: ${e}`);return i}throw new P(`Expected a float in column '${t}', got ${typeof e}: ${e}`)}case"boolean":{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){if(e==="true"||e==="TRUE"||e==="1")return!0;if(e==="false"||e==="FALSE"||e==="0")return!1;throw new P(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)||e instanceof Uint8Array){for(let i of e)if(i!==0)return!0;return!1}throw new P(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}case"decimal":if(typeof e!="number"&&typeof e!="string"&&!Nu.isDecimal(e))throw new P(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:"Decimal",value:e};case"datetime":{if(typeof e=="string")return{$type:"DateTime",value:Vu(e)};if(typeof e=="number"||e instanceof Date)return{$type:"DateTime",value:e};throw new P(`Expected a date in column '${t}', got ${typeof e}: ${e}`)}case"object":return{$type:"Json",value:mt(e)};case"json":return{$type:"Json",value:`${e}`};case"bytes":{switch(r.encoding){case"base64":if(typeof e!="string")throw new P(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:e};case"hex":if(typeof e!="string"||!e.startsWith("\\x"))throw new P(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:Buffer.from(e.slice(2),"hex").toString("base64")};case"array":if(Array.isArray(e))return{$type:"Bytes",value:Buffer.from(e).toString("base64")};if(e instanceof Uint8Array)return{$type:"Bytes",value:Buffer.from(e).toString("base64")};throw new P(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:b(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break}case"enum":{let i=n[r.name];if(i===void 0)throw new P(`Unknown enum '${r.name}'`);let o=i[`${e}`];if(o===void 0)throw new P(`Value '${e}' not found in enum '${r.name}'`);return o}default:b(r,`DataMapper: Unknown result type: ${r.type}`)}}var qu=/\d{2}:\d{2}:\d{2}(?:\.\d+)?(Z|[+-]\d{2}(:?\d{2})?)?$/;function Vu(e){let t=qu.exec(e);if(t===null)return`${e}T00:00:00Z`;let r=e,[n,i,o]=t;if(i!==void 0&&i!=="Z"&&o===void 0?r=`${e}:00`:i===void 0&&(r=`${e}Z`),n.length===e.length)return`1970-01-01T${r}`;let s=t.index-1;return r[s]===" "&&(r=`${r.slice(0,s)}T${r.slice(s+1)}`),r}function J(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=J(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:J(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=J(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=J(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(J(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,o){r.set(J(o),J(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(J(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}function Uu(e){let t=Object.entries(e);return t.length===0?"":(t.sort(([n],[i])=>n.localeCompare(i)),`/*${t.map(([n,i])=>{let o=encodeURIComponent(n),s=encodeURIComponent(i).replace(/'/g,"\\'");return`${o}='${s}'`}).join(",")}*/`)}function ar(e,t){let r={};for(let n of e){let i=n(J(t));for(let[o,s]of Object.entries(i))s!==void 0&&(r[o]=s)}return r}function Jo(e,t){let r=ar(e,t);return Uu(r)}function Wo(e,t){return t?`${e} ${t}`:e}var ft;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(ft||(ft={}));function ju(e){switch(e){case"postgresql":case"postgres":case"prisma+postgres":return"postgresql";case"sqlserver":return"mssql";case"mysql":case"sqlite":case"cockroachdb":case"mongodb":return e;default:b(e,`Unknown provider: ${e}`)}}async function lr({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){let o=n===void 0?i:async()=>{let s=new Date,a=performance.now(),l=await i(),c=performance.now();return n({timestamp:s,duration:c-a,query:e.sql,params:e.args}),l};return t.isEnabled()?await t.runInChildSpan({name:"db_query",kind:ft.CLIENT,attributes:{"db.query.text":e.sql,"db.system.name":ju(r)}},o):o()}function pe(e,t){var r="000000000"+e;return r.substr(r.length-t)}import Bu from"node:os";function Qu(){try{return Bu.hostname()}catch{return process.env._CLUSTER_NETWORK_NAME_||process.env.COMPUTERNAME||"hostname"}}var Go=2,Hu=pe(process.pid.toString(36),Go),Ko=Qu(),Ju=Ko.length,Wu=pe(Ko.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+Ju+36).toString(36),Go);function fn(){return Hu+Wu}function cr(e){return typeof e=="string"&&/^c[a-z0-9]{20,32}$/.test(e)}function gn(e){let n=Math.pow(36,4),i=0;function o(){return pe((Math.random()*n<<0).toString(36),4)}function s(){return i=i<n?i:0,i++,i-1}function a(){var l="c",c=new Date().getTime().toString(36),u=pe(s().toString(36),4),p=e(),y=o()+o();return l+c+u+p+y}return a.fingerprint=e,a.isCuid=cr,a}var Gu=gn(fn);var zo=Gu;var Gs=se(Vs());import{webcrypto as js}from"node:crypto";var Us="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var _p=128,me,$e;function Dp(e){!me||me.length<e?(me=Buffer.allocUnsafe(e*_p),js.getRandomValues(me),$e=0):$e+e>me.length&&(js.getRandomValues(me),$e=0),$e+=e}function An(e=21){Dp(e|=0);let t="";for(let r=$e-e;r<$e;r++)t+=Us[me[r]&63];return t}import mr from"node:crypto";var Qs="0123456789ABCDEFGHJKMNPQRSTVWXYZ",xt=32;var Np=16,Hs=10,Bs=0xffffffffffff;var fe;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(fe||(fe={}));var ge=class extends Error{constructor(t,r){super(`${r} (${t})`),this.name="ULIDError",this.code=t}};function Lp(e){let t=Math.floor(e()*xt);return t===xt&&(t=xt-1),Qs.charAt(t)}function $p(e){let t=qp(),r=t&&(t.crypto||t.msCrypto)||(typeof mr<"u"?mr:null);if(typeof r?.getRandomValues=="function")return()=>{let n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;if(mr?.randomBytes)return()=>mr.randomBytes(1).readUInt8()/255;throw new ge(fe.PRNGDetectFailure,"Failed to find a reliable PRNG")}function qp(){return jp()?self:typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:null}function Vp(e,t){let r="";for(;e>0;e--)r=Lp(t)+r;return r}function Up(e,t=Hs){if(isNaN(e))throw new ge(fe.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>Bs)throw new ge(fe.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${Bs}: ${e}`);if(e<0)throw new ge(fe.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new ge(fe.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n="";for(let i=t;i>0;i--)r=e%xt,n=Qs.charAt(r)+n,e=(e-r)/xt;return n}function jp(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Js(e,t){let r=t||$p(),n=!e||isNaN(e)?Date.now():e;return Up(n,Hs)+Vp(Np,r)}var O=[];for(let e=0;e<256;++e)O.push((e+256).toString(16).slice(1));function fr(e,t=0){return(O[e[t+0]]+O[e[t+1]]+O[e[t+2]]+O[e[t+3]]+"-"+O[e[t+4]]+O[e[t+5]]+"-"+O[e[t+6]]+O[e[t+7]]+"-"+O[e[t+8]]+O[e[t+9]]+"-"+O[e[t+10]]+O[e[t+11]]+O[e[t+12]]+O[e[t+13]]+O[e[t+14]]+O[e[t+15]]).toLowerCase()}import{randomFillSync as Bp}from"node:crypto";var yr=new Uint8Array(256),gr=yr.length;function qe(){return gr>yr.length-16&&(Bp(yr),gr=0),yr.slice(gr,gr+=16)}import{randomUUID as Qp}from"node:crypto";var vn={randomUUID:Qp};function Hp(e,t,r){if(vn.randomUUID&&!t&&!e)return vn.randomUUID();e=e||{};let n=e.random??e.rng?.()??qe();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return fr(n)}var Sn=Hp;var Cn={};function Jp(e,t,r){let n;if(e)n=Ws(e.random??e.rng?.()??qe(),e.msecs,e.seq,t,r);else{let i=Date.now(),o=qe();Wp(Cn,i,o),n=Ws(o,Cn.msecs,Cn.seq,t,r)}return t??fr(n)}function Wp(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function Ws(e,t,r,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=t&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var Rn=Jp;var hr=class{#t={};constructor(){this.register("uuid",new On),this.register("cuid",new In),this.register("ulid",new Fn),this.register("nanoid",new Mn),this.register("product",new _n)}snapshot(){return Object.create(this.#t,{now:{value:new kn}})}register(t,r){this.#t[t]=r}},kn=class{#t=new Date;generate(){return this.#t.toISOString()}},On=class{generate(t){if(t===4)return Sn();if(t===7)return Rn();throw new Error("Invalid UUID generator arguments")}},In=class{generate(t){if(t===1)return zo();if(t===2)return(0,Gs.createId)();throw new Error("Invalid CUID generator arguments")}},Fn=class{generate(){return Js()}},Mn=class{generate(t){if(typeof t=="number")return An(t);if(t===void 0)return An();throw new Error("Invalid Nanoid generator arguments")}},_n=class{generate(t,r){if(t===void 0||r===void 0)throw new Error("Invalid Product generator arguments");return Array.isArray(t)&&Array.isArray(r)?t.flatMap(n=>r.map(i=>[n,i])):Array.isArray(t)?t.map(n=>[n,r]):Array.isArray(r)?r.map(n=>[t,n]):[[t,r]]}};function wr(e,t){return e==null?e:typeof e=="string"?wr(JSON.parse(e),t):Array.isArray(e)?Kp(e,t):Gp(e,t)}function Gp(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(r!==null&&r>0||n===0||i!==null&&!_e(e,i))return null}return zs(e,t.nested)}function zs(e,t){for(let[r,n]of Object.entries(t))e[r]=wr(e[r],n);return e}function Kp(e,t){if(t.distinct!==null){let r=t.linkingFields!==null?[...t.distinct,...t.linkingFields]:t.distinct;e=zp(e,r)}return t.pagination&&(e=Zp(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),Object.keys(t.nested).length===0?e:e.map(r=>zs(r,t.nested))}function zp(e,t){let r=new Set,n=[];for(let i of e){let o=Ve(i,t);r.has(o)||(r.add(o),n.push(i))}return n}function Zp(e,t,r){if(r===null)return Ks(e,t);let n=new Map;for(let o of e){let s=Ve(o,r);n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=Array.from(n.entries());return i.sort(([o],[s])=>o<s?-1:o>s?1:0),i.flatMap(([,o])=>Ks(o,t))}function Ks(e,{cursor:t,skip:r,take:n}){let i=t!==null?e.findIndex(a=>_e(a,t)):0;if(i===-1)return[];let o=i+(r??0),s=n!==null?o+n:e.length;return e.slice(o,s)}function Ve(e,t){return JSON.stringify(t.map(r=>e[r]))}function Dn(e){return typeof e=="object"&&e!==null&&e.prisma__type==="param"}function Nn(e){return typeof e=="object"&&e!==null&&e.prisma__type==="generatorCall"}function qn(e,t,r,n){let i=e.args.map(o=>U(o,t,r));switch(e.type){case"rawSql":return[ed(e.sql,i,e.argTypes)];case"templateSql":return(e.chunkable?rd(e.fragments,i,n):[i]).map(s=>{if(n!==void 0&&s.length>n)throw new k("The query parameter limit supported by your database is exceeded.","P2029");return Yp(e.fragments,e.placeholderFormat,s,e.argTypes)});default:b(e.type,"Invalid query type")}}function U(e,t,r){for(;td(e);)if(Dn(e)){let n=t[e.prisma__value.name];if(n===void 0)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=n}else if(Nn(e)){let{name:n,args:i}=e.prisma__value,o=r[n];if(!o)throw new Error(`Encountered an unknown generator '${n}'`);e=o.generate(...i.map(s=>U(s,t,r)))}else b(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(n=>U(n,t,r))),e}function Yp(e,t,r,n){let i="",o={placeholderNumber:1},s=[],a=[];for(let l of $n(e,r,n)){if(i+=Xp(l,t,o),l.type==="stringChunk")continue;let c=s.length,u=s.push(...Zs(l))-c;if(l.argType.arity==="tuple"){if(u%l.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${u} parameters for a tuple of arity ${l.argType.elements.length}.`);for(let p=0;p<u/l.argType.elements.length;p++)a.push(...l.argType.elements)}else for(let p=0;p<u;p++)a.push(l.argType)}return{sql:i,args:s,argTypes:a}}function Xp(e,t,r){let n=e.type;switch(n){case"parameter":return Ln(t,r.placeholderNumber++);case"stringChunk":return e.chunk;case"parameterTuple":return`(${e.value.length==0?"NULL":e.value.map(()=>Ln(t,r.placeholderNumber++)).join(",")})`;case"parameterTupleList":return e.value.map(i=>{let o=i.map(()=>Ln(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.groupSeparator);default:b(n,"Invalid fragment type")}}function Ln(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function ed(e,t,r){return{sql:e,args:t,argTypes:r}}function td(e){return Dn(e)||Nn(e)}function*$n(e,t,r){let n=0;for(let i of e)switch(i.type){case"parameter":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break}case"stringChunk":{yield i;break}case"parameterTuple":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];yield{...i,value:Array.isArray(o)?o:[o],argType:r?.[n]},n++;break}case"parameterTupleList":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];if(!Array.isArray(o))throw new Error("Malformed query template. Tuple list expected.");if(o.length===0)throw new Error("Malformed query template. Tuple list cannot be empty.");for(let s of o)if(!Array.isArray(s))throw new Error("Malformed query template. Tuple expected.");yield{...i,value:o,argType:r?.[n]},n++;break}}}function*Zs(e){switch(e.type){case"parameter":yield e.value;break;case"stringChunk":break;case"parameterTuple":yield*e.value;break;case"parameterTupleList":for(let t of e.value)yield*t;break}}function rd(e,t,r){let n=0,i=0;for(let s of $n(e,t,void 0)){let a=0;for(let l of Zs(s))a++;i=Math.max(i,a),n+=a}let o=[[]];for(let s of $n(e,t,void 0))switch(s.type){case"parameter":{for(let a of o)a.push(s.value);break}case"stringChunk":break;case"parameterTuple":{let a=s.value.length,l=[];if(r&&o.length===1&&a===i&&n>r&&n-a<r){let c=r-(n-a);l=nd(s.value,c)}else l=[s.value];o=o.flatMap(c=>l.map(u=>[...c,u]));break}case"parameterTupleList":{let a=s.value.reduce((p,y)=>p+y.length,0),l=[],c=[],u=0;for(let p of s.value)r&&o.length===1&&a===i&&c.length>0&&n-a+u+p.length>r&&(l.push(c),c=[],u=0),c.push(p),u+=p.length;c.length>0&&l.push(c),o=o.flatMap(p=>l.map(y=>[...p,y]));break}}return o}function nd(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function Ys(e){return e.rows.map(t=>t.reduce((r,n,i)=>(r[e.columnNames[i]]=n,r),{}))}function Xs(e){return{columns:e.columnNames,types:e.columnTypes.map(t=>id(t)),rows:e.rows.map(t=>t.map((r,n)=>Et(r,e.columnTypes[n])))}}function Et(e,t){if(e===null)return null;switch(t){case d.Int32:switch(typeof e){case"number":return Math.trunc(e);case"string":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case d.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(r=>Et(r,d.Int32));case d.Int64:switch(typeof e){case"number":return BigInt(Math.trunc(e));case"string":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case d.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(r=>Et(r,d.Int64));case d.Json:switch(typeof e){case"string":return JSON.parse(e);default:throw new Error(`Cannot serialize value of type ${typeof e} as Json`)}case d.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(r=>Et(r,d.Json));case d.Boolean:switch(typeof e){case"boolean":return e;case"string":return e==="true"||e==="1";case"number":return e===1;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case d.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(r=>Et(r,d.Boolean));default:return e}}function id(e){switch(e){case d.Int32:return"int";case d.Int64:return"bigint";case d.Float:return"float";case d.Double:return"double";case d.Text:return"string";case d.Enum:return"enum";case d.Bytes:return"bytes";case d.Boolean:return"bool";case d.Character:return"char";case d.Numeric:return"decimal";case d.Json:return"json";case d.Uuid:return"uuid";case d.DateTime:return"datetime";case d.Date:return"date";case d.Time:return"time";case d.Int32Array:return"int-array";case d.Int64Array:return"bigint-array";case d.FloatArray:return"float-array";case d.DoubleArray:return"double-array";case d.TextArray:return"string-array";case d.EnumArray:return"string-array";case d.BytesArray:return"bytes-array";case d.BooleanArray:return"bool-array";case d.CharacterArray:return"char-array";case d.NumericArray:return"decimal-array";case d.JsonArray:return"json-array";case d.UuidArray:return"uuid-array";case d.DateTimeArray:return"datetime-array";case d.DateArray:return"date-array";case d.TimeArray:return"time-array";case d.UnknownNumber:return"unknown";case d.Set:return"string";default:b(e,`Unexpected column type: ${e}`)}}function ea(e,t,r){if(!t.every(n=>Vn(e,n))){let n=od(e,r),i=sd(r);throw new k(n,i,r.context)}}function Vn(e,t){switch(t.type){case"rowCountEq":return Array.isArray(e)?e.length===t.args:e===null?t.args===0:t.args===1;case"rowCountNeq":return Array.isArray(e)?e.length!==t.args:e===null?t.args!==0:t.args!==1;case"affectedRowCountEq":return e===t.args;case"never":return!1;default:b(t,`Unknown rule type: ${t.type}`)}}function od(e,t){switch(t.error_identifier){case"RELATION_VIOLATION":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \`${t.context.modelA}\` and \`${t.context.modelB}\` models.`;case"MISSING_RECORD":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case"MISSING_RELATED_RECORD":{let r=t.context.neededFor?` (needed to ${t.context.neededFor})`:"";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${r} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case"INCOMPLETE_CONNECT_INPUT":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case"INCOMPLETE_CONNECT_OUTPUT":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case"RECORDS_NOT_CONNECTED":return`The records for relation \`${t.context.relation}\` between the \`${t.context.parent}\` and \`${t.context.child}\` models are not connected.`;default:b(t,`Unknown error identifier: ${t}`)}}function sd(e){switch(e.error_identifier){case"RELATION_VIOLATION":return"P2014";case"RECORDS_NOT_CONNECTED":return"P2017";case"INCOMPLETE_CONNECT_OUTPUT":return"P2018";case"MISSING_RECORD":case"MISSING_RELATED_RECORD":case"INCOMPLETE_CONNECT_INPUT":return"P2025";default:b(e,`Unknown error identifier: ${e}`)}}var Tt=class e{#t;#e=new hr;#n;#r;#o;#i;#s;constructor({onQuery:t,tracingHelper:r,serializer:n,rawSerializer:i,provider:o,connectionInfo:s}){this.#t=t,this.#n=r,this.#r=n,this.#o=i??n,this.#i=o,this.#s=s}static forSql(t){return new e({onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:Ys,rawSerializer:Xs,provider:t.provider,connectionInfo:t.connectionInfo})}async run(t,r){let{value:n}=await this.interpretNode(t,{...r,generators:this.#e.snapshot()}).catch(i=>De(i));return n}async interpretNode(t,r){switch(t.type){case"value":return{value:U(t.args,r.scope,r.generators)};case"seq":{let n;for(let i of t.args)n=await this.interpretNode(i,r);return n??{value:void 0}}case"get":return{value:r.scope[t.args.name]};case"let":{let n=Object.create(r.scope);for(let i of t.args.bindings){let{value:o}=await this.interpretNode(i.expr,{...r,scope:n});n[i.name]=o}return this.interpretNode(t.args.expr,{...r,scope:n})}case"getFirstNonEmpty":{for(let n of t.args.names){let i=r.scope[n];if(!ta(i))return{value:i}}return{value:[]}}case"concat":{let n=await Promise.all(t.args.map(i=>this.interpretNode(i,r).then(o=>o.value)));return{value:n.length>0?n.reduce((i,o)=>i.concat(Un(o)),[]):[]}}case"sum":{let n=await Promise.all(t.args.map(i=>this.interpretNode(i,r).then(o=>o.value)));return{value:n.length>0?n.reduce((i,o)=>W(i)+W(o)):0}}case"execute":{let n=qn(t.args,r.scope,r.generators,this.#a()),i=0;for(let o of n){let s=ra(o,r.sqlCommenter);i+=await this.#l(s,r.queryable,()=>r.queryable.executeRaw(s).catch(a=>t.args.type==="rawSql"?pn(a):De(a)))}return{value:i}}case"query":{let n=qn(t.args,r.scope,r.generators,this.#a()),i;for(let o of n){let s=ra(o,r.sqlCommenter),a=await this.#l(s,r.queryable,()=>r.queryable.queryRaw(s).catch(l=>t.args.type==="rawSql"?pn(l):De(l)));i===void 0?i=a:(i.rows.push(...a.rows),i.lastInsertId=a.lastInsertId)}return{value:t.args.type==="rawSql"?this.#o(i):this.#r(i),lastInsertId:i?.lastInsertId}}case"reverse":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);return{value:Array.isArray(n)?n.reverse():n,lastInsertId:i}}case"unique":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);if(!Array.isArray(n))return{value:n,lastInsertId:i};if(n.length>1)throw new Error(`Expected zero or one element, got ${n.length}`);return{value:n[0]??null,lastInsertId:i}}case"required":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);if(ta(n))throw new Error("Required value is empty");return{value:n,lastInsertId:i}}case"mapField":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.records,r);return{value:na(n,t.args.field),lastInsertId:i}}case"join":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.parent,r);if(n===null)return{value:null,lastInsertId:i};let o=await Promise.all(t.args.children.map(async s=>({joinExpr:s,childRecords:(await this.interpretNode(s.child,r)).value})));return{value:ad(n,o),lastInsertId:i}}case"transaction":{if(!r.transactionManager.enabled)return this.interpretNode(t.args,r);let n=r.transactionManager.manager,i=await n.startInternalTransaction(),o=await n.getTransaction(i,"query");try{let s=await this.interpretNode(t.args,{...r,queryable:o});return await n.commitTransaction(i.id),s}catch(s){throw await n.rollbackTransaction(i.id),s}}case"dataMap":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return{value:Ho(n,t.args.structure,t.args.enums),lastInsertId:i}}case"validate":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return ea(n,t.args.rules,t.args),{value:n,lastInsertId:i}}case"if":{let{value:n}=await this.interpretNode(t.args.value,r);return Vn(n,t.args.rule)?await this.interpretNode(t.args.then,r):await this.interpretNode(t.args.else,r)}case"unit":return{value:void 0};case"diff":{let{value:n}=await this.interpretNode(t.args.from,r),{value:i}=await this.interpretNode(t.args.to,r),o=a=>a!==null?Ve(br(a),t.args.fields):null,s=new Set(Un(i).map(o));return{value:Un(n).filter(a=>!s.has(o(a)))}}case"process":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return{value:wr(n,t.args.operations),lastInsertId:i}}case"initializeRecord":{let{lastInsertId:n}=await this.interpretNode(t.args.expr,r),i={};for(let[o,s]of Object.entries(t.args.fields))i[o]=ld(s,n,r.scope,r.generators);return{value:i,lastInsertId:n}}case"mapRecord":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r),o=n===null?{}:br(n);for(let[s,a]of Object.entries(t.args.fields))o[s]=cd(a,o[s],r.scope,r.generators);return{value:o,lastInsertId:i}}default:b(t,`Unexpected node type: ${t.type}`)}}#a(){return this.#s?.maxBindValues!==void 0?this.#s.maxBindValues:this.#c()}#c(){if(this.#i!==void 0)switch(this.#i){case"cockroachdb":case"postgres":case"postgresql":case"prisma+postgres":return 32766;case"mysql":return 65535;case"sqlite":return 999;case"sqlserver":return 2098;case"mongodb":return;default:b(this.#i,`Unexpected provider: ${this.#i}`)}}#l(t,r,n){return lr({query:t,execute:n,provider:this.#i??r.provider,tracingHelper:this.#n,onQuery:this.#t})}};function ta(e){return Array.isArray(e)?e.length===0:e==null}function Un(e){return Array.isArray(e)?e:[e]}function W(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e);throw new Error(`Expected number, got ${typeof e}`)}function br(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Expected object, got ${typeof e}`)}function na(e,t){return Array.isArray(e)?e.map(r=>na(r,t)):typeof e=="object"&&e!==null?e[t]??null:e}function ad(e,t){for(let{joinExpr:r,childRecords:n}of t){let i=r.on.map(([a])=>a),o=r.on.map(([,a])=>a),s={};for(let a of Array.isArray(e)?e:[e]){let l=br(a),c=Ve(l,i);s[c]||(s[c]=[]),s[c].push(l),r.isRelationUnique?l[r.parentField]=null:l[r.parentField]=[]}for(let a of Array.isArray(n)?n:[n]){if(a===null)continue;let l=Ve(br(a),o);for(let c of s[l]??[])r.isRelationUnique?c[r.parentField]=a:c[r.parentField].push(a)}}return e}function ld(e,t,r,n){switch(e.type){case"value":return U(e.value,r,n);case"lastInsertId":return t;default:b(e,`Unexpected field initializer type: ${e.type}`)}}function cd(e,t,r,n){switch(e.type){case"set":return U(e.value,r,n);case"add":return W(t)+W(U(e.value,r,n));case"subtract":return W(t)-W(U(e.value,r,n));case"multiply":return W(t)*W(U(e.value,r,n));case"divide":{let i=W(t),o=W(U(e.value,r,n));return o===0?null:i/o}default:b(e,`Unexpected field operation type: ${e.type}`)}}function ra(e,t){if(!t||t.plugins.length===0)return e;let r=Jo(t.plugins,{query:t.queryInfo,sql:e.sql});return r?{...e,sql:Wo(e.sql,r)}:e}async function ud(){return globalThis.crypto??await import("node:crypto")}async function ia(){return(await ud()).randomUUID()}async function oa(e,t){return new Promise(r=>{e.addEventListener(t,r,{once:!0})})}var L=class extends k{name="TransactionManagerError";constructor(t,r){super("Transaction API error: "+t,"P2028",r)}},Pt=class extends L{constructor(){super("Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.")}},xr=class extends L{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a committed transaction.`)}},Er=class extends L{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a transaction that was rolled back.`)}},Tr=class extends L{constructor(){super("Unable to start a transaction in the given time.")}},Pr=class extends L{constructor(t,{timeout:r,timeTaken:n}){super(`A ${t} cannot be executed on an expired transaction. The timeout for this transaction was ${r} ms, however ${n} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:t,timeout:r,timeTaken:n})}},Ue=class extends L{constructor(t){super(`Internal Consistency Error: ${t}`)}},Ar=class extends L{constructor(t){super(`Invalid isolation level: ${t}`,{isolationLevel:t})}};var pd=100,je=I("prisma:client:transactionManager"),dd=()=>({sql:"COMMIT",args:[],argTypes:[]}),md=()=>({sql:"ROLLBACK",args:[],argTypes:[]}),fd=()=>({sql:'-- Implicit "COMMIT" query via underlying driver',args:[],argTypes:[]}),gd=()=>({sql:'-- Implicit "ROLLBACK" query via underlying driver',args:[],argTypes:[]}),At=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#t;#e;constructor({driverAdapter:t,transactionOptions:r,tracingHelper:n,onQuery:i,provider:o}){this.driverAdapter=t,this.transactionOptions=r,this.tracingHelper=n,this.#t=i,this.#e=o}async startInternalTransaction(t){let r=t!==void 0?this.#s(t):{};return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#n(r))}async startTransaction(t){let r=t!==void 0?this.#s(t):this.transactionOptions;return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#n(r))}async#n(t){let r={id:await ia(),status:"waiting",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0},n=new AbortController,i=sa(()=>n.abort(),t.maxWait);i?.unref?.();let o=this.driverAdapter.startTransaction(t.isolationLevel).catch(De);switch(r.transaction=await Promise.race([o.finally(()=>clearTimeout(i)),oa(n.signal,"abort").then(()=>{})]),this.transactions.set(r.id,r),r.status){case"waiting":if(n.signal.aborted)throw o.then(s=>s.rollback()).catch(s=>je("error in discarded transaction:",s)),await this.#i(r,"timed_out"),new Tr;return r.status="running",r.timer=this.#o(r.id,t.timeout),{id:r.id};case"timed_out":case"running":case"committed":case"rolled_back":throw new Ue(`Transaction in invalid state ${r.status} although it just finished startup.`);default:b(r.status,"Unknown transaction status.")}}async commitTransaction(t){return await this.tracingHelper.runInChildSpan("commit_transaction",async()=>{let r=this.#r(t,"commit");await this.#i(r,"committed")})}async rollbackTransaction(t){return await this.tracingHelper.runInChildSpan("rollback_transaction",async()=>{let r=this.#r(t,"rollback");await this.#i(r,"rolled_back")})}async getTransaction(t,r){let n=this.#r(t.id,r);if(n.status==="closing"&&(await n.closing,n=this.#r(t.id,r)),!n.transaction)throw new Pt;return n.transaction}#r(t,r){let n=this.transactions.get(t);if(!n){let i=this.closedTransactions.find(o=>o.id===t);if(i)switch(je("Transaction already closed.",{transactionId:t,status:i.status}),i.status){case"closing":case"waiting":case"running":throw new Ue("Active transaction found in closed transactions list.");case"committed":throw new xr(r);case"rolled_back":throw new Er(r);case"timed_out":throw new Pr(r,{timeout:i.timeout,timeTaken:Date.now()-i.startedAt})}else throw je("Transaction not found.",t),new Pt}if(["committed","rolled_back","timed_out"].includes(n.status))throw new Ue("Closed transaction found in active transactions map.");return n}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(t=>this.#i(t,"rolled_back")))}#o(t,r){let n=Date.now(),i=sa(async()=>{je("Transaction timed out.",{transactionId:t,timeoutStartedAt:n,timeout:r});let o=this.transactions.get(t);o&&["running","waiting"].includes(o.status)?await this.#i(o,"timed_out"):je("Transaction already committed or rolled back when timeout happened.",t)},r);return i?.unref?.(),i}async#i(t,r){let n=async()=>{je("Closing transaction.",{transactionId:t.id,status:r});try{if(t.transaction&&r==="committed")if(t.transaction.options.usePhantomQuery)await this.#a(fd(),t.transaction,()=>t.transaction.commit());else{let i=dd();await this.#a(i,t.transaction,()=>t.transaction.executeRaw(i)).then(()=>t.transaction.commit(),o=>{let s=()=>Promise.reject(o);return t.transaction.rollback().then(s,s)})}else if(t.transaction)if(t.transaction.options.usePhantomQuery)await this.#a(gd(),t.transaction,()=>t.transaction.rollback());else{let i=md();try{await this.#a(i,t.transaction,()=>t.transaction.executeRaw(i))}finally{await t.transaction.rollback()}}}finally{t.status=r,clearTimeout(t.timer),t.timer=void 0,this.transactions.delete(t.id),this.closedTransactions.push(t),this.closedTransactions.length>pd&&this.closedTransactions.shift()}};t.status==="closing"?(await t.closing,this.#r(t.id,r==="committed"?"commit":"rollback")):await Object.assign(t,{status:"closing",reason:r,closing:n()}).closing}#s(t){if(!t.timeout)throw new L("timeout is required");if(!t.maxWait)throw new L("maxWait is required");if(t.isolationLevel==="SNAPSHOT")throw new Ar(t.isolationLevel);return{...t,timeout:t.timeout,maxWait:t.maxWait}}#a(t,r,n){return lr({query:t,execute:n,provider:this.#e??r.provider,tracingHelper:this.tracingHelper,onQuery:this.#t})}};function sa(e,t){return t!==void 0?setTimeout(e,t):void 0}import{PrismaClientInitializationError as Hn,PrismaClientKnownRequestError as Jn,PrismaClientRustPanicError as St,PrismaClientUnknownRequestError as va}from"@prisma/client-runtime-utils";var vr="7.3.0";var aa={bigint:"bigint",date:"datetime",decimal:"decimal",bytes:"bytes"};function ca(e){let t;try{t=JSON.parse(e)}catch(i){throw new Error(`Received invalid serialized parameters: ${i.message}`)}if(!Array.isArray(t))throw new Error("Received invalid serialized parameters: expected an array");let r=t.map(i=>ua(i)),n=t.map(i=>hd(i));return{args:r,argTypes:n}}function ua(e){if(Array.isArray(e))return e.map(t=>ua(t));if(typeof e=="object"&&e!==null&&"prisma__value"in e){if(!("prisma__type"in e))throw new Error("Invalid serialized parameter, prisma__type should be present when prisma__value is present");return`${e.prisma__value}`}return typeof e=="object"&&e!==null?JSON.stringify(e):e}function hd(e){return Array.isArray(e)?{scalarType:e.length>0?la(e[0]):"unknown",arity:"list"}:{scalarType:la(e),arity:"scalar"}}function la(e){return typeof e=="object"&&e!==null&&"prisma__type"in e&&typeof e.prisma__type=="string"&&e.prisma__type in aa?aa[e.prisma__type]:typeof e=="number"?"decimal":typeof e=="string"?"string":"unknown"}function pa(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function da(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}function ma(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var fa=se(ki());function ga({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,fa.default)({user:t,repo:r,template:n,title:e,body:i})}function ya({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:o,query:s}){let a=hi(6e3-(s?.length??0)),l=ma(xe(a)),c=n?`# Description
\`\`\`
${n}
\`\`\``:"",u=xe(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${o?.padEnd(19)}|

${c}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?da(s):""}
\`\`\`
`),p=ga({title:r,body:u});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${Ge(p)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}var Sr=class e{#t;#e;#n;#r;#o;constructor(t,r,n){this.#t=t,this.#e=r,this.#n=n,this.#r=r.getConnectionInfo?.(),this.#o=Tt.forSql({onQuery:this.#t.onQuery,tracingHelper:this.#t.tracingHelper,provider:this.#t.provider,connectionInfo:this.#r})}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new At({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(i){throw await r?.dispose(),i}return new e(t,r,n)}getConnectionInfo(){let t=this.#r??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#e.provider,connectionInfo:t})}async execute({plan:t,placeholderValues:r,transaction:n,batchIndex:i,queryInfo:o}){let s=n?await this.#n.getTransaction(n,i!==void 0?"batch query":"query"):this.#e;return await this.#o.run(t,{queryable:s,transactionManager:n?{enabled:!1}:{enabled:!0,manager:this.#n},scope:r,sqlCommenter:this.#t.sqlCommenters&&{plugins:this.#t.sqlCommenters,queryInfo:o}})}async startTransaction(t){return{...await this.#n.startTransaction(t),payload:void 0}}async commitTransaction(t){await this.#n.commitTransaction(t.id)}async rollbackTransaction(t){await this.#n.rollbackTransaction(t.id)}async disconnect(){try{await this.#n.cancelAllTransactions()}finally{await this.#e.dispose()}}apiKey(){return null}};import{PrismaClientKnownRequestError as Ed}from"@prisma/client-runtime-utils";var Cr=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function ha(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Cr.test(e))throw new TypeError("argument name is invalid");let o=i(t);if(o&&!Cr.test(o))throw new TypeError("argument val is invalid");let s=e+"="+o;if(n.maxAge!==void 0&&n.maxAge!==null){let a=n.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!Cr.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!Cr.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!wd(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s}function wd(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function wa(e,t){let r=(e||"").split(";").filter(l=>typeof l=="string"&&!!l.trim()),n=r.shift()||"",i=bd(n),o=i.name,s=i.value;try{s=t?.decode===!1?s:(t?.decode||decodeURIComponent)(s)}catch{}let a={name:o,value:s};for(let l of r){let c=l.split("="),u=(c.shift()||"").trimStart().toLowerCase(),p=c.join("=");switch(u){case"expires":{a.expires=new Date(p);break}case"max-age":{a.maxAge=Number.parseInt(p,10);break}case"secure":{a.secure=!0;break}case"httponly":{a.httpOnly=!0;break}case"samesite":{a.sameSite=p;break}default:a[u]=p}}return a}function bd(e){let t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}var Rr=class extends Error{clientVersion;cause;constructor(t,r){super(t),this.clientVersion=r.clientVersion,this.cause=r.cause}get[Symbol.toStringTag](){return this.name}};var kr=class extends Rr{isRetryable;constructor(t,r){super(t,r),this.isRetryable=r.isRetryable??!0}};function ba(e,t){return{...e,isRetryable:t}}var ye=class extends kr{name="InvalidDatasourceError";code="P6001";constructor(t,r){super(t,ba(r,!1))}};rt(ye,"InvalidDatasourceError");function xa(e){let t={clientVersion:e.clientVersion},r;try{r=new URL(e.accelerateUrl)}catch(l){let c=l.message;throw new ye(`Error validating \`accelerateUrl\`, the URL cannot be parsed, reason: ${c}`,t)}let{protocol:n,searchParams:i}=r;if(n!=="prisma:"&&n!==_t)throw new ye("Error validating `accelerateUrl`: the URL must start with the protocol `prisma://` or `prisma+postgres://`",t);let o=i.get("api_key");if(o===null||o.length<1)throw new ye("Error validating `accelerateUrl`: the URL must contain a valid API key",t);let s=Ur(r)?"http:":"https:";process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&r.searchParams.has("use_http")&&(s="http:");let a=new URL(r.href.replace(n,s));return{apiKey:o,url:a}}var Ea=se(xi()),Or=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:t,tracingHelper:r,logLevel:n,logQueries:i,engineHash:o}){this.apiKey=t,this.tracingHelper=r,this.logLevel=n,this.logQueries=i,this.engineHash=o}build({traceparent:t,transactionId:r}={}){let n={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":Ea.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=t??this.tracingHelper.getTraceParent()),r&&(n["X-Transaction-Id"]=r);let i=this.#t();return i.length>0&&(n["X-Capture-Telemetry"]=i.join(", ")),n}#t(){let t=[];return this.tracingHelper.isEnabled()&&t.push("tracing"),this.logLevel&&t.push(this.logLevel),this.logQueries&&t.push("query"),t}};function xd(e){return e[0]*1e3+e[1]/1e6}function jn(e){return new Date(xd(e))}var Ta=I("prisma:client:clientEngine:remoteExecutor"),Ir=class{#t;#e;#n;#r;#o;#i;constructor(t){this.#t=t.clientVersion,this.#r=t.logEmitter,this.#o=t.tracingHelper,this.#i=t.sqlCommenters;let{url:r,apiKey:n}=xa({clientVersion:t.clientVersion,accelerateUrl:t.accelerateUrl});this.#n=new Bn(r),this.#e=new Or({apiKey:n,engineHash:t.clientVersion,logLevel:t.logLevel,logQueries:t.logQueries,tracingHelper:t.tracingHelper})}async getConnectionInfo(){return await this.#s({path:"/connection-info",method:"GET"})}async execute({plan:t,placeholderValues:r,batchIndex:n,model:i,operation:o,transaction:s,customFetch:a,queryInfo:l}){let c=l&&this.#i?.length?ar(this.#i,{query:l}):void 0;return(await this.#s({path:s?`/transaction/${s.id}/query`:"/query",method:"POST",body:{model:i,operation:o,plan:t,params:r,comments:c&&Object.keys(c).length>0?c:void 0},batchRequestIdx:n,fetch:a})).data}async startTransaction(t){return{...await this.#s({path:"/transaction/start",method:"POST",body:t}),payload:void 0}}async commitTransaction(t){await this.#s({path:`/transaction/${t.id}/commit`,method:"POST"})}async rollbackTransaction(t){await this.#s({path:`/transaction/${t.id}/rollback`,method:"POST"})}disconnect(){return Promise.resolve()}apiKey(){return this.#e.apiKey}async#s({path:t,method:r,body:n,fetch:i=globalThis.fetch,batchRequestIdx:o}){let s=await this.#n.request({method:r,path:t,headers:this.#e.build(),body:n,fetch:i});s.ok||await this.#a(s,o);let a=await s.json();return typeof a.extensions=="object"&&a.extensions!==null&&this.#c(a.extensions),a}async#a(t,r){let n=t.headers.get("Prisma-Error-Code"),i=await t.text(),o,s=i;try{o=JSON.parse(i)}catch{o={}}typeof o.code=="string"&&(n=o.code),typeof o.error=="string"?s=o.error:typeof o.message=="string"?s=o.message:typeof o.InvalidRequestError=="object"&&o.InvalidRequestError!==null&&typeof o.InvalidRequestError.reason=="string"&&(s=o.InvalidRequestError.reason),s=s||`HTTP ${t.status}: ${t.statusText}`;let a=typeof o.meta=="object"&&o.meta!==null?o.meta:o;throw new Ed(s,{clientVersion:this.#t,code:n??"P6000",batchRequestIdx:r,meta:a})}#c(t){if(t.logs)for(let r of t.logs)this.#l(r);t.spans&&this.#o.dispatchEngineSpans(t.spans)}#l(t){switch(t.level){case"debug":case"trace":Ta(t);break;case"error":case"warn":case"info":{this.#r.emit(t.level,{timestamp:jn(t.timestamp),message:t.attributes.message??"",target:t.target??"RemoteExecutor"});break}case"query":{this.#r.emit("query",{query:t.attributes.query??"",timestamp:jn(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"RemoteExecutor"});break}default:throw new Error(`Unexpected log level: ${t.level}`)}}},Bn=class{#t;#e;#n;constructor(t){this.#t=t,this.#e=new Map}async request({method:t,path:r,headers:n,body:i,fetch:o}){let s=new URL(r,this.#t),a=this.#r(s);a&&(n.Cookie=a),this.#n&&(n["Accelerate-Query-Engine-Jwt"]=this.#n);let l=await o(s.href,{method:t,body:i!==void 0?JSON.stringify(i):void 0,headers:n});return Ta(t,s,l.status,l.statusText),this.#n=l.headers.get("Accelerate-Query-Engine-Jwt")??void 0,this.#o(s,l),l}#r(t){let r=[],n=new Date;for(let[i,o]of this.#e){if(o.expires&&o.expires<n){this.#e.delete(i);continue}let s=o.domain??t.hostname,a=o.path??"/";t.hostname.endsWith(s)&&t.pathname.startsWith(a)&&r.push(ha(o.name,o.value))}return r.length>0?r.join("; "):void 0}#o(t,r){let n=r.headers.getSetCookie?.()||[];if(n.length===0){let i=r.headers.get("Set-Cookie");i&&n.push(i)}for(let i of n){let o=wa(i),s=o.domain??t.hostname,a=o.path??"/",l=`${s}:${a}:${o.name}`;this.#e.set(l,{name:o.name,value:o.value,domain:s,path:a,expires:o.expires})}}};import{PrismaClientInitializationError as Pa}from"@prisma/client-runtime-utils";var Qn={},Aa={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(r===void 0)throw new Pa("WASM query compiler was unexpectedly `undefined`",t);let n;return e.activeProvider===void 0||Qn[e.activeProvider]===void 0?(n=(async()=>{let i=await r.getRuntime(),o=await r.getQueryCompilerWasmModule();if(o==null)throw new Pa("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let s={[r.importName]:i},a=new WebAssembly.Instance(o,s),l=a.exports.__wbindgen_start;return i.__wbg_set_wasm(a.exports),l(),i.QueryCompiler})(),e.activeProvider!==void 0&&(Qn[e.activeProvider]=n)):n=Qn[e.activeProvider],await n}};var Td="P2038",vt=I("prisma:client:clientEngine"),ka=globalThis;ka.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new St(e,vr)}};var Ct=class{name="ClientEngine";#t;#e={type:"disconnected"};#n;#r;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#o;constructor(t,r){if(t.accelerateUrl!==void 0)this.#r={remote:!0,accelerateUrl:t.accelerateUrl};else if(t.adapter)this.#r={remote:!1,driverAdapterFactory:t.adapter},vt("Using driver adapter: %O",t.adapter);else throw new Hn("Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.",t.clientVersion,Td);this.#n=r??Aa,this.config=t,this.logQueries=t.logQueries??!1,this.logLevel=t.logLevel??"error",this.logEmitter=t.logEmitter,this.datamodel=t.inlineSchema,this.tracingHelper=t.tracingHelper,t.enableDebugLogs&&(this.logLevel="debug"),this.logQueries&&(this.#o=n=>{this.logEmitter.emit("query",{...n,params:mt(n.params),target:"ClientEngine"})})}async#i(){switch(this.#e.type){case"disconnected":{let t=this.tracingHelper.runInChildSpan("connect",async()=>{let r,n;try{r=await this.#s(),n=await this.#a(r)}catch(o){throw this.#e={type:"disconnected"},n?.free(),await r?.disconnect(),o}let i={executor:r,queryCompiler:n};return this.#e={type:"connected",engine:i},i});return this.#e={type:"connecting",promise:t},await t}case"connecting":return await this.#e.promise;case"connected":return this.#e.engine;case"disconnecting":return await this.#e.promise,await this.#i()}}async#s(){return this.#r.remote?new Ir({clientVersion:this.config.clientVersion,accelerateUrl:this.#r.accelerateUrl,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,tracingHelper:this.tracingHelper,sqlCommenters:this.config.sqlCommenters}):await Sr.connect({driverAdapterFactory:this.#r.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#d(this.config.transactionOptions.isolationLevel)},onQuery:this.#o,provider:this.config.activeProvider,sqlCommenters:this.config.sqlCommenters})}async#a(t){let r=this.#t;r===void 0&&(r=await this.#n.loadQueryCompiler(this.config),this.#t=r);let{provider:n,connectionInfo:i}=await t.getConnectionInfo();try{return this.#u(()=>new r({datamodel:this.datamodel,provider:n,connectionInfo:i}),void 0,!1)}catch(o){throw this.#c(o)}}#c(t){if(t instanceof St)return t;try{let r=JSON.parse(t.message);return new Hn(r.message,this.config.clientVersion,r.error_code)}catch{return t}}#l(t,r){if(t instanceof Hn)return t;if(t.code==="GenericFailure"&&t.message?.startsWith("PANIC:"))return new St(Sa(this,t.message,r),this.config.clientVersion);if(t instanceof k)return new Jn(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion});try{let n=JSON.parse(t);return new va(`${n.message}
${n.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return t}}#p(t){return t instanceof St?t:typeof t.message=="string"&&typeof t.code=="string"?new Jn(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion}):typeof t.message=="string"?new va(t.message,{clientVersion:this.config.clientVersion}):t}#u(t,r,n=!0){let i=ka.PRISMA_WASM_PANIC_REGISTRY.set_message,o;global.PRISMA_WASM_PANIC_REGISTRY.set_message=s=>{o=s};try{return t()}finally{if(global.PRISMA_WASM_PANIC_REGISTRY.set_message=i,o)throw this.#t=void 0,n&&this.stop().catch(s=>vt("failed to disconnect:",s)),new St(Sa(this,o,r),this.config.clientVersion)}}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#i()}async stop(){switch(this.#e.type){case"disconnected":return;case"connecting":return await this.#e.promise,await this.stop();case"connected":{let t=this.#e.engine,r=this.tracingHelper.runInChildSpan("disconnect",async()=>{try{await t.executor.disconnect(),t.queryCompiler.free()}finally{this.#e={type:"disconnected"}}});return this.#e={type:"disconnecting",promise:r},await r}case"disconnecting":return await this.#e.promise}}version(){return"unknown"}async transaction(t,r,n){let i,{executor:o}=await this.#i();try{if(t==="start"){let s=n;i=await o.startTransaction({...s,isolationLevel:this.#d(s.isolationLevel)})}else if(t==="commit"){let s=n;await o.commitTransaction(s)}else if(t==="rollback"){let s=n;await o.rollbackTransaction(s)}else K(t,"Invalid transaction action.")}catch(s){throw this.#l(s)}return i?{id:i.id,payload:void 0}:void 0}async request(t,{interactiveTransaction:r,customDataProxyFetch:n}){vt("sending request");let{executor:i,queryCompiler:o}=await this.#i().catch(a=>{throw this.#l(a,JSON.stringify(t))}),s=this.#f(t,o);try{vt("query plan created",s);let a={},l=await i.execute({plan:s,model:t.modelName,operation:t.action,placeholderValues:a,transaction:r,batchIndex:void 0,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",modelName:t.modelName,action:t.action,query:t.query}});return vt("query plan executed"),{data:{[t.action]:l}}}catch(a){throw this.#l(a,JSON.stringify(t))}}async requestBatch(t,{transaction:r,customDataProxyFetch:n}){if(t.length===0)return[];let i=t[0].action,o=t[0].modelName,s=pa(t,r),{executor:a,queryCompiler:l}=await this.#i().catch(u=>{throw this.#l(u,JSON.stringify(s))}),c=this.#g(s,l);try{let u;r?.kind==="itx"&&(u=r.options);let p={};switch(c.type){case"multi":{if(r?.kind!=="itx"){let g=r?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:r.options.isolationLevel}:this.config.transactionOptions;u=await this.transaction("start",{},g)}let y=[],h=!1;for(let[g,x]of c.plans.entries())try{let S=await a.execute({plan:x,placeholderValues:p,model:t[g].modelName,operation:t[g].action,batchIndex:g,transaction:u,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",...t[g]}});y.push({data:{[t[g].action]:S}})}catch(S){y.push(S),h=!0;break}return u!==void 0&&r?.kind!=="itx"&&(h?await this.transaction("rollback",{},u):await this.transaction("commit",{},u)),y}case"compacted":{if(!t.every(g=>g.action===i&&g.modelName===o)){let g=t.map(S=>S.action).join(", "),x=t.map(S=>S.modelName).join(", ");throw new Error(`Internal error: All queries in a compacted batch must have the same action and model name, but received actions: [${g}] and model names: [${x}]. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.`)}if(o===void 0)throw new Error("Internal error: A compacted batch cannot contain raw queries. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.");let y=await a.execute({plan:c.plan,placeholderValues:p,model:o,operation:i,batchIndex:void 0,transaction:u,customFetch:n?.(globalThis.fetch),queryInfo:{type:"compacted",action:i,modelName:o,queries:t}});return jo(y,c).map(g=>({data:{[i]:g}}))}}}catch(u){throw this.#l(u,JSON.stringify(s))}}async apiKey(){let{executor:t}=await this.#i();return t.apiKey()}#f(t,r){if(Ca(t))return Ra(t);try{return this.#u(()=>this.#m({queries:[t],execute:()=>r.compile(JSON.stringify(t))}))}catch(n){throw this.#p(n)}}#g(t,r){let n=t.batch.filter(Ca);if(n.length===t.batch.length)return{type:"multi",plans:n.map(i=>Ra(i))};try{return this.#u(()=>this.#m({queries:t.batch,execute:()=>r.compileBatch(JSON.stringify(t))}))}catch(i){throw this.#p(i)}}#d(t){switch(t){case void 0:return;case"ReadUncommitted":return"READ UNCOMMITTED";case"ReadCommitted":return"READ COMMITTED";case"RepeatableRead":return"REPEATABLE READ";case"Serializable":return"SERIALIZABLE";case"Snapshot":return"SNAPSHOT";default:throw new Jn(`Inconsistent column data: Conversion failed: Invalid isolation level \`${t}\``,{code:"P2023",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:t}})}}#m({queries:t,execute:r}){return this.tracingHelper.runInChildSpan({name:"compile",attributes:{models:t.map(n=>n.modelName).filter(n=>n!==void 0),actions:t.map(n=>n.action)}},r)}};function Sa(e,t,r){return ya({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:"unknown",database:e.config.activeProvider,query:r})}function Ca(e){return e.action==="queryRaw"||e.action==="executeRaw"}function Ra(e){let t=e.query.arguments.query,{args:r,argTypes:n}=ca(e.query.arguments.parameters);return{type:e.action==="queryRaw"?"query":"execute",args:{type:"rawSql",sql:t,args:r,argTypes:n}}}function Oa(e){return new Ct(e)}var Ia=e=>({command:e});import{Sql as vd}from"@prisma/client-runtime-utils";var Fa=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);import{Decimal as Pd}from"@prisma/client-runtime-utils";function Be(e){try{return Ma(e,"fast")}catch{return Ma(e,"slow")}}function Ma(e,t){return JSON.stringify(e.map(r=>Da(r,t)))}function Da(e,t){if(Array.isArray(e))return e.map(r=>Da(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(Ee(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(Pd.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(Buffer.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Ad(e))return{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:Buffer.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?Na(e):e}function Ad(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function Na(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(_a);let t={};for(let r of Object.keys(e))t[r]=_a(e[r]);return t}function _a(e){return typeof e=="bigint"?e.toString():Na(e)}var Sd=/^(\s*alter\s)/i,La=I("prisma:client");function Wn(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&Sd.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var Gn=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(er(r))n=r.sql,i={values:Be(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[o,...s]=r;n=o,i={values:Be(s||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:Be(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:Be(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Fa(r),i={values:Be(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?La(`prisma.${e}(${n}, ${i.values})`):La(`prisma.${e}(${n})`),{query:n,parameters:i}},$a={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new vd(t,r)}},qa={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Kn(e){return function(r,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Va(r(s)):Va(r(s))}catch(a){return Promise.reject(a)}};return{get spec(){return n},then(s,a){return o().then(s,a)},catch(s){return o().catch(s)},finally(s){return o().finally(s)},requestTransaction(s){let a=o(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function Va(e){return typeof e.then=="function"?e:Promise.resolve(e)}var Ua={name:"@prisma/instrumentation-contract",version:"7.3.0",description:"Shared types and utilities for Prisma instrumentation",main:"dist/index.js",module:"dist/index.mjs",types:"dist/index.d.ts",exports:{".":{require:{types:"./dist/index.d.ts",default:"./dist/index.js"},import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"}}},license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation-contract"},bugs:"https://github.com/prisma/prisma/issues",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"vitest run"},files:["dist"],sideEffects:!1,devDependencies:{"@opentelemetry/api":"1.9.0"},peerDependencies:{"@opentelemetry/api":"^1.8"}};var Rd=Ua.version.split(".")[0],kd="PRISMA_INSTRUMENTATION",Od=`V${Rd}_PRISMA_INSTRUMENTATION`,ja=globalThis;function Ba(){let e=ja[Od];return e?.helper?e.helper:ja[kd]?.helper}var Id={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},zn=class{isEnabled(){return this.getTracingHelper().isEnabled()}getTraceParent(t){return this.getTracingHelper().getTraceParent(t)}dispatchEngineSpans(t){return this.getTracingHelper().dispatchEngineSpans(t)}getActiveContext(){return this.getTracingHelper().getActiveContext()}runInChildSpan(t,r){return this.getTracingHelper().runInChildSpan(t,r)}getTracingHelper(){return Ba()??Id}};function Qa(){return new zn}function Ha(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}function Ja(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}import{hasBatchIndex as Dd}from"@prisma/client-runtime-utils";function Wa(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(Zn(e.query.arguments)),t.push(Zn(e.query.selection)),t.join("")}function Zn(e){return`(${Object.keys(e).sort().map(r=>{let n=e[r];return typeof n=="object"&&n!==null?`(${r} ${Zn(n)})`:r}).join(" ")})`}var Fd={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function Yn(e){return Fd[e]}var Fr=class{constructor(t){this.options=t;this.batches={}}batches;tickActive=!1;request(t){let r=this.options.batchBy(t);return r?(this.batches[r]||(this.batches[r]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,i)=>{this.batches[r].push({request:t,resolve:n,reject:i})})):this.options.singleLoader(t)}dispatchBatches(){for(let t in this.batches){let r=this.batches[t];delete this.batches[t],r.length===1?this.options.singleLoader(r[0].request).then(n=>{n instanceof Error?r[0].reject(n):r[0].resolve(n)}).catch(n=>{r[0].reject(n)}):(r.sort((n,i)=>this.options.batchOrder(n.request,i.request)),this.options.batchLoader(r.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let i=0;i<r.length;i++)r[i].reject(n);else for(let i=0;i<r.length;i++){let o=n[i];o instanceof Error?r[i].reject(o):r[i].resolve(o)}}).catch(n=>{for(let i=0;i<r.length;i++)r[i].reject(n)}))}}get[Symbol.toStringTag](){return"DataLoader"}};import{Decimal as Md}from"@prisma/client-runtime-utils";function he(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new Md(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>he("bigint",r));case"bytes-array":return t.map(r=>he("bytes",r));case"decimal-array":return t.map(r=>he("decimal",r));case"datetime-array":return t.map(r=>he("datetime",r));case"date-array":return t.map(r=>he("date",r));case"time-array":return t.map(r=>he("time",r));default:return t}}function Xn(e){let t=[],r=_d(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],o={...r};for(let s=0;s<i.length;s++)o[e.columns[s]]=he(e.types[s],i[s]);t.push(o)}return t}function _d(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var Nd=I("prisma:client:request_handler"),_r=class{client;dataloader;logEmitter;constructor(t,r){this.logEmitter=r,this.client=t,this.dataloader=new Fr({batchLoader:Mo(async({requests:n,customDataProxyFetch:i})=>{let{transaction:o,otelParentCtx:s}=n[0],a=n.map(p=>p.protocolQuery),l=this.client._tracingHelper.getTraceParent(s),c=n.some(p=>Yn(p.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:l,transaction:Ld(o),containsWrite:c,customDataProxyFetch:i})).map((p,y)=>{if(p instanceof Error)return p;try{return this.mapQueryEngineResult(n[y],p)}catch(h){return h}})}),singleLoader:async n=>{let i=n.transaction?.kind==="itx"?Ga(n.transaction):void 0,o=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:i,isWrite:Yn(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,o)},batchBy:n=>n.transaction?.id?`transaction-${n.transaction.id}`:Wa(n.protocolQuery),batchOrder(n,i){return n.transaction?.kind==="batch"&&i.transaction?.kind==="batch"?n.transaction.index-i.transaction.index:0}})}async request(t){try{return await this.dataloader.request(t)}catch(r){let{clientMethod:n,callsite:i,transaction:o,args:s,modelName:a}=t;this.handleAndLogRequestError({error:r,clientMethod:n,callsite:i,transaction:o,args:s,modelName:a,globalOmit:t.globalOmit})}}mapQueryEngineResult({dataPath:t,unpacker:r},n){let i=n?.data,o=this.unpack(i,t,r);return process.env.PRISMA_CLIENT_GET_TIME?{data:o}:o}handleAndLogRequestError(t){try{this.handleRequestError(t)}catch(r){throw this.logEmitter&&this.logEmitter.emit("error",{message:r.message,target:t.clientMethod,timestamp:new Date}),r}}handleRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:o,modelName:s,globalOmit:a}){if(Nd(t),$d(t,i))throw t;if(t instanceof ei&&qd(t)){let c=Ka(t.meta);zt({args:o,errors:[c],callsite:n,errorFormat:this.client._errorFormat,originalMethod:r,clientVersion:this.client._clientVersion,globalOmit:a})}let l=t.message;if(n&&(l=jt({callsite:n,originalMethod:r,isPanic:t.isPanic,showColors:this.client._errorFormat==="pretty",message:l})),l=this.sanitizeMessage(l),t.code){let c=s?{modelName:s,...t.meta}:t.meta;throw new ei(l,{code:t.code,clientVersion:this.client._clientVersion,meta:c,batchRequestIdx:t.batchRequestIdx})}else{if(t.isPanic)throw new Mr(l,this.client._clientVersion);if(t instanceof ti)throw new ti(l,{clientVersion:this.client._clientVersion,batchRequestIdx:t.batchRequestIdx});if(t instanceof we)throw new we(l,this.client._clientVersion);if(t instanceof Mr)throw new Mr(l,this.client._clientVersion)}throw t.clientVersion=this.client._clientVersion,t}sanitizeMessage(t){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?xe(t):t}unpack(t,r,n){if(!t||(t.data&&(t=t.data),!t))return t;let i=Object.keys(t)[0],o=Object.values(t)[0],s=r.filter(c=>c!=="select"&&c!=="include"),a=on(o,s),l=i==="queryRaw"?Xn(a):ue(a);return n?n(l):l}get[Symbol.toStringTag](){return"RequestHandler"}};function Ld(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:Ga(e)};K(e,"Unknown transaction kind")}}function Ga(e){return{id:e.id,payload:e.payload}}function $d(e,t){return Dd(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function qd(e){return e.code==="P2009"||e.code==="P2012"}function Ka(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(Ka)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var ri=vr;var el=se(Wr());var v=class extends Error{constructor(t){super(t+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};rt(v,"PrismaClientConstructorValidationError");var za=["errorFormat","adapter","accelerateUrl","log","transactionOptions","omit","comments","__internal"],Za=["pretty","colorless","minimal"],Ya=["info","query","warn","error"],Vd={adapter:()=>{},accelerateUrl:e=>{if(e!==void 0){if(typeof e!="string")throw new v(`Invalid value ${JSON.stringify(e)} for "accelerateUrl" provided to PrismaClient constructor.`);if(e.trim().length===0)throw new v('"accelerateUrl" provided to PrismaClient constructor must be a non-empty string.')}},errorFormat:e=>{if(e){if(typeof e!="string")throw new v(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!Za.includes(e)){let t=Rt(e,Za);throw new v(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new v(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!Ya.includes(r)){let n=Rt(r,Ya);throw new v(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let o=["stdout","event"];if(!o.includes(i)){let s=Rt(i,o);throw new v(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${s}`)}}};if(r&&typeof r=="object")for(let[i,o]of Object.entries(r))if(n[i])n[i](o);else throw new v(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new v(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new v(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new v('"omit" option is expected to be an object.');if(e===null)throw new v('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let o=Bd(n,t.runtimeDataModel);if(!o){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[s,a]of Object.entries(i)){let l=o.fields.find(c=>c.name===s);if(!l){r.push({kind:"UnknownField",modelKey:n,fieldName:s});continue}if(l.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:s});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:s})}}if(r.length>0)throw new v(Qd(e,r))},comments:e=>{if(e!==void 0){if(!Array.isArray(e))throw new v(`Invalid value ${JSON.stringify(e)} for "comments" provided to PrismaClient constructor. Expected an array of SQL commenter plugins.`);for(let t=0;t<e.length;t++)if(typeof e[t]!="function")throw new v(`Invalid value at index ${t} for "comments" provided to PrismaClient constructor. Each plugin must be a function.`)}},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new v(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=Rt(r,t);throw new v(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function Ud(e){let t=e.adapter!==void 0,r=e.accelerateUrl!==void 0;if(t&&r)throw new v('The "adapter" and "accelerateUrl" options are mutually exclusive. Please provide only one of them.');if(!t&&!r)throw new v('Using engine type "client" requires either "adapter" or "accelerateUrl" to be provided to PrismaClient constructor.')}function tl(e,t){for(let[r,n]of Object.entries(e)){if(!za.includes(r)){let i=Rt(r,za);throw new v(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}Vd[r](n,t)}Ud(e)}function Rt(e,t){if(t.length===0||typeof e!="string")return"";let r=jd(e,t);return r?` Did you mean "${r}"?`:""}function jd(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,el.default)(e,i)}));r.sort((i,o)=>i.distance<o.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Bd(e,t){return Xa(t.models,e)??Xa(t.types,e)}function Xa(e,t){let r=Object.keys(e).find(n=>ee(n)===t);if(r)return e[r]}function Qd(e,t){let r=Oe(e);for(let o of t)switch(o.kind){case"UnknownModel":r.arguments.getField(o.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${o.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${o.modelKey}" does not have a field named "${o.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=Kt(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}import{hasBatchIndex as Hd}from"@prisma/client-runtime-utils";function rl(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,o=!1,s=0,a=()=>{o||(s++,s===e.length&&(o=!0,i?r(i):t(n)))},l=c=>{o||(o=!0,r(c))};for(let c=0;c<e.length;c++)e[c].then(u=>{n[c]=u,a()},u=>{if(!Hd(u)){l(u);return}u.batchRequestIdx===c?l(u):(i||(i=u),a())})})}var kt=I("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Kd={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},zd=Symbol.for("prisma.client.transaction.id"),Zd={id:0,nextId(){return++this.id}};function Yd(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Kn();constructor(n){if(!n)throw new we("`PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:\n\n```\nnew PrismaClient({\n  ...\n})\n```\n\nor\n\n```\nconstructor() {\n  super({ ... });\n}\n```\n          ",ri);e=n.__internal?.configOverride?.(e)??e,tl(n,e);let i=new Gd().on("error",()=>{});this._extensions=Ie.empty(),this._previewFeatures=e.previewFeatures,this._clientVersion=e.clientVersion??ri,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=Qa();let o;if(n.adapter){o=n.adapter;let s=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(o.provider!==s)throw new we(`The Driver Adapter \`${o.adapterName}\`, based on \`${o.provider}\`, is not compatible with the provider \`${s}\` specified in the Prisma schema.`,this._clientVersion)}try{let s=n??{},l=(s.__internal??{}).debug===!0;if(l&&I.enable("prisma:client"),s.errorFormat?this._errorFormat=s.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={enableDebugLogs:l,logLevel:s.log&&Ja(s.log),logQueries:s.log&&!!(typeof s.log=="string"?s.log==="query":s.log.find(c=>typeof c=="string"?c==="query":c.level==="query")),compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:s.transactionOptions?.maxWait??2e3,timeout:s.transactionOptions?.timeout??5e3,isolationLevel:s.transactionOptions?.isolationLevel},logEmitter:i,adapter:o,accelerateUrl:s.accelerateUrl,sqlCommenters:s.comments},this._accelerateEngineConfig=Object.create(this._engineConfig),this._accelerateEngineConfig.accelerateUtils={resolveDatasourceUrl:()=>{if(s.accelerateUrl)return s.accelerateUrl;throw new we(`\`accelerateUrl\` is required when using \`@prisma/extension-accelerate\`:

new PrismaClient({
  accelerateUrl: "prisma://...",
}).$extends(withAccelerate())
`,e.clientVersion)}},kt("clientVersion",e.clientVersion),this._engine=Oa(this._engineConfig),this._requestHandler=new _r(this,i),s.log)for(let c of s.log){let u=typeof c=="string"?c:c.emit==="stdout"?c.level:null;u&&this.$on(u,p=>{tt.log(`${tt.tags[u]??""}`,p.message||p.query)})}}catch(s){throw s.clientVersion=this._clientVersion,s}return this._appliedParent=pt(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{wi()}}$executeRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"executeRaw",args:o,transaction:n,clientMethod:i,argsMapper:Gn({clientMethod:i,activeProvider:a}),callsite:re(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0){let[s,a]=nl(n,i);return Wn(this._activeProvider,s.text,s.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(o,"$executeRaw",s,a)}throw new Ot("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(o=>(Wn(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(o,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new Ot(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Ia,callsite:re(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"queryRaw",args:o,transaction:n,clientMethod:i,argsMapper:Gn({clientMethod:i,activeProvider:a}),callsite:re(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(o,"$queryRaw",...nl(n,i));throw new Ot("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new Ot("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(o=>this.$queryRawInternal(o,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let o=Zd.nextId(),s=Ha(n.length),a=n.map((l,c)=>{if(l?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let u=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,p={kind:"batch",id:o,index:c,isolationLevel:u,lock:s};return l.requestTransaction?.(p)??l});return rl(a)}async _transactionWithCallback({callback:n,options:i}){let o={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",o,s),l;try{let c={kind:"itx",...a};l=await n(this._createItxClient(c)),await this._engine.transaction("commit",o,a)}catch(c){throw await this._engine.transaction("rollback",o,a).catch(()=>{}),c}return l}_createItxClient(n){return V(pt(V(To(this),[F("_appliedParent",()=>this._appliedParent._createItxClient(n)),F("_createPrismaPromise",()=>Kn(n)),F(zd,()=>n.id)])),[Fe(Co)])}$transaction(n,i){let o;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?o=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:o=()=>this._transactionWithCallback({callback:n,options:i}):o=()=>this._transactionWithArray({promises:n,options:i});let s={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(s,o)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??Kd,o={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},s={operation:{name:"operation",attributes:{method:o.action,model:o.model,name:o.model?`${o.model}.${o.action}`:o.action}}},a=async l=>{let{runInTransaction:c,args:u,...p}=l,y={...n,...p};u&&(y.args=i.middlewareArgsToRequestArgs(u)),n.transaction!==void 0&&c===!1&&delete y.transaction;let h=await Fo(this,y);return y.model?So({result:h,modelName:y.model,args:y.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):h};return this._tracingHelper.runInChildSpan(s.operation,()=>new Wd("prisma-client-request").runInAsyncScope(()=>a(o)))}async _executeRequest({args:n,clientMethod:i,dataPath:o,callsite:s,action:a,model:l,argsMapper:c,transaction:u,unpacker:p,otelParentCtx:y,customDataProxyFetch:h}){try{n=c?c(n):n;let g={name:"serialize"},x=this._tracingHelper.runInChildSpan(g,()=>Yr({modelName:l,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return I.enabled("prisma:client")&&(kt("Prisma Client call:"),kt(`prisma.${i}(${uo(n)})`),kt("Generated request:"),kt(JSON.stringify(x,null,2)+`
`)),u?.kind==="batch"&&await u.lock,this._requestHandler.request({protocolQuery:x,modelName:l,action:a,clientMethod:i,dataPath:o,callsite:s,args:n,extensions:this._extensions,transaction:u,unpacker:p,otelParentCtx:y,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:h})}catch(g){throw g.clientVersion=this._clientVersion,g}}_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$extends=Po}return t}function nl(e,t){return Xd(e)?[new Jd(e,t),$a]:[e,qa]}function Xd(e){return Array.isArray(e)&&Array.isArray(e.raw)}var em=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function tm(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!em.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}var rm=()=>globalThis.process?.release?.name==="node",nm=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,im=()=>!!globalThis.Deno,om=()=>typeof globalThis.Netlify=="object",sm=()=>typeof globalThis.EdgeRuntime=="object",am=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function lm(){return[[om,"netlify"],[sm,"edge-light"],[am,"workerd"],[im,"deno"],[nm,"bun"],[rm,"node"]].flatMap(r=>r[0]()?[r[1]]:[]).at(0)??""}var cm={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function um(){let e=lm();return{id:e,prettyName:cm[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}import{PrismaClientInitializationError as we,PrismaClientKnownRequestError as ei,PrismaClientRustPanicError as Mr,PrismaClientUnknownRequestError as ti,PrismaClientValidationError as Ot}from"@prisma/client-runtime-utils";import{empty as bA,join as xA,raw as EA,Sql as TA,sql as PA}from"@prisma/client-runtime-utils";import{AnyNull as vA,DbNull as SA,isAnyNull as CA,isDbNull as RA,isJsonNull as kA,JsonNull as OA,NullTypes as IA,ObjectEnumValue as FA}from"@prisma/client-runtime-utils";import{Decimal as _A}from"@prisma/client-runtime-utils";export{vA as AnyNull,qt as DMMF,SA as DbNull,I as Debug,_A as Decimal,si as Extensions,OA as JsonNull,IA as NullTypes,FA as ObjectEnumValue,we as PrismaClientInitializationError,ei as PrismaClientKnownRequestError,Mr as PrismaClientRustPanicError,ti as PrismaClientUnknownRequestError,Ot as PrismaClientValidationError,li as Public,TA as Sql,Fc as createParam,Jc as defineDmmfProperty,ue as deserializeJsonResponse,Xn as deserializeRawResult,fl as dmmfToRuntimeDataModel,bA as empty,Yd as getPrismaClient,um as getRuntime,CA as isAnyNull,RA as isDbNull,kA as isJsonNull,xA as join,tm as makeStrictEnum,Gc as makeTypedQueryFactory,EA as raw,Yr as serializeJsonQuery,zr as skip,PA as sqltag,Ii as warnOnce};
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=client.mjs.map
